# ğŸ¯ ìë°”/ì½”í‹€ë¦° ê°œë°œìë¥¼ ìœ„í•œ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ê°€ì´ë“œ

> **"OOPëŠ” ì›€ì§ì´ëŠ” ë¶€í’ˆì„ ìº¡ìŠí™”í•´ì„œ ì½”ë“œë¥¼ ì´í•´í•˜ê¸° ì‰½ê²Œ ë§Œë“¤ê³ , FPëŠ” ì›€ì§ì´ëŠ” ë¶€í’ˆ ìì²´ë¥¼ ì¤„ì—¬ì„œ ì½”ë“œë¥¼ ì´í•´í•˜ê¸° ì‰½ê²Œ ë§Œë“ ë‹¤."** â€” Michael Feathers

---

## ğŸ“š ëª©ì°¨

1. [ê¸°ì´ˆ ì²´ë ¥ ë‹¤ì§€ê¸°](#1-ê¸°ì´ˆ-ì²´ë ¥-ë‹¤ì§€ê¸°)
   - ìˆœìˆ˜ í•¨ìˆ˜
   - ë¶ˆë³€ì„±
   - ì°¸ì¡° íˆ¬ëª…ì„±
2. [í•¨ìˆ˜ë¥¼ ê°’ì²˜ëŸ¼ ë‹¤ë£¨ê¸°](#2-í•¨ìˆ˜ë¥¼-ê°’ì²˜ëŸ¼-ë‹¤ë£¨ê¸°)
   - ì¼ê¸‰ í•¨ìˆ˜
   - ê³ ì°¨ í•¨ìˆ˜
   - í´ë¡œì €
3. [í•¨ìˆ˜ ì¡°ë¦½í•˜ê¸°](#3-í•¨ìˆ˜-ì¡°ë¦½í•˜ê¸°)
   - í•©ì„±
   - ì»¤ë§ê³¼ ë¶€ë¶„ ì ìš©
4. [ì»¨í…Œì´ë„ˆ íŒ¨ë°€ë¦¬: í‘í„°ì—ì„œ ëª¨ë‚˜ë“œê¹Œì§€](#4-ì»¨í…Œì´ë„ˆ-íŒ¨ë°€ë¦¬-í‘í„°ì—ì„œ-ëª¨ë‚˜ë“œê¹Œì§€)
   - Functor (mapì˜ ì •ì²´)
   - Monad (flatMapì˜ ì •ì²´)
   - Applicative (ë…ë¦½ ê³„ì‚° ê²°í•©)
5. [ëŒ€ìˆ˜ì  êµ¬ì¡°](#5-ëŒ€ìˆ˜ì -êµ¬ì¡°)
   - ì„¸ë¯¸ê·¸ë£¹ê³¼ ëª¨ë…¸ì´ë“œ
6. [ëŒ€ìˆ˜ì  ë°ì´í„° íƒ€ì… (ADT)](#6-ëŒ€ìˆ˜ì -ë°ì´í„°-íƒ€ì…-adt)
   - ê³± íƒ€ì… (Product Type)
   - í•© íƒ€ì… (Sum Type)
7. [í‰ê°€ ì „ëµ](#7-í‰ê°€-ì „ëµ)
   - ì§€ì—° í‰ê°€
8. [ì‹¤ì „ì—ì„œ ì¡°ë¦½í•˜ê¸°](#8-ì‹¤ì „ì—ì„œ-ì¡°ë¦½í•˜ê¸°)

---

## 1. ê¸°ì´ˆ ì²´ë ¥ ë‹¤ì§€ê¸°

### 1.1 ìˆœìˆ˜ í•¨ìˆ˜ (Pure Function)

#### ğŸ­ ë¹„ìœ : ìíŒê¸°

ìíŒê¸°ë¥¼ ë– ì˜¬ë ¤ë³´ì„¸ìš”. ì²œ ì› ë„£ê³  A1 ë²„íŠ¼ ëˆ„ë¥´ë©´? ì½œë¼ ë‚˜ì˜µë‹ˆë‹¤. ë˜ ì²œ ì› ë„£ê³  A1 ëˆ„ë¥´ë©´? ë˜ ì½œë¼. ë°± ë²ˆì„ í•´ë„ ì½œë¼ì…ë‹ˆë‹¤. ì´ê²Œ ë°”ë¡œ ìˆœìˆ˜ í•¨ìˆ˜ì˜ í•µì‹¬ì…ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ìˆœìˆ˜ í•¨ìˆ˜ = ìíŒê¸°                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ì…ë ¥                              ì¶œë ¥                         â”‚
â”‚   â”€â”€â”€â”€                              â”€â”€â”€â”€                         â”‚
â”‚   â‚©1000 + A1 ë²„íŠ¼  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  ì½œë¼ (í•­ìƒ!)                â”‚
â”‚   â‚©1000 + A1 ë²„íŠ¼  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  ì½œë¼ (í•­ìƒ!)                â”‚
â”‚   â‚©1000 + A1 ë²„íŠ¼  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  ì½œë¼ (í•­ìƒ!)                â”‚
â”‚                                                                 â”‚
â”‚   âœ“ ê°™ì€ ì…ë ¥ = ê°™ì€ ì¶œë ¥ (ê²°ì •ì )                              â”‚
â”‚   âœ“ ë¶€ì‘ìš© ì—†ìŒ (ì™¸ë¶€ ì„¸ê³„ë¥¼ ê±´ë“œë¦¬ì§€ ì•ŠìŒ)                     â”‚
â”‚   âœ“ ì™¸ë¶€ ìƒíƒœì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ                                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### âŒ ìˆœìˆ˜í•˜ì§€ ì•Šì€ í•¨ìˆ˜

```java
// src/main/java/com/example/fp/ImpureExample.java

public class ImpureExample {
    private int counter = 0;  // ì™¸ë¶€ ìƒíƒœ!
    
    // âŒ ë¶ˆìˆœ: ì™¸ë¶€ ìƒíƒœë¥¼ ì½ê³  ë³€ê²½í•¨
    public int addAndCount(int x) {
        counter++;                    // ë¶€ì‘ìš©: ìƒíƒœ ë³€ê²½
        System.out.println("í˜¸ì¶œë¨"); // ë¶€ì‘ìš©: I/O ë°œìƒ
        return x + counter;           // ê²°ê³¼ê°€ counterì— ë”°ë¼ ë‹¬ë¼ì§
    }
}
```

í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ê²°ê³¼ê°€ ë‹¬ë¼ì§‘ë‹ˆë‹¤. ì²« ë²ˆì§¸ `addAndCount(5)`ëŠ” 6ì„ ë°˜í™˜í•˜ê³ , ë‘ ë²ˆì§¸ëŠ” 7ì„ ë°˜í™˜í•´ìš”. í…ŒìŠ¤íŠ¸í•˜ê¸° ê³¨ì¹˜ ì•„í”„ì£ .

#### âœ… ìˆœìˆ˜ í•¨ìˆ˜

```java
// src/main/java/com/example/fp/PureExample.java

public class PureExample {
    
    // âœ… ìˆœìˆ˜: ê°™ì€ ì…ë ¥ì—” í•­ìƒ ê°™ì€ ì¶œë ¥
    public static int add(int a, int b) {
        return a + b;  // ë¶€ì‘ìš© ì—†ìŒ, ê²°ì •ì 
    }
    
    // âœ… ìˆœìˆ˜: ë³€í™˜ë§Œ í•˜ê³  ì›ë³¸ì€ ê±´ë“œë¦¬ì§€ ì•ŠìŒ
    public static List<Integer> doubleAll(List<Integer> numbers) {
        return numbers.stream()
                      .map(n -> n * 2)
                      .toList();  // ìƒˆë¡œìš´ ë¦¬ìŠ¤íŠ¸ ë°˜í™˜
    }
}
```

#### ì½”í‹€ë¦° ë²„ì „

```kotlin
// src/main/kotlin/com/example/fp/PureFunctions.kt

// âœ… ìˆœìˆ˜ í•¨ìˆ˜ - í‘œí˜„ì‹ ë³¸ë¬¸ ì‚¬ìš©
fun add(a: Int, b: Int): Int = a + b

// âœ… ìˆœìˆ˜ ë³€í™˜ - ì›ë³¸ ë¦¬ìŠ¤íŠ¸ ê·¸ëŒ€ë¡œ
fun doubleAll(numbers: List<Int>): List<Int> = numbers.map { it * 2 }
```

#### ğŸ§ª ìˆœìˆ˜ í•¨ìˆ˜ íŒë³„ ì²´í¬ë¦¬ìŠ¤íŠ¸

| ì§ˆë¬¸ | ìˆœìˆ˜í•˜ë ¤ë©´? |
|------|-------------|
| ê°™ì€ ì…ë ¥ â†’ ê°™ì€ ì¶œë ¥? | ë°˜ë“œì‹œ âœ… |
| ì™¸ë¶€ ìƒíƒœ ë³€ê²½? | ë°˜ë“œì‹œ âŒ |
| ì™¸ë¶€ ìƒíƒœì— ì˜ì¡´? | ë°˜ë“œì‹œ âŒ |
| I/O ìˆ˜í–‰? | ë°˜ë“œì‹œ âŒ |

#### ğŸ’¡ ì‹¤ì „ ì˜ˆì œ: ìˆ™ë°• ìš”ê¸ˆ ê³„ì‚°

ì´ì»¤ë¨¸ìŠ¤ë§Œì´ ì•„ë‹ˆë¼ ì—¬í–‰/ìˆ™ë°• ë„ë©”ì¸ì—ì„œë„ ìˆœìˆ˜ í•¨ìˆ˜ëŠ” í•µì‹¬ì…ë‹ˆë‹¤.

```java
// ìˆœìˆ˜ í•¨ìˆ˜: ìˆ™ë°• ìš”ê¸ˆ ê³„ì‚°
public record RoomPricing(BigDecimal basePrice, BigDecimal weekendSurcharge) {

    // âœ… ìˆœìˆ˜: ê°™ì€ ì…ë ¥(ì²´í¬ì¸/ì•„ì›ƒ, ë£¸íƒ€ì…)ì´ë©´ í•­ìƒ ê°™ì€ ê°€ê²©
    public BigDecimal calculateTotal(
            LocalDate checkIn,
            LocalDate checkOut,
            int guestCount
    ) {
        long nights = ChronoUnit.DAYS.between(checkIn, checkOut);
        long weekendNights = countWeekendNights(checkIn, checkOut);

        return basePrice.multiply(BigDecimal.valueOf(nights))
                .add(weekendSurcharge.multiply(BigDecimal.valueOf(weekendNights)))
                .add(extraGuestFee(guestCount));
    }

    // âœ… ìˆœìˆ˜: ë‚ ì§œë§Œ ë³´ê³  ì£¼ë§ ìˆ˜ ê³„ì‚°
    private long countWeekendNights(LocalDate start, LocalDate end) {
        return start.datesUntil(end)
                .filter(d -> d.getDayOfWeek() == DayOfWeek.FRIDAY
                          || d.getDayOfWeek() == DayOfWeek.SATURDAY)
                .count();
    }
}

// í…ŒìŠ¤íŠ¸ê°€ ì‰¬ì›€! ëª©(mock) ì—†ì´ ê·¸ëƒ¥ í˜¸ì¶œí•˜ë©´ ë¨
@Test
void ì£¼ë§_í¬í•¨_ìš”ê¸ˆ_ê³„ì‚°() {
    var pricing = new RoomPricing(
        new BigDecimal("100000"),  // ê¸°ë³¸ê°€
        new BigDecimal("20000")    // ì£¼ë§ ì¶”ê°€
    );

    // ê¸ˆìš”ì¼~ì¼ìš”ì¼ (2ë°•, ì£¼ë§ 2ì¼)
    var total = pricing.calculateTotal(
        LocalDate.of(2024, 1, 5),  // ê¸ˆìš”ì¼
        LocalDate.of(2024, 1, 7),  // ì¼ìš”ì¼
        2
    );

    assertEquals(new BigDecimal("240000"), total);  // 100000*2 + 20000*2
}
```

**ê·¸ëŸ°ë° í˜„ì‹¤ì—ì„œ I/O ì—†ì´ ì–´ë–»ê²Œ í”„ë¡œê·¸ë¨ì„ ì§œìš”?**

ì¢‹ì€ ì§ˆë¬¸ì…ë‹ˆë‹¤. í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì€ "ëª¨ë“  ì½”ë“œë¥¼ ìˆœìˆ˜í•˜ê²Œ" ë§Œë“¤ë¼ëŠ” ê²Œ ì•„ë‹™ë‹ˆë‹¤. **ìˆœìˆ˜í•œ ë¶€ë¶„ê³¼ ë¶ˆìˆœí•œ ë¶€ë¶„ì„ ëª…í™•íˆ ë¶„ë¦¬**í•˜ë¼ëŠ” ê²ë‹ˆë‹¤. ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ìˆœìˆ˜í•˜ê²Œ, I/OëŠ” ê°€ì¥ìë¦¬(edge)ì—ì„œ ì²˜ë¦¬í•˜ëŠ” ê±°ì£ .

---

### 1.2 ë¶ˆë³€ì„± (Immutability)

#### ğŸ­ ë¹„ìœ : Gitê³¼ SVN

ì˜ˆì „ SVN ì“¸ ë•Œ ê¸°ì–µë‚˜ì„¸ìš”? ëˆ„ê°€ íŒŒì¼ ìˆ˜ì •í•˜ë©´ ì´ì „ ë‚´ìš©ì´ ê·¸ëƒ¥ ì‚¬ë¼ì¡Œì£ . ë°˜ë©´ Gitì€ ëª¨ë“  ì»¤ë°‹ì´ íˆìŠ¤í† ë¦¬ë¡œ ë‚¨ìŠµë‹ˆë‹¤. ë¶ˆë³€ì„±ì´ ë°”ë¡œ ì´ Git ë°©ì‹ì…ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ë¶ˆë³€ì„± = Git íˆìŠ¤í† ë¦¬                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ê°€ë³€ ì„¸ê³„ (SVN ìŠ¤íƒ€ì¼):                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”                                                      â”‚
â”‚   â”‚ v1.0 â”‚ â†â”€â”€ ëˆ„ê°€ ë®ì–´ì”€. ì´ì „ ë‚´ìš© ë‚ ì•„ê°!                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”˜                                                      â”‚
â”‚                                                                 â”‚
â”‚   ë¶ˆë³€ ì„¸ê³„ (Git ìŠ¤íƒ€ì¼):                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚   â”‚ v1.0 â”‚â”€â”€â”€â†’â”‚ v1.1 â”‚â”€â”€â”€â†’â”‚ v1.2 â”‚â”€â”€â”€â†’â”‚ v1.3 â”‚                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚      â†‘           â†‘           â†‘           â†‘                      â”‚
â”‚   ëª¨ë“  ë²„ì „ì´ ì‚´ì•„ìˆìŒ! ì–¸ì œë“  ë˜ëŒë¦´ ìˆ˜ ìˆìŒ                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Java: Recordë¡œ ë¶ˆë³€ ê°ì²´ ë§Œë“¤ê¸° (Java 16+)

```java
// src/main/java/com/example/fp/model/User.java

// âœ… ì„¤ê³„ ìì²´ê°€ ë¶ˆë³€ - ëª¨ë“  í•„ë“œê°€ final
public record User(
    Long id,
    String name,
    String email,
    List<String> roles  // âš ï¸ ì£¼ì˜: List ìì²´ëŠ” ê°€ë³€ì¼ ìˆ˜ ìˆìŒ!
) {
    // ì»´íŒ©íŠ¸ ìƒì„±ìì—ì„œ ë°©ì–´ì  ë³µì‚¬
    public User {
        roles = List.copyOf(roles);  // ì§„ì§œ ë¶ˆë³€ìœ¼ë¡œ ë§Œë“¤ê¸°
    }
    
    // "ì„¸í„°" ëŒ€ì‹  ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜
    public User withName(String newName) {
        return new User(id, newName, email, roles);
    }
    
    public User addRole(String role) {
        var newRoles = new ArrayList<>(roles);
        newRoles.add(role);
        return new User(id, name, email, newRoles);
    }
}
```

#### ì½”í‹€ë¦°: data class

ì½”í‹€ë¦°ì´ ì´ ë¶€ë¶„ì—ì„œ í›¨ì”¬ í¸í•©ë‹ˆë‹¤.

```kotlin
// src/main/kotlin/com/example/fp/model/User.kt

data class User(
    val id: Long,
    val name: String,
    val email: String,
    val roles: List<String>  // ì½”í‹€ë¦° ListëŠ” ê¸°ë³¸ì´ ë¶ˆë³€
) {
    // copy()ë¡œ "ìˆ˜ì •ëœ ë³µì‚¬ë³¸" ë§Œë“¤ê¸°
    fun withName(newName: String): User = copy(name = newName)
    
    fun addRole(role: String): User = copy(roles = roles + role)
}

// ì‚¬ìš© ì˜ˆì‹œ
fun main() {
    val user1 = User(1, "ê¹€ì² ìˆ˜", "kim@email.com", listOf("USER"))
    val user2 = user1.addRole("ADMIN")  // user1ì€ ê·¸ëŒ€ë¡œ!
    
    println(user1.roles)  // [USER]
    println(user2.roles)  // [USER, ADMIN]
}
```

#### ğŸ¯ ì™œ ë¶ˆë³€ì„±ì´ ì¤‘ìš”í•œê°€?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ë¶ˆë³€ì„±ì˜ ì´ì                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. ìŠ¤ë ˆë“œ ì•ˆì „ì„±                                               â”‚
â”‚     ë½ í•„ìš” ì—†ìŒ - ë°ì´í„°ê°€ ì•ˆ ë°”ë€Œë‹ˆê¹Œ!                        â”‚
â”‚     ë™ì‹œì„± ë²„ê·¸ ì›ì²œ ì°¨ë‹¨                                       â”‚
â”‚                                                                 â”‚
â”‚  2. ì˜ˆì¸¡ ê°€ëŠ¥ì„±                                                 â”‚
â”‚     "ì´ê±° ëˆ„ê°€ ë°”ê¿¨ì§€?" ë””ë²„ê¹… ì§€ì˜¥ íƒˆì¶œ                        â”‚
â”‚     í•œë²ˆ ë§Œë“  ê°ì²´ëŠ” ì˜ì›íˆ ê·¸ ìƒíƒœ                             â”‚
â”‚                                                                 â”‚
â”‚  3. í…ŒìŠ¤íŠ¸ ìš©ì´ì„±                                               â”‚
â”‚     ê°™ì€ ì…ë ¥ = ê°™ì€ ì¶œë ¥, í•­ìƒ                                 â”‚
â”‚     ëª©(mock) ì„¤ì • ë‹¨ìˆœí•´ì§                                      â”‚
â”‚                                                                 â”‚
â”‚  4. ìºì‹œ ì¹œí™”ì                                                  â”‚
â”‚     ì•ˆì‹¬í•˜ê³  ìºì‹œ ê°€ëŠ¥ - ê°’ì´ ë³€í•  ì¼ ì—†ìŒ                      â”‚
â”‚                                                                 â”‚
â”‚  5. ì‹¤í–‰ ì·¨ì†Œ/ë˜ëŒë¦¬ê¸° ì‰¬ì›€                                     â”‚
â”‚     ì´ì „ ë²„ì „ ê·¸ëƒ¥ ë“¤ê³  ìˆìœ¼ë©´ ë¨                               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 1.3 ì°¸ì¡° íˆ¬ëª…ì„± (Referential Transparency)

#### ğŸ­ ë¹„ìœ : ìˆ˜í•™ ì‹œê°„ì˜ ëŒ€ì…

ì¤‘í•™êµ ìˆ˜í•™ ì‹œê°„ ê¸°ì–µë‚˜ì„¸ìš”? x = 5ë¼ê³  í•˜ë©´, ì–´ë””ì„œë“  xë¥¼ 5ë¡œ ë°”ê¿” ì¨ë„ ê²°ê³¼ê°€ ê°™ì•˜ì£ . ì´ê²Œ ì°¸ì¡° íˆ¬ëª…ì„±ì…ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                ì°¸ì¡° íˆ¬ëª…ì„± = ìˆ˜í•™ì  ëŒ€ì…                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ìˆ˜í•™ì—ì„œ x = 5ë©´, ì–´ë””ë“  x ëŒ€ì‹  5 ì¨ë„ ë¨:                    â”‚
â”‚                                                                 â”‚
â”‚   x + x = 5 + 5 = 10  âœ… í•­ìƒ ë§ìŒ!                            â”‚
â”‚                                                                 â”‚
â”‚   FPì—ì„œ add(2,3) = 5ë©´, ì–´ë””ë“  add(2,3) ëŒ€ì‹  5 ì¨ë„ ë¨:       â”‚
â”‚                                                                 â”‚
â”‚   add(2,3) + add(2,3) = 5 + 5 = 10  âœ… í•­ìƒ ë§ìŒ!              â”‚
â”‚                                                                 â”‚
â”‚   ì´ê²Œ ê°€ëŠ¥í•œ ê±´ í•¨ìˆ˜ê°€ ìˆœìˆ˜í•  ë•Œë§Œ!                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// âœ… ì°¸ì¡° íˆ¬ëª…
int result = add(2, 3) + add(2, 3);  // 5 + 5ë¡œ ëŒ€ì²´ ê°€ëŠ¥

// âŒ ì°¸ì¡° íˆ¬ëª…í•˜ì§€ ì•ŠìŒ
int result = random.nextInt() + random.nextInt();  // ëŒ€ì²´ ë¶ˆê°€!
```

ì°¸ì¡° íˆ¬ëª…ì„±ì´ ì™œ ì¤‘ìš”í•˜ëƒë©´, ì»´íŒŒì¼ëŸ¬ê°€ ìµœì í™”í•˜ê¸° ì¢‹ê³ , ê°œë°œìê°€ ì½”ë“œë¥¼ ì½ì„ ë•Œ ë¨¸ë¦¿ì†ì—ì„œ "ì´ê±´ ê·¸ëƒ¥ 5ë„¤" í•˜ê³  ë„˜ì–´ê°ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

---

### 1.4 ì„¸ ê°œë…ì˜ ê´€ê³„ ì •ë¦¬

ì§€ê¸ˆê¹Œì§€ ë°°ìš´ ë¶ˆë³€ì„±, ìˆœìˆ˜ í•¨ìˆ˜, ì°¸ì¡° íˆ¬ëª…ì„±. ì´ ì„¸ ê°€ì§€ê°€ ì–´ë–»ê²Œ ì—°ê²°ë˜ëŠ”ì§€ ì •ë¦¬í•´ë´…ì‹œë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FP ê¸°ì´ˆ ê°œë… ê´€ê³„ë„                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ë¶ˆë³€ì„± â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ ìˆœìˆ˜í•¨ìˆ˜ â”€â”€â”€â”€â”€â”€â”€â”€â†’ ì°¸ì¡°íˆ¬ëª…ì„±          â”‚
â”‚   (ì„ í–‰ì¡°ê±´)            (í•µì‹¬ íŠ¹ì„±)        (ê²°ê³¼ì  ì„±ì§ˆ)        â”‚
â”‚                                                                 â”‚
â”‚   ê´€ê³„ ì„¤ëª…:                                                    â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚   â€¢ ë¶ˆë³€ì„± â†’ ìˆœìˆ˜í•¨ìˆ˜ ê°€ëŠ¥: í•„ìš”ì¡°ê±´ (ë¶ˆë³€ ì—†ì´ ìˆœìˆ˜ ì–´ë ¤ì›€)   â”‚
â”‚   â€¢ ìˆœìˆ˜í•¨ìˆ˜ â†’ ì°¸ì¡°íˆ¬ëª…ì„±: ì¶©ë¶„ì¡°ê±´ (ìˆœìˆ˜í•˜ë©´ ì°¸ì¡°íˆ¬ëª…)        â”‚
â”‚   â€¢ ì°¸ì¡°íˆ¬ëª… â‰ > ìˆœìˆ˜í•¨ìˆ˜: ë©”ëª¨ì´ì œì´ì…˜ ë“± ì˜ˆì™¸ ì¡´ì¬            â”‚
â”‚                                                                 â”‚
â”‚   ë²¤ë‹¤ì´ì–´ê·¸ë¨:                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚   â”‚ ì°¸ì¡°íˆ¬ëª…í•œ í‘œí˜„ì‹ë“¤                          â”‚               â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚               â”‚
â”‚   â”‚  â”‚ ìˆœìˆ˜ í•¨ìˆ˜ë“¤                        â”‚      â”‚               â”‚
â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚      â”‚               â”‚
â”‚   â”‚  â”‚  â”‚ ë¶ˆë³€ ë°ì´í„°ë§Œ ì‚¬ìš©í•˜ëŠ”   â”‚      â”‚      â”‚               â”‚
â”‚   â”‚  â”‚  â”‚ ìˆœìˆ˜ í•¨ìˆ˜ë“¤ (ì´ìƒì )    â”‚      â”‚      â”‚               â”‚
â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚      â”‚               â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚               â”‚
â”‚   â”‚     â†‘ ë©”ëª¨ì´ì œì´ì…˜ëœ í•¨ìˆ˜ (ìˆœìˆ˜ëŠ” ì•„ë‹ˆì§€ë§Œ  â”‚               â”‚
â”‚   â”‚       ì°¸ì¡°íˆ¬ëª…í•  ìˆ˜ ìˆìŒ)                    â”‚               â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ§­ ì‹¤ì „ íŒë³„ Decision Tree

ì½”ë“œê°€ FP ì›ì¹™ì„ ë”°ë¥´ëŠ”ì§€ íŒë³„í•˜ëŠ” ë°©ë²•:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FP ì›ì¹™ íŒë³„ íë¦„ë„                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Q1: ì´ í•¨ìˆ˜ê°€ ì™¸ë¶€ ìƒíƒœë¥¼ ì½ê±°ë‚˜ ë³€ê²½í•˜ë‚˜ìš”?                   â”‚
â”‚      â”‚                                                          â”‚
â”‚      â”œâ”€â”€ YES â†’ âŒ ìˆœìˆ˜í•˜ì§€ ì•ŠìŒ                                â”‚
â”‚      â”‚          (DB, íŒŒì¼, ì „ì—­ ë³€ìˆ˜, ì‹œê°„, ë‚œìˆ˜ ë“±)            â”‚
â”‚      â”‚                                                          â”‚
â”‚      â””â”€â”€ NO â†’ Q2: ê°™ì€ ì¸ìë¡œ í˜¸ì¶œí•˜ë©´ í•­ìƒ ê°™ì€ ê²°ê³¼?         â”‚
â”‚                    â”‚                                            â”‚
â”‚                    â”œâ”€â”€ NO â†’ âŒ ìˆœìˆ˜í•˜ì§€ ì•ŠìŒ                   â”‚
â”‚                    â”‚                                            â”‚
â”‚                    â””â”€â”€ YES â†’ Q3: ë¶€ì‘ìš©(Side Effect) ìˆë‚˜ìš”?   â”‚
â”‚                                   â”‚                             â”‚
â”‚                                   â”œâ”€â”€ YES â†’ âŒ ìˆœìˆ˜í•˜ì§€ ì•ŠìŒ   â”‚
â”‚                                   â”‚         (ë¡œê¹…, ì˜ˆì™¸ ë“±)     â”‚
â”‚                                   â”‚                             â”‚
â”‚                                   â””â”€â”€ NO â†’ âœ… ìˆœìˆ˜ í•¨ìˆ˜!       â”‚
â”‚                                                                 â”‚
â”‚  ìˆœìˆ˜ í•¨ìˆ˜ë©´ â†’ ìë™ìœ¼ë¡œ ì°¸ì¡° íˆ¬ëª…!                             â”‚
â”‚  (í‘œí˜„ì‹ì„ ê·¸ ê²°ê³¼ê°’ìœ¼ë¡œ ëŒ€ì²´ ê°€ëŠ¥)                             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ’¡ ì‹¤ì „ ì˜ˆì œ

```java
// âœ… ë¶ˆë³€ + ìˆœìˆ˜ + ì°¸ì¡°íˆ¬ëª… (ì´ìƒì )
record Money(BigDecimal amount, Currency currency) {
    public Money add(Money other) {
        if (!this.currency.equals(other.currency)) {
            throw new IllegalArgumentException("í†µí™” ë¶ˆì¼ì¹˜");
        }
        return new Money(this.amount.add(other.amount), this.currency);
    }
}

// âš ï¸ ì°¸ì¡°íˆ¬ëª…í•˜ì§€ë§Œ ì—„ë°€íˆ ìˆœìˆ˜í•˜ì§€ ì•Šì€ ê²½ìš° (ë©”ëª¨ì´ì œì´ì…˜)
class FibonacciMemoized {
    private final Map<Integer, Long> cache = new HashMap<>();  // ë‚´ë¶€ ìƒíƒœ!

    public long fib(int n) {
        return cache.computeIfAbsent(n, k ->
            k <= 1 ? k : fib(k - 1) + fib(k - 2)
        );
    }
    // ê°™ì€ nì— ëŒ€í•´ í•­ìƒ ê°™ì€ ê²°ê³¼ â†’ ì°¸ì¡°íˆ¬ëª…
    // í•˜ì§€ë§Œ cache ë³€ê²½ â†’ ì—„ë°€íˆ ë¶ˆìˆœ
    // ì‹¤ìš©ì ìœ¼ë¡œëŠ” "ê´€ì°° ê°€ëŠ¥í•œ ìˆœìˆ˜ì„±" ì¸ì •
}

// âŒ ë¶ˆìˆœ + ì°¸ì¡°íˆ¬ëª…í•˜ì§€ ì•ŠìŒ
class Counter {
    private int count = 0;

    public int increment() {  // í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ë‹¤ë¥¸ ê°’!
        return ++count;
    }
}
```

### ğŸ“ 1ì¥ í€´ì¦ˆ

**í€´ì¦ˆ 1.1 (ì´ˆê¸‰)**: ë‹¤ìŒ ì¤‘ ìˆœìˆ˜ í•¨ìˆ˜ë¥¼ ëª¨ë‘ ê³ ë¥´ì„¸ìš”.

```java
// A
int add(int a, int b) { return a + b; }

// B
int getCount() { return this.count++; }

// C
List<Integer> doubled(List<Integer> nums) {
    nums.replaceAll(n -> n * 2);
    return nums;
}

// D
String format(LocalDate date) {
    return date.format(DateTimeFormatter.ISO_DATE);
}

// E
int random() { return new Random().nextInt(); }
```

**í€´ì¦ˆ 1.2 (ì¤‘ê¸‰)**: ë‹¤ìŒ ì½”ë“œê°€ ì°¸ì¡° íˆ¬ëª…í•œì§€ íŒë³„í•˜ê³  ì´ìœ ë¥¼ ì„¤ëª…í•˜ì„¸ìš”.

```java
class Cache {
    private Map<String, Integer> cache = new HashMap<>();

    int compute(String key) {
        return cache.computeIfAbsent(key, k -> k.length() * 2);
    }
}
```

**í€´ì¦ˆ 1.3 (ê³ ê¸‰)**: ë¶ˆë³€ì„±ê³¼ ìˆœìˆ˜ í•¨ìˆ˜ì˜ ê´€ê³„ì— ëŒ€í•´ ì„¤ëª…í•˜ì„¸ìš”. ë¶ˆë³€ ë°ì´í„° ì—†ì´ ìˆœìˆ˜ í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‚˜ìš”?

> ì •ë‹µì€ ë¬¸ì„œ ë [í€´ì¦ˆ ì •ë‹µ](#í€´ì¦ˆ-ì •ë‹µ) ì„¹ì…˜ì—ì„œ í™•ì¸í•˜ì„¸ìš”.

---

## 2. í•¨ìˆ˜ë¥¼ ê°’ì²˜ëŸ¼ ë‹¤ë£¨ê¸°

### 2.1 ì¼ê¸‰ í•¨ìˆ˜ (First-Class Function)

#### ğŸ­ ë¹„ìœ : í•¨ìˆ˜ë„ ê·¸ëƒ¥ ê°’ì´ë‹¤

ìë°”ì—ì„œ ì •ìˆ˜(int)ë¡œ ë­˜ í•  ìˆ˜ ìˆë‚˜ìš”? ë³€ìˆ˜ì— ì €ì¥í•˜ê³ , ë©”ì„œë“œì— ë„˜ê¸°ê³ , ë©”ì„œë“œì—ì„œ ë°˜í™˜í•˜ê³ , ì»¬ë ‰ì…˜ì— ë‹´ì„ ìˆ˜ ìˆì£ . **ì¼ê¸‰ í•¨ìˆ˜ë€ í•¨ìˆ˜ë„ ì´ ëª¨ë“  ê±¸ í•  ìˆ˜ ìˆë‹¤**ëŠ” ëœ»ì…ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ì¼ê¸‰ = ê°’ì²˜ëŸ¼ ë‹¤ë£° ìˆ˜ ìˆìŒ                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ì •ìˆ˜ë¡œ í•  ìˆ˜ ìˆëŠ” ê²ƒ:                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚ â€¢ ë³€ìˆ˜ì— ì €ì¥:      int x = 5;                      â”‚       â”‚
â”‚   â”‚ â€¢ ì¸ìë¡œ ì „ë‹¬:      process(x);                     â”‚       â”‚
â”‚   â”‚ â€¢ ë°˜í™˜ê°’ìœ¼ë¡œ ì‚¬ìš©:  return x;                       â”‚       â”‚
â”‚   â”‚ â€¢ ì»¬ë ‰ì…˜ì— ë‹´ê¸°:    List<Integer>                   â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                 â”‚
â”‚   ì¼ê¸‰ í•¨ìˆ˜ë„ ì´ê²Œ ë‹¤ ë¨!                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚ â€¢ ë³€ìˆ˜ì— ì €ì¥:      Function<A,B> f = x -> x*2;     â”‚       â”‚
â”‚   â”‚ â€¢ ì¸ìë¡œ ì „ë‹¬:      process(f);                     â”‚       â”‚
â”‚   â”‚ â€¢ ë°˜í™˜ê°’ìœ¼ë¡œ ì‚¬ìš©:  return f;                       â”‚       â”‚
â”‚   â”‚ â€¢ ì»¬ë ‰ì…˜ì— ë‹´ê¸°:    List<Function<A,B>>             â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// src/main/java/com/example/fp/FirstClassDemo.java

import java.util.function.*;

public class FirstClassDemo {
    
    // 1ï¸âƒ£ í•¨ìˆ˜ë¥¼ ë³€ìˆ˜ì— ì €ì¥
    Function<Integer, Integer> double_ = x -> x * 2;
    
    // 2ï¸âƒ£ í•¨ìˆ˜ë¥¼ ì»¬ë ‰ì…˜ì— ë‹´ê¸°
    List<Function<Integer, Integer>> operations = List.of(
        x -> x + 1,
        x -> x * 2,
        x -> x * x
    );
    
    // 3ï¸âƒ£ í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ë°›ê¸°
    public int apply(int value, Function<Integer, Integer> fn) {
        return fn.apply(value);
    }
    
    // 4ï¸âƒ£ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ê¸°
    public Function<Integer, Integer> multiplier(int factor) {
        return x -> x * factor;  // í•¨ìˆ˜ë¥¼ ë°˜í™˜!
    }
}
```

#### 2.1.1 ëŒë‹¤ í‘œí˜„ì‹ ì‹¬ì¸µ ì´í•´

ëŒë‹¤ë¥¼ ì²˜ìŒ ë³¼ ë•Œ "ì´ê²Œ ë­ì§€?" ì‹¶ì£ . í•µì‹¬ì€ **"ë‚˜ì¤‘ì— ì‹¤í–‰ë  ì½”ë“œ ì¡°ê°"ì„ ê°’ì²˜ëŸ¼ ì „ë‹¬**í•˜ëŠ” ê²ë‹ˆë‹¤.

```java
// ğŸ”‘ í•µì‹¬ í†µì°°: ëŒë‹¤ëŠ” ì •ì˜ ì‹œì ì— ì‹¤í–‰ë˜ì§€ ì•ŠìŒ!

// ë„˜ê¸°ëŠ” ìª½ (Caller): "ì´ ì½”ë“œ ì¡°ê°ì„ ë‚˜ì¤‘ì— ì‹¤í–‰í•´ì¤˜"
List<Integer> result = numbers.stream()
    .filter(n -> n > 3)          // ì—¬ê¸°ì„œ ì‹¤í–‰ ì•ˆ ë¨!
    .map(n -> n * 2)             // ì—¬ê¸°ë„ ì‹¤í–‰ ì•ˆ ë¨!
    .toList();                   // í„°ë¯¸ë„ ì—°ì‚°ì´ ì‹¤í–‰ì„ íŠ¸ë¦¬ê±°

// ë°›ëŠ” ìª½ (Callee - filter ë‚´ë¶€):
// for (T element : elements) {
//     if (predicate.test(element)) {  // â† ì´ë•Œ ëŒë‹¤ ì‹¤í–‰!
//         result.add(element);
//     }
// }
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ëŒë‹¤ ì‹¤í–‰ ì‹œì  ì´í•´                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ì •ì˜ ì‹œì :   n -> n > 3                                       â”‚
â”‚              â†“                                                  â”‚
â”‚  "nì„ ë°›ì•„ì„œ n > 3 ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” ì½”ë“œ" (ì•„ì§ ì‹¤í–‰ X)         â”‚
â”‚                                                                 â”‚
â”‚  ì‹¤í–‰ ì‹œì :   predicate.test(5)  // true                       â”‚
â”‚              predicate.test(2)  // false                       â”‚
â”‚              â†“                                                  â”‚
â”‚  ì‹¤ì œë¡œ nì— 5, 2ê°€ ë°”ì¸ë”©ë˜ì–´ ì½”ë“œ ì‹¤í–‰                        â”‚
â”‚                                                                 â”‚
â”‚  ì™œ ì¤‘ìš”í•œê°€?                                                   â”‚
â”‚  â€¢ ì§€ì—° í‰ê°€ ê°€ëŠ¥ (í•„ìš”í•  ë•Œë§Œ ì‹¤í–‰)                           â”‚
â”‚  â€¢ ë¬´í•œ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ ê°€ëŠ¥                                       â”‚
â”‚  â€¢ ì‡¼íŠ¸ì„œí‚· ìµœì í™” ê°€ëŠ¥                                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.1.2 Functional Interface ì™„ì „ì •ë³µ

ìë°”ì—ì„œ ëŒë‹¤ë¥¼ ë°›ìœ¼ë ¤ë©´ **Functional Interface**ê°€ í•„ìš”í•©ë‹ˆë‹¤. í•˜ë‚˜ì˜ ì¶”ìƒ ë©”ì„œë“œë§Œ ê°€ì§„ ì¸í„°í˜ì´ìŠ¤ì£ .

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    í•µì‹¬ Functional Interface ì •ë¦¬                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ì¸í„°í˜ì´ìŠ¤       â”‚ ì‹œê·¸ë‹ˆì²˜         â”‚ ìš©ë„    â”‚ ê¸°ì–µë²•          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  Function<T,R>   â”‚ T â†’ R           â”‚ ë³€í™˜    â”‚ "ì…ë ¥â†’ì¶œë ¥"      â”‚
â”‚  Consumer<T>     â”‚ T â†’ void        â”‚ ì†Œë¹„    â”‚ "ë¨¹ê¸°ë§Œ"         â”‚
â”‚  Supplier<T>     â”‚ () â†’ T          â”‚ ìƒì„±    â”‚ "ë§Œë“¤ê¸°ë§Œ"       â”‚
â”‚  Predicate<T>    â”‚ T â†’ boolean     â”‚ í•„í„°    â”‚ "ì°¸/ê±°ì§“"        â”‚
â”‚  UnaryOperator<T>â”‚ T â†’ T           â”‚ ë³€í™˜    â”‚ "ê°™ì€íƒ€ì…ìœ ì§€"   â”‚
â”‚  BiFunction<T,U,R>â”‚(T,U) â†’ R       â”‚ ë³€í™˜    â”‚ "2ê°œâ†’1ê°œ"        â”‚
â”‚  BinaryOperator<T>â”‚(T,T) â†’ T       â”‚ ê²°í•©    â”‚ "2ê°œâ†’ê°™ì€íƒ€ì…"   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
import java.util.function.*;

// ì‹¤ì „ì—ì„œ ìì£¼ ì“°ëŠ” íŒ¨í„´
public class FunctionalInterfaceDemo {

    // Function: ë³€í™˜
    Function<String, Integer> strLength = String::length;
    // "Hello" â†’ 5

    // Consumer: ì†Œë¹„ (ë°˜í™˜ê°’ ì—†ìŒ)
    Consumer<String> printer = System.out::println;
    // "Hello" â†’ (ì¶œë ¥í•˜ê³  ë)

    // Supplier: ìƒì„± (ì¸ì ì—†ìŒ)
    Supplier<LocalDateTime> now = LocalDateTime::now;
    // () â†’ 2024-01-15T10:30:00

    // Predicate: ì¡°ê±´ íŒë³„
    Predicate<Integer> isPositive = n -> n > 0;
    // 5 â†’ true, -3 â†’ false

    // UnaryOperator: ê°™ì€ íƒ€ì… ìœ ì§€ ë³€í™˜
    UnaryOperator<String> toUpper = String::toUpperCase;
    // "hello" â†’ "HELLO"

    // BiFunction: ë‘ ì¸ì â†’ í•˜ë‚˜ì˜ ê²°ê³¼
    BiFunction<String, String, String> concat = String::concat;
    // ("Hello", "World") â†’ "HelloWorld"
}
```

#### 2.1.3 ë©”ì„œë“œ ë ˆí¼ëŸ°ìŠ¤ vs ëŒë‹¤

ê°™ì€ ë™ì‘ì„ ë‘ ê°€ì§€ë¡œ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì–¸ì œ ë­˜ ì“¸ê¹Œìš”?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ë©”ì„œë“œ ë ˆí¼ëŸ°ìŠ¤ vs ëŒë‹¤                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ìƒí™©                â”‚ ëŒë‹¤                   â”‚ ë©”ì„œë“œ ë ˆí¼ëŸ°ìŠ¤  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ     â”‚ x -> x.toString()     â”‚ Object::toString â”‚
â”‚  ì •ì  ë©”ì„œë“œ         â”‚ x -> Integer.parseInt(x)â”‚ Integer::parseIntâ”‚
â”‚  ìƒì„±ì              â”‚ () -> new User()      â”‚ User::new        â”‚
â”‚  íŠ¹ì •ê°ì²´ì˜ ë©”ì„œë“œ   â”‚ x -> list.contains(x) â”‚ list::contains   â”‚
â”‚                                                                 â”‚
â”‚  ğŸ’¡ ì„ íƒ ê¸°ì¤€:                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ ë‹¨ìˆœ ìœ„ì„ (ì¸ì ê·¸ëŒ€ë¡œ ì „ë‹¬) â†’ ë©”ì„œë“œ ë ˆí¼ëŸ°ìŠ¤ (ë” ëª…í™•)    â”‚
â”‚  â€¢ ë³€í™˜/ì¡°í•© í•„ìš” â†’ ëŒë‹¤                                       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// ë©”ì„œë“œ ë ˆí¼ëŸ°ìŠ¤ê°€ ë” ì¢‹ì€ ê²½ìš° (ë‹¨ìˆœ ìœ„ì„)
users.stream().map(User::getName)          // âœ… ê°„ê²°
users.stream().map(user -> user.getName()) // âŒ ë¶ˆí•„ìš”í•˜ê²Œ ì¥í™©

// ëŒë‹¤ê°€ ë” ì¢‹ì€ ê²½ìš° (ë³€í™˜/ì¡°í•© í•„ìš”)
users.stream().map(u -> u.getName() + "ë‹˜")           // âœ… ë³€í™˜ í•„ìš”
users.stream().map(u -> String.format("%së‹˜", u.getName())) // âœ… ë³µì¡í•œ ë¡œì§
```

---

### 2.2 ê³ ì°¨ í•¨ìˆ˜ (Higher-Order Function)

#### ğŸ­ ë¹„ìœ : ì‰í”„ì™€ ë ˆì‹œí”¼

ì¼ë°˜ í•¨ìˆ˜ëŠ” ë¼ì¸ ì¿¡ ê°™ìŠµë‹ˆë‹¤. ì¬ë£Œ ë°›ì•„ì„œ ìš”ë¦¬ ë‚´ë†“ì£ . ê³ ì°¨ í•¨ìˆ˜ëŠ” ì´ì£¼ë°©ì¥ì…ë‹ˆë‹¤. **ë ˆì‹œí”¼ ìì²´ë¥¼ ë°›ì•„ì„œ ìƒˆë¡œìš´ ë ˆì‹œí”¼ë¥¼ ë§Œë“¤ì–´ëƒ…ë‹ˆë‹¤.**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ê³ ì°¨ í•¨ìˆ˜ = ì´ì£¼ë°©ì¥                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ì¼ë°˜ í•¨ìˆ˜ (ë¼ì¸ ì¿¡):                                          â”‚
â”‚   ì¬ë£Œ ë°›ìŒ â†’ ìš”ë¦¬ ë°˜í™˜                                         â”‚
â”‚   "ê³„ë€ ì£¼ì„¸ìš”" â†’ "ì˜¤ë¯ˆë › ì—¬ê¸°ìš”"                               â”‚
â”‚                                                                 â”‚
â”‚   ê³ ì°¨ í•¨ìˆ˜ (ì´ì£¼ë°©ì¥):                                         â”‚
â”‚   ë ˆì‹œí”¼ ë°›ìŒ â†’ ìƒˆ ë ˆì‹œí”¼ ë°˜í™˜                                  â”‚
â”‚   "ì´ ë ˆì‹œí”¼ ì¤„ê²Œ" â†’ "ê°œì„ ëœ ë²„ì „ ì—¬ê¸°"                         â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚  map():    "ì´ ë ˆì‹œí”¼ë¥¼ ëª¨ë“  ì¬ë£Œì— ì ìš©í•´"          â”‚      â”‚
â”‚   â”‚  filter(): "ì´ ì¡°ê±´ í†µê³¼í•˜ëŠ” ì¬ë£Œë§Œ ê³¨ë¼"            â”‚      â”‚
â”‚   â”‚  reduce(): "ëª¨ë“  ì¬ë£Œë¥¼ í•˜ë‚˜ë¡œ í•©ì³"                 â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ì‚¼ì‹ ê¸°: map, filter, reduce

í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì˜ ì‚¼ëŒ€ì¥ì…ë‹ˆë‹¤. ì´ ì„¸ ê°œë§Œ ì˜ ì¨ë„ ëŒ€ë¶€ë¶„ì˜ ì»¬ë ‰ì…˜ ì²˜ë¦¬ê°€ ë©ë‹ˆë‹¤.

```java
// src/main/java/com/example/fp/HigherOrderDemo.java

public class HigherOrderDemo {
    
    record Order(Long id, String product, BigDecimal amount, boolean paid) {}
    
    public void demonstrate() {
        List<Order> orders = getOrders();
        
        // ê³ ì°¨ í•¨ìˆ˜ ì‹¤ì „ ì ìš©
        BigDecimal totalPaidRevenue = orders.stream()
            .filter(Order::paid)              // 1ï¸âƒ£ filter: ê²°ì œëœ ê²ƒë§Œ
            .map(Order::amount)               // 2ï¸âƒ£ map: ê¸ˆì•¡ë§Œ ì¶”ì¶œ
            .reduce(BigDecimal.ZERO, BigDecimal::add);  // 3ï¸âƒ£ reduce: ì „ë¶€ í•©ì‚°
    }
    
    // ì§ì ‘ ë§Œë“œëŠ” ê³ ì°¨ í•¨ìˆ˜
    public <T> List<T> filterAndTransform(
            List<T> items,
            Predicate<T> condition,      // í•¨ìˆ˜ë¥¼ ì¸ìë¡œ
            UnaryOperator<T> transform   // í•¨ìˆ˜ë¥¼ ì¸ìë¡œ
    ) {
        return items.stream()
                    .filter(condition)
                    .map(transform)
                    .toList();
    }
}
```

#### ì½”í‹€ë¦°: ë” ê¹”ë”í•˜ê²Œ

```kotlin
// src/main/kotlin/com/example/fp/HigherOrderDemo.kt

data class Order(val id: Long, val product: String, val amount: BigDecimal, val paid: Boolean)

fun main() {
    val orders = getOrders()
    
    val totalPaidRevenue = orders
        .filter { it.paid }          // í›„í–‰ ëŒë‹¤
        .map { it.amount }
        .reduce { acc, amount -> acc + amount }
    
    // ì•„ë‹ˆë©´ ê·¸ëƒ¥ sumOf ì“°ë©´ ë¨
    val total = orders.filter { it.paid }.sumOf { it.amount }
}

// í™•ì¥ í•¨ìˆ˜ë¡œ ê³ ì°¨ í•¨ìˆ˜ ë§Œë“¤ê¸°
inline fun <T> List<T>.filterAndTransform(
    condition: (T) -> Boolean,
    transform: (T) -> T
): List<T> = filter(condition).map(transform)
```

---

### 2.3 í´ë¡œì € (Closure)

#### ğŸ­ ë¹„ìœ : ê¸°ì–µì„ ë‹´ì€ ë°°ë‚­

í´ë¡œì €ëŠ” **ìê¸°ê°€ íƒœì–´ë‚œ í™˜ê²½ì„ ê¸°ì–µí•˜ëŠ” í•¨ìˆ˜**ì…ë‹ˆë‹¤. ë§ˆì¹˜ ë°°ë‚­ì— ì¶”ì–µì„ ë‹´ê³  ë‹¤ë‹ˆëŠ” ê²ƒì²˜ëŸ¼ìš”.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                í´ë¡œì € = ë°°ë‚­ ë©˜ í•¨ìˆ˜                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   í´ë¡œì €ëŠ” ìê¸°ê°€ ë§Œë“¤ì–´ì§„ í™˜ê²½ì˜ ë³€ìˆ˜ë“¤ì„ "ê¸°ì–µ"í•©ë‹ˆë‹¤.        â”‚
â”‚   ë§ˆì¹˜ ë°°ë‚­ì— ì¶”ì–µì„ ë‹´ê³  ë‹¤ë‹ˆëŠ” ê²ƒì²˜ëŸ¼ìš”.                      â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚  fun createCounter(): () -> Int {                   â”‚       â”‚
â”‚   â”‚      var count = 0  // ğŸ’ ì´ê²Œ ë°°ë‚­ì— ë“¤ì–´ê°        â”‚       â”‚
â”‚   â”‚      return { ++count }  // ë°°ë‚­ ë©”ê³  ë‹¤ë‹˜          â”‚       â”‚
â”‚   â”‚  }                                                  â”‚       â”‚
â”‚   â”‚                                                     â”‚       â”‚
â”‚   â”‚  val counter = createCounter()                      â”‚       â”‚
â”‚   â”‚  counter() // 1 (count ê¸°ì–µí•˜ê³  ìˆìŒ!)              â”‚       â”‚
â”‚   â”‚  counter() // 2 (ê³„ì† ê¸°ì–µ!)                        â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// src/main/java/com/example/fp/ClosureDemo.java

public class ClosureDemo {
    
    // í´ë¡œì €ë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” íŒ©í† ë¦¬
    public static Supplier<Integer> createCounter() {
        // ì´ ë³€ìˆ˜ê°€ í´ë¡œì €ì— "ìº¡ì²˜"ë¨
        final int[] count = {0};  // effectively final ìš°íšŒ
        
        return () -> ++count[0];  // í´ë¡œì €: countë¥¼ "í’ˆê³ " ìˆìŒ
    }
    
    // ë” ì‹¤ìš©ì ì¸ ì˜ˆ: ì„¤ì •ê°’ ìº¡ì²˜
    public static Function<BigDecimal, BigDecimal> createDiscountCalculator(
            BigDecimal discountRate  // ì´ê²Œ ìº¡ì²˜ë¨!
    ) {
        return price -> price.multiply(BigDecimal.ONE.subtract(discountRate));
    }
    
    public static void main(String[] args) {
        var counter = createCounter();
        System.out.println(counter.get());  // 1
        System.out.println(counter.get());  // 2
        
        var tenPercentOff = createDiscountCalculator(new BigDecimal("0.10"));
        var twentyPercentOff = createDiscountCalculator(new BigDecimal("0.20"));
        
        System.out.println(tenPercentOff.apply(new BigDecimal("100")));   // 90
        System.out.println(twentyPercentOff.apply(new BigDecimal("100"))); // 80
    }
}
```

#### 2.3.1 Effectively Finalê³¼ í”í•œ ì‹¤ìˆ˜

ìë°”ì—ì„œ ëŒë‹¤ê°€ ì™¸ë¶€ ë³€ìˆ˜ë¥¼ ìº¡ì²˜í•˜ë ¤ë©´ ê·¸ ë³€ìˆ˜ê°€ **effectively final**ì´ì–´ì•¼ í•©ë‹ˆë‹¤. ì™œ ì´ëŸ° ì œì•½ì´ ìˆì„ê¹Œìš”?

```java
// âŒ í”í•œ ì‹¤ìˆ˜: ë£¨í”„ì—ì„œ ëŒë‹¤ ìº¡ì²˜
ExecutorService executor = Executors.newFixedThreadPool(4);

for (int i = 0; i < 10; i++) {
    executor.submit(() -> System.out.println(i));  // ì»´íŒŒì¼ ì—ëŸ¬!
    // error: local variables referenced from a lambda expression
    //        must be final or effectively final
}

// ì™œ ì—ëŸ¬ì¼ê¹Œ?
// 1. iê°€ ë£¨í”„ë§ˆë‹¤ ë³€ê²½ë¨ â†’ effectively finalì´ ì•„ë‹˜
// 2. ëŒë‹¤ê°€ ì‹¤í–‰ë  ë•Œ iê°€ ì–´ë–¤ ê°’ì¸ì§€ ë³´ì¥í•  ìˆ˜ ì—†ìŒ
// 3. ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ ë™ê¸°í™” ë¬¸ì œ ë°œìƒ ê°€ëŠ¥
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ì™œ Effectively Finalì´ í•„ìš”í•œê°€?                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ì‹œë‚˜ë¦¬ì˜¤: i=0 ì¼ ë•Œ ëŒë‹¤ ìƒì„±, i=5 ì¼ ë•Œ ëŒë‹¤ ì‹¤í–‰             â”‚
â”‚                                                                 â”‚
â”‚  ë§Œì•½ iê°€ ë³€ê²½ ê°€ëŠ¥í•˜ë‹¤ë©´?                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ì‹œì 1: i=0, ëŒë‹¤ ìƒì„± â†’ ëŒë‹¤ê°€ ië¥¼ "ìº¡ì²˜"             â”‚    â”‚
â”‚  â”‚  ì‹œì 2: i=5, ë‹¤ë¥¸ ìŠ¤ë ˆë“œì—ì„œ ëŒë‹¤ ì‹¤í–‰                   â”‚    â”‚
â”‚  â”‚         â†’ iê°€ 0ì¼ê¹Œ? 5ì¼ê¹Œ? ë¶ˆëª…í™•!                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  FP ì›ì¹™ê³¼ì˜ ì—°ê²°:                                              â”‚
â”‚  â€¢ ë¶ˆë³€ì„±: ìº¡ì²˜ëœ ê°’ì´ ë³€í•˜ë©´ ìˆœìˆ˜ì„± ê¹¨ì§                       â”‚
â”‚  â€¢ ì°¸ì¡° íˆ¬ëª…ì„±: ê°™ì€ ëŒë‹¤ê°€ ë‹¤ë¥¸ ê²°ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆìŒ             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// âœ… í•´ê²°ì±… 1: ë£¨í”„ ë³€ìˆ˜ë¥¼ ë¡œì»¬ finalë¡œ ë³µì‚¬
for (int i = 0; i < 10; i++) {
    final int capturedI = i;  // ì´ ê°’ì€ ë£¨í”„ë§ˆë‹¤ ìƒˆë¡œ ë§Œë“¤ì–´ì§
    executor.submit(() -> System.out.println(capturedI));
}

// âœ… í•´ê²°ì±… 2: IntStream ì‚¬ìš© (ë” í•¨ìˆ˜í˜•)
IntStream.range(0, 10)
    .forEach(i -> executor.submit(() -> System.out.println(i)));
    // forEachì˜ iëŠ” ê° ë°˜ë³µë§ˆë‹¤ ìƒˆ ê°’!
```

### ğŸ“ 2ì¥ í€´ì¦ˆ

**í€´ì¦ˆ 2.1 (ì´ˆê¸‰)**: ë‹¤ìŒ Functional Interfaceì˜ ì‹œê·¸ë‹ˆì²˜ë¥¼ ì™„ì„±í•˜ì„¸ìš”.

```java
// Predicate<T>ì˜ ì‹œê·¸ë‹ˆì²˜ëŠ”?
// Consumer<T>ì˜ ì‹œê·¸ë‹ˆì²˜ëŠ”?
// Supplier<T>ì˜ ì‹œê·¸ë‹ˆì²˜ëŠ”?
// BiFunction<T, U, R>ì˜ ì‹œê·¸ë‹ˆì²˜ëŠ”?
```

**í€´ì¦ˆ 2.2 (ì¤‘ê¸‰)**: ë‹¤ìŒ ì½”ë“œì˜ ì¶œë ¥ ê²°ê³¼ë¥¼ ì˜ˆì¸¡í•˜ì„¸ìš”.

```java
List<String> names = List.of("Alice", "Bob", "Charlie");
Function<String, Integer> getLength = String::length;
Consumer<Integer> printIt = System.out::println;

names.stream()
    .map(getLength)
    .forEach(printIt);
```

**í€´ì¦ˆ 2.3 (ê³ ê¸‰)**: í´ë¡œì €ê°€ "effectively final" ë³€ìˆ˜ë§Œ ìº¡ì²˜í•  ìˆ˜ ìˆëŠ” ì´ìœ ë¥¼ FP ì›ì¹™ ê´€ì ì—ì„œ ì„¤ëª…í•˜ì„¸ìš”.

> ì •ë‹µì€ ë¬¸ì„œ ë [í€´ì¦ˆ ì •ë‹µ](#í€´ì¦ˆ-ì •ë‹µ) ì„¹ì…˜ì—ì„œ í™•ì¸í•˜ì„¸ìš”.

---

## 3. í•¨ìˆ˜ ì¡°ë¦½í•˜ê¸°

### 3.1 í•©ì„± (Composition)

#### ğŸ­ ë¹„ìœ : ìœ ë‹‰ìŠ¤ íŒŒì´í”„

ë¦¬ëˆ…ìŠ¤ì—ì„œ `cat file.txt | grep "error" | sort | uniq` ì¨ë³´ì…¨ì£ ? ì‘ì€ ëª…ë ¹ì–´ë“¤ì„ íŒŒì´í”„ë¡œ ì—°ê²°í•´ì„œ ë³µì¡í•œ ì‘ì—…ì„ í•˜ëŠ” ê±°ì˜ˆìš”. í•¨ìˆ˜ í•©ì„±ì´ ë”± ì´ê²ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   í•©ì„± = ìœ ë‹‰ìŠ¤ íŒŒì´í”„                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   Unix: cat file.txt | grep "error" | sort | uniq              â”‚
â”‚                                                                 â”‚
â”‚   FP:   readFile.andThen(filterErrors).andThen(sort).andThen(unique)â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”                     â”‚
â”‚   â”‚  f  â”‚â”€â”€â”€â†’â”‚  g  â”‚â”€â”€â”€â†’â”‚  h  â”‚â”€â”€â”€â†’â”‚  i  â”‚                     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                                 â”‚
â”‚   f.andThen(g).andThen(h).andThen(i) = i(h(g(f(x))))          â”‚
â”‚                                                                 â”‚
â”‚   í•µì‹¬: ê° í•¨ìˆ˜ëŠ” ìê¸° ì…ì¶œë ¥ë§Œ ì‹ ê²½ ì“°ë©´ ë¨                    â”‚
â”‚   ì•ë’¤ë¡œ ëˆ„ê°€ ì˜¤ë“  ìƒê´€ì—†ìŒ!                                    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// src/main/java/com/example/fp/CompositionDemo.java

public class CompositionDemo {
    
    // ì‘ê³  ë‹¨ìˆœí•œ í•¨ìˆ˜ë“¤
    Function<String, String> trim = String::trim;
    Function<String, String> lowercase = String::toLowerCase;
    Function<String, String> removeSpaces = s -> s.replace(" ", "-");
    
    // ì¡°ë¦½í•´ì„œ ìŠ¬ëŸ¬ê·¸ ìƒì„±ê¸° ì™„ì„±
    Function<String, String> slugify = trim
            .andThen(lowercase)
            .andThen(removeSpaces);
    
    public void demo() {
        String title = "  Hello World Example  ";
        System.out.println(slugify.apply(title));  // "hello-world-example"
    }
}
```

#### 3.1.1 Function.andThen() ì´í•´í•˜ê¸°

`andThen`ì´ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ë‚´ë¶€ë¥¼ ë“¤ì—¬ë‹¤ë´…ì‹œë‹¤.

```java
// Function ì¸í„°í˜ì´ìŠ¤ì˜ ì‹¤ì œ êµ¬í˜„ (ë‹¨ìˆœí™”)
@FunctionalInterface
public interface Function<T, R> {
    R apply(T t);  // ì¶”ìƒ ë©”ì„œë“œ (ë”± í•˜ë‚˜!)

    // andThen: ë””í´íŠ¸ ë©”ì„œë“œ!
    default <V> Function<T, V> andThen(Function<? super R, ? extends V> after) {
        return (T t) -> after.apply(apply(t));
        //              â†‘           â†‘
        //              â”‚           â””â”€â”€ 1. ë¨¼ì € this.apply(t) ì‹¤í–‰
        //              â””â”€â”€ 2. ê·¸ ê²°ê³¼ë¥¼ after.apply()ì— ì „ë‹¬
    }

    // compose: andThenì˜ ë°˜ëŒ€ ë°©í–¥
    default <V> Function<V, R> compose(Function<? super V, ? extends T> before) {
        return (V v) -> apply(before.apply(v));
        //                          â†‘ before ë¨¼ì € ì‹¤í–‰
    }
}
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 andThen vs compose ë¹„êµ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  f.andThen(g):  ì…ë ¥ â†’ f â†’ g â†’ ì¶œë ¥                           â”‚
â”‚                 "f ë‹¤ìŒì— g" (ì™¼ìª½â†’ì˜¤ë¥¸ìª½, ìì—°ìŠ¤ëŸ¬ì›€)          â”‚
â”‚                                                                 â”‚
â”‚  f.compose(g):  ì…ë ¥ â†’ g â†’ f â†’ ì¶œë ¥                           â”‚
â”‚                 "g ë¨¼ì €, ê·¸ ë‹¤ìŒ f" (ìˆ˜í•™ í•¨ìˆ˜ í•©ì„± ìˆœì„œ)       â”‚
â”‚                                                                 â”‚
â”‚  ì¶”ì²œ: andThenì´ ì½ê¸° ì‰¬ì›€! (ë°ì´í„° íë¦„ ìˆœì„œ)                 â”‚
â”‚                                                                 â”‚
â”‚  í•µì‹¬ í†µì°°:                                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ andThenì€ ìƒˆ Functionì„ ë°˜í™˜ - ì›ë³¸ ë¶ˆë³€!                   â”‚
â”‚  â€¢ ê° í•¨ìˆ˜ëŠ” ë…ë¦½ì  - ì•ë’¤ ê´€ê³„ ëª°ë¼ë„ ë¨                      â”‚
â”‚  â€¢ íƒ€ì…ë§Œ ë§ìœ¼ë©´ ì–´ë–¤ í•¨ìˆ˜ë“  ì¡°ë¦½ ê°€ëŠ¥                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.2 ì»¤ë§ê³¼ ë¶€ë¶„ ì ìš©

#### ğŸ­ ë¹„ìœ : ì»¤í”¼ ì£¼ë¬¸ì„œ

ìŠ¤íƒ€ë²…ìŠ¤ì—ì„œ ì£¼ë¬¸í•  ë•Œ í•œ ë²ˆì— "ë²¤í‹° ì˜¤íŠ¸ë°€í¬ ë°”ë‹ë¼ ë¼ë–¼"ë¼ê³  í•˜ì£ . ê·¸ëŸ°ë° **ì»¤ë§**ì€ ì£¼ë¬¸ì„œë¥¼ í•œ ì¹¸ì”© ì±„ì›Œë‚˜ê°€ëŠ” ê²ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ì»¤ë§ = ì£¼ë¬¸ì„œ í•œ ì¹¸ì”© ì±„ìš°ê¸°                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ì¼ë°˜ í•¨ìˆ˜ (í•œ ë²ˆì— ë‹¤):                                       â”‚
â”‚   orderCoffee(size, milk, syrup) â†’ ì»¤í”¼                        â”‚
â”‚                                                                 â”‚
â”‚   ì»¤ë§ëœ í•¨ìˆ˜ (í•œ ì¹¸ì”©):                                        â”‚
â”‚   orderCoffee(size) â†’ milk ë°›ëŠ” í•¨ìˆ˜ ë°˜í™˜                      â”‚
â”‚                       â†’ syrup ë°›ëŠ” í•¨ìˆ˜ ë°˜í™˜                   â”‚
â”‚                       â†’ ì»¤í”¼                                   â”‚
â”‚                                                                 â”‚
â”‚   orderCoffee("ë²¤í‹°")("ì˜¤íŠ¸")("ë°”ë‹ë¼") â†’ ì»¤í”¼                 â”‚
â”‚        â”‚                â”‚         â”‚                             â”‚
â”‚        â””â”€â”€ 1ë‹¨ê³„        â””â”€â”€ 2ë‹¨ê³„   â””â”€â”€ 3ë‹¨ê³„                  â”‚
â”‚                                                                 â”‚
â”‚   ë¶€ë¶„ ì ìš©:                                                    â”‚
â”‚   largeOrder = orderCoffee("ë²¤í‹°")     // ì‚¬ì´ì¦ˆ ê³ ì •!         â”‚
â”‚   largeOatOrder = largeOrder("ì˜¤íŠ¸")   // ë°€í¬ë„ ê³ ì •!         â”‚
â”‚   myCoffee = largeOatOrder("ë°”ë‹ë¼")   // ìµœì¢… ì£¼ë¬¸            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// src/main/java/com/example/fp/CurryingDemo.java

public class CurryingDemo {
    
    // ì¼ë°˜ í•¨ìˆ˜: ì¸ì í•œ ë²ˆì— ë‹¤ ë°›ìŒ
    public static BigDecimal calculatePrice(String size, String milk, String syrup) {
        // ... ê³„ì‚°
        return BigDecimal.ZERO;
    }
    
    // ì»¤ë§ëœ ë²„ì „: ì¸ì í•˜ë‚˜ì”©
    public static Function<String, Function<String, Function<String, BigDecimal>>> 
            calculatePriceCurried() {
        return size -> milk -> syrup -> {
            // ... ì„¸ ê°’ ëª¨ë‘ ì‚¬ìš©í•´ì„œ ê³„ì‚°
            return BigDecimal.ZERO;
        };
    }
    
    public static void main(String[] args) {
        var curriedPrice = calculatePriceCurried();
        
        // ë¶€ë¶„ ì ìš©: ìì£¼ ì“°ëŠ” ì¡°í•©ì„ ë¯¸ë¦¬ ë§Œë“¤ì–´ë‘ 
        var largePriceCalculator = curriedPrice.apply("Large");
        var largeSoyPriceCalculator = largePriceCalculator.apply("Soy");
        
        // ì´ì œ ì‹œëŸ½ë§Œ ì •í•˜ë©´ ë˜ëŠ” í•¨ìˆ˜ê°€ ë¨
        BigDecimal price = largeSoyPriceCalculator.apply("Vanilla");
    }
}
```

#### ì½”í‹€ë¦°: í›¨ì”¬ ê¹”ë”

```kotlin
// src/main/kotlin/com/example/fp/CurryingDemo.kt

// í™•ì¥ í•¨ìˆ˜ë¡œ ì»¤ë§ êµ¬í˜„
fun <A, B, C> ((A, B) -> C).curry(): (A) -> (B) -> C = { a -> { b -> this(a, b) } }

// ì‚¬ìš©
val add: (Int, Int) -> Int = { a, b -> a + b }
val curriedAdd = add.curry()

val addFive = curriedAdd(5)  // ë¶€ë¶„ ì ìš©!
println(addFive(3))   // 8
println(addFive(10))  // 15

// ì‹¤ìš© ì˜ˆ: ë¡œê±° íŒ©í† ë¦¬
val log: (String) -> (String) -> Unit = { level -> { message -> 
    println("[$level] $message") 
}}

val info = log("INFO")
val error = log("ERROR")

info("ì„œë²„ ì‹œì‘ë¨")      // [INFO] ì„œë²„ ì‹œì‘ë¨
error("ì—°ê²° ëŠê¹€")       // [ERROR] ì—°ê²° ëŠê¹€
```

#### 3.2.1 ì»¤ë§ ë¬¸ë²• ì™„ì „ í•´ë¶€

ì»¤ë§ëœ í•¨ìˆ˜ì˜ íƒ€ì… ì„ ì–¸ì´ ë³µì¡í•´ ë³´ì´ì£ . í•˜ë‚˜ì”© ëœ¯ì–´ë´…ì‹œë‹¤.

```java
// ì´ íƒ€ì…ì´ ë­˜ ì˜ë¯¸í•˜ëŠ”ì§€ ë¶„í•´í•´ë´…ì‹œë‹¤
Function<String, Function<String, Function<String, BigDecimal>>>
//       â”‚              â”‚              â”‚              â”‚
//       â”‚              â”‚              â”‚              â””â”€ ìµœì¢… ë°˜í™˜ê°’
//       â”‚              â”‚              â””â”€ 3ë²ˆì§¸ ì¸ì (syrup)
//       â”‚              â””â”€ 2ë²ˆì§¸ ì¸ì (milk)
//       â””â”€ 1ë²ˆì§¸ ì¸ì (size)

// í™”ì‚´í‘œ í‘œê¸°ë¡œ ë³´ë©´:
// String â†’ (String â†’ (String â†’ BigDecimal))
// ì˜¤ë¥¸ìª½ ê²°í•©! (ê´„í˜¸ ìƒëµ ê°€ëŠ¥)
// String â†’ String â†’ String â†’ BigDecimal
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ì»¤ë§ íƒ€ì… ì‹œê°í™”                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Function<A, Function<B, Function<C, D>>>                      â”‚
â”‚                                                                 â”‚
â”‚  í˜¸ì¶œ 1: f.apply("Large")                                      â”‚
â”‚          â”‚                                                      â”‚
â”‚          â†“                                                      â”‚
â”‚  Function<String, Function<String, BigDecimal>>                â”‚
â”‚  "Largeë¥¼ ê¸°ì–µí•˜ëŠ”" ìƒˆ í•¨ìˆ˜                                    â”‚
â”‚                                                                 â”‚
â”‚  í˜¸ì¶œ 2: .apply("Soy")                                         â”‚
â”‚          â”‚                                                      â”‚
â”‚          â†“                                                      â”‚
â”‚  Function<String, BigDecimal>                                  â”‚
â”‚  "Largeì™€ Soyë¥¼ ê¸°ì–µí•˜ëŠ”" ìƒˆ í•¨ìˆ˜                              â”‚
â”‚                                                                 â”‚
â”‚  í˜¸ì¶œ 3: .apply("Vanilla")                                     â”‚
â”‚          â”‚                                                      â”‚
â”‚          â†“                                                      â”‚
â”‚  BigDecimal                                                     â”‚
â”‚  ìµœì¢… ê²°ê³¼!                                                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// ëŒë‹¤ êµ¬í˜„ë„ ì˜¤ë¥¸ìª½ ê²°í•©
size -> milk -> syrup -> calculate(size, milk, syrup)
// â†‘        â†‘        â†‘
// â”‚        â”‚        â””â”€ size, milk ìº¡ì²˜, syrup ë°›ì•„ ê³„ì‚°
// â”‚        â””â”€ size ìº¡ì²˜, milk ë°›ì•„ "í•¨ìˆ˜ ë°˜í™˜"
// â””â”€ size ë°›ì•„ "í•¨ìˆ˜ ë°˜í™˜"

// í’€ì–´ ì“°ë©´ ì´ë ‡ê²Œ ë¨
size -> {
    return milk -> {
        return syrup -> {
            return calculate(size, milk, syrup);
        };
    };
};

// ê° ë‹¨ê³„ì—ì„œ ì´ì „ ì¸ìë“¤ì€ í´ë¡œì €ë¡œ ìº¡ì²˜ë¨!
```

### ğŸ“ 3ì¥ í€´ì¦ˆ

**í€´ì¦ˆ 3.1 (ì´ˆê¸‰)**: `f.andThen(g)`ì™€ `f.compose(g)`ì˜ ì°¨ì´ì ì„ ì„¤ëª…í•˜ì„¸ìš”.

**í€´ì¦ˆ 3.2 (ì¤‘ê¸‰)**: ë‹¤ìŒ ì½”ë“œì˜ ì¶œë ¥ì„ ì˜ˆì¸¡í•˜ì„¸ìš”.

```java
Function<Integer, Integer> addOne = x -> x + 1;
Function<Integer, Integer> multiplyTwo = x -> x * 2;
Function<Integer, Integer> combined = addOne.andThen(multiplyTwo);

System.out.println(combined.apply(5));
```

**í€´ì¦ˆ 3.3 (ê³ ê¸‰)**: ë‹¤ìŒ ì»¤ë§ëœ í•¨ìˆ˜ì˜ íƒ€ì…ì„ ì‘ì„±í•˜ê³ , ë¶€ë¶„ ì ìš© ì˜ˆì‹œë¥¼ ë³´ì´ì„¸ìš”.

```java
// ì„¸ ë¬¸ìì—´ì„ ë°›ì•„ì„œ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì»¤ë§í•˜ì„¸ìš”
// createEmail("user", "domain", "com") â†’ "user@domain.com"
```

> ì •ë‹µì€ ë¬¸ì„œ ë [í€´ì¦ˆ ì •ë‹µ](#í€´ì¦ˆ-ì •ë‹µ) ì„¹ì…˜ì—ì„œ í™•ì¸í•˜ì„¸ìš”.

---

## 4. ì»¨í…Œì´ë„ˆ íŒ¨ë°€ë¦¬: í‘í„°ì—ì„œ ëª¨ë‚˜ë“œê¹Œì§€

### ì „ì²´ ê·¸ë¦¼

ì—¬ê¸°ì„œë¶€í„°ê°€ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì˜ ê½ƒì…ë‹ˆë‹¤. ê²ë¨¹ì§€ ë§ˆì„¸ìš”, ìƒê°ë³´ë‹¤ ë³„ê±° ì•„ë‹™ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ì»¨í…Œì´ë„ˆ ê³„ì¸µ êµ¬ì¡°                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚                    â”‚   Functor    â”‚  "map í•  ìˆ˜ ìˆìŒ"          â”‚
â”‚                    â”‚   map(f)     â”‚                             â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                           â”‚                                     â”‚
â”‚                           â†“                                     â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚                    â”‚ Applicative  â”‚  "ê°ì‹¸ì§„ í•¨ìˆ˜ ì ìš© ê°€ëŠ¥"   â”‚
â”‚                    â”‚   ap(F<f>)   â”‚                             â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                           â”‚                                     â”‚
â”‚                           â†“                                     â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚                    â”‚    Monad     â”‚  "flatMap í•  ìˆ˜ ìˆìŒ"      â”‚
â”‚                    â”‚  flatMap(f)  â”‚                             â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                                                                 â”‚
â”‚  ìœ„ë¡œ ê°ˆìˆ˜ë¡ ê¸°ë³¸, ì•„ë˜ë¡œ ê°ˆìˆ˜ë¡ ê°•ë ¥í•¨                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.1 í‘í„° (Functor)

#### ğŸ­ ë¹„ìœ : ì„ ë¬¼ í¬ì¥

ì„ ë¬¼ ìƒì ì•ˆì— ë­”ê°€ ë“¤ì–´ìˆì–´ìš”. í‘í„°ëŠ” **ìƒìë¥¼ ì—´ì§€ ì•Šê³  ì•ˆì˜ ë‚´ìš©ë¬¼ì„ ë³€í™˜**í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                í‘í„° = ë³€í™˜ ê°€ëŠ¥í•œ ì„ ë¬¼ ìƒì                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   í‘í„°ëŠ” "ìƒìë¥¼ ì—´ì§€ ì•Šê³ " ë‚´ìš©ë¬¼ì„ ë°”ê¿€ ìˆ˜ ìˆëŠ” ì»¨í…Œì´ë„ˆ     â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      map(ìƒ‰ì¹ )       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚   â”‚ ğŸ“¦      â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  â”‚ ğŸ“¦      â”‚                 â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”  â”‚      ë‚´ìš©ë¬¼ë§Œ        â”‚  â”Œâ”€â”€â”€â”  â”‚                 â”‚
â”‚   â”‚  â”‚ ğŸš— â”‚ â”‚      ë³€í™˜ë¨          â”‚  â”‚ ğŸš™ â”‚ â”‚                 â”‚
â”‚   â”‚  â””â”€â”€â”€â”˜  â”‚                      â”‚  â””â”€â”€â”€â”˜  â”‚                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚   Box<ìë™ì°¨>                      Box<ìƒ‰ì¹ ëœìë™ì°¨>            â”‚
â”‚                                                                 â”‚
â”‚   í•µì‹¬: ìƒì êµ¬ì¡°ëŠ” ê·¸ëŒ€ë¡œ! ë‚´ìš©ë§Œ ë°”ë€œ                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### í‘í„° ë²•ì¹™

í‘í„°ë¼ê³  ë¶ˆë¦¬ë ¤ë©´ ì´ ë‘ ê°€ì§€ ë²•ì¹™ì„ ë§Œì¡±í•´ì•¼ í•©ë‹ˆë‹¤:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        í‘í„° ë²•ì¹™                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. í•­ë“± ë²•ì¹™:                                                  â”‚
â”‚     container.map(x -> x) == container                         â”‚
â”‚     "ì•„ë¬´ê²ƒë„ ì•ˆ í•˜ëŠ” í•¨ìˆ˜ë¡œ mapí•˜ë©´ ì›ë˜ ê·¸ëŒ€ë¡œ"               â”‚
â”‚                                                                 â”‚
â”‚  2. í•©ì„± ë²•ì¹™:                                                  â”‚
â”‚     container.map(f).map(g) == container.map(f.andThen(g))     â”‚
â”‚     "ë‘ ë²ˆ mapí•˜ë‚˜ í•©ì„±í•´ì„œ í•œ ë²ˆ mapí•˜ë‚˜ ê²°ê³¼ëŠ” ê°™ìŒ"          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// src/main/java/com/example/fp/FunctorDemo.java

// âš ï¸ ì£¼ì˜: map() ë©”ì„œë“œ ìì²´ê°€ í‘í„°ê°€ ì•„ë‹™ë‹ˆë‹¤!
// í‘í„° = íƒ€ì… ìƒì„±ì(Optional, Stream ë“±) + ê·¸ì— ë§ëŠ” map êµ¬í˜„ + í‘í„° ë²•ì¹™ ë§Œì¡±
//
// Optional<T>ê°€ í‘í„°ì¸ ì´ìœ :
// 1. íƒ€ì… ìƒì„±ì: Optional<T> (Të¥¼ ë°›ì•„ Optional<T> íƒ€ì… ìƒì„±)
// 2. map ì—°ì‚°: Optional.map(f)
// 3. í‘í„° ë²•ì¹™ ë§Œì¡± (í•­ë“±, í•©ì„±)
//
// ìë°”ì˜ Optional, List, Stream ì „ë¶€ í‘í„°ì…ë‹ˆë‹¤!
public class FunctorDemo {
    
    // Optional = í‘í„°
    public Optional<Integer> parseAndDouble(String input) {
        return Optional.ofNullable(input)
                .map(String::trim)        // map: String -> String
                .map(Integer::parseInt)   // map: String -> Integer
                .map(n -> n * 2);         // map: Integer -> Integer
    }
    
    // List = í‘í„°
    public List<String> getUserEmails(List<User> users) {
        return users.stream()
                .map(User::email)  // map: User -> String
                .toList();
    }
    
    // CompletableFuture = í‘í„°
    public CompletableFuture<String> fetchAndProcess(String url) {
        return fetchAsync(url)              // Future<Response>
                .thenApply(Response::body)  // map: Response -> String
                .thenApply(String::trim);   // map: String -> String
    }
}
```

---

### 4.2 ëª¨ë‚˜ë“œ (Monad)

ë“œë””ì–´ ì™”ìŠµë‹ˆë‹¤, ëª¨ë‚˜ë“œ. ì¸í„°ë„·ì— "ëª¨ë‚˜ë“œ ì„¤ëª…" ì¹˜ë©´ ì˜¨ê°– ë³µì¡í•œ ê¸€ì´ ë‚˜ì˜¤ëŠ”ë°ìš”, ì‚¬ì‹¤ í•µì‹¬ì€ ê°„ë‹¨í•©ë‹ˆë‹¤.

#### ğŸ­ ë¹„ìœ : ê¸°ì°¨ ì„ ë¡œ ì „í™˜ê¸°

`map`ì˜ ë¬¸ì œê°€ ë­ëƒë©´, **í•¨ìˆ˜ ê²°ê³¼ê°€ ë˜ ì»¨í…Œì´ë„ˆì¼ ë•Œ ì¤‘ì²©**ì´ ë©ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ëª¨ë‚˜ë“œ = ì„ ë¡œ ì „í™˜ê¸°                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  mapì˜ ë¬¸ì œ:                                                    â”‚
â”‚                                                                 â”‚
â”‚  Optional<String> name = ...;                                   â”‚
â”‚  Optional<Optional<Address>> nested = name.map(findAddress);   â”‚
â”‚  // ğŸ˜± ì¤‘ì²©ë¨! Optional ì•ˆì— Optional                          â”‚
â”‚                                                                 â”‚
â”‚  í•´ê²°ì±… - flatMapì´ ì¤‘ì²©ì„ í’€ì–´ì¤Œ:                              â”‚
â”‚                                                                 â”‚
â”‚     map:                              flatMap:                  â”‚
â”‚     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚     â”Œâ”€â”€â”€â”    f    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”    f    â”Œâ”€â”€â”€â”      â”‚
â”‚     â”‚ A â”‚ â”€â”€â”€â”€â”€â”€â†’ â”‚ M< M<B> >â”‚         â”‚ A â”‚ â”€â”€â”€â”€â”€â”€â†’ â”‚ B â”‚      â”‚
â”‚     â””â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”˜         â””â”€â”€â”€â”˜       â”‚
â”‚                   ì¤‘ì²©! ğŸ˜±            í‰í‰! ğŸ˜Š                  â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                                                 â”‚
â”‚  ì² ë„ ë¹„ìœ :                                                      â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â†’ ì„±ê³µ ì„ ë¡œ    â”‚
â”‚      â•‘                                    â•‘                     â”‚
â”‚      â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                     â”‚
â”‚         ì‹¤íŒ¨ ì„ ë¡œ       â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â†’   â”‚
â”‚                                                                 â”‚
â”‚  flatMapì€ ì„ ë¡œë¥¼ ì¤‘ì²© ì—†ì´ ì—°ê²°í•´ì¤Œ!                           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ëª¨ë‚˜ë“œê°€ ë˜ë ¤ë©´?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ëª¨ë‚˜ë“œ ìš”êµ¬ì‚¬í•­                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. íƒ€ì… ìƒì„±ì: M<T>                                           â”‚
â”‚     ì˜ˆ: Optional<T>, List<T>, CompletableFuture<T>             â”‚
â”‚                                                                 â”‚
â”‚  2. ê°’ì„ ë„£ëŠ” ë°©ë²•: of(value) / pure(value)                    â”‚
â”‚     Optional.of(5), List.of(1,2,3), CompletableFuture.completedFuture(x)â”‚
â”‚                                                                 â”‚
â”‚  3. ì—°ì‚° ì—°ê²°í•˜ëŠ” ë°©ë²•: flatMap (ë˜ëŠ” bind)                     â”‚
â”‚     .flatMap(a -> M<B>)                                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ëª¨ë‚˜ë“œ ë²•ì¹™ (Monad Laws)

ëª¨ë‚˜ë“œë¼ê³  ë¶ˆë¦¬ë ¤ë©´ ì´ ì„¸ ê°€ì§€ ë²•ì¹™ì„ ë§Œì¡±í•´ì•¼ í•©ë‹ˆë‹¤:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ëª¨ë‚˜ë“œ ë²•ì¹™                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. Left Identity (ì™¼ìª½ í•­ë“± ë²•ì¹™):                             â”‚
â”‚     of(a).flatMap(f) == f(a)                                   â”‚
â”‚     "ê°’ì„ ê°ì‹¸ì„œ ë°”ë¡œ flatMap í•˜ë©´, ê·¸ëƒ¥ í•¨ìˆ˜ ì ìš©í•œ ê²ƒê³¼ ê°™ìŒ" â”‚
â”‚                                                                 â”‚
â”‚  2. Right Identity (ì˜¤ë¥¸ìª½ í•­ë“± ë²•ì¹™):                          â”‚
â”‚     m.flatMap(of) == m                                         â”‚
â”‚     "flatMapìœ¼ë¡œ ë‹¤ì‹œ ê°ì‹¸ê¸°ë§Œ í•˜ë©´ ì›ë˜ ê·¸ëŒ€ë¡œ"                â”‚
â”‚                                                                 â”‚
â”‚  3. Associativity (ê²°í•© ë²•ì¹™):                                  â”‚
â”‚     m.flatMap(f).flatMap(g) == m.flatMap(a -> f(a).flatMap(g)) â”‚
â”‚     "flatMap ì²´ì´ë‹ ìˆœì„œë¥¼ ë°”ê¿” ë¬¶ì–´ë„ ê²°ê³¼ëŠ” ê°™ìŒ"             â”‚
â”‚                                                                 â”‚
â”‚  ì˜ˆì‹œ (Optional):                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”‚
â”‚                                                                 â”‚
â”‚  // ë¨¼ì € fë¥¼ ì •ì˜ (ê°’ì„ ë°›ì•„ ëª¨ë‚˜ë“œ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜)              â”‚
â”‚  Function<Integer, Optional<Integer>> f = x -> Optional.of(x * 2);â”‚
â”‚                                                                 â”‚
â”‚  // Left Identity: of(a).flatMap(f) == f(a)                    â”‚
â”‚  Optional.of(5).flatMap(f)  // Optional.of(10)                 â”‚
â”‚      .equals(f.apply(5));   // Optional.of(10) â†’ true! âœ…      â”‚
â”‚  // "ê°’ì„ ê°ì‹¸ì„œ ë°”ë¡œ flatMapí•˜ë©´ ê·¸ëƒ¥ í•¨ìˆ˜ ì ìš©í•œ ê²ƒê³¼ ê°™ìŒ"   â”‚
â”‚                                                                 â”‚
â”‚  // Right Identity: m.flatMap(of) == m                         â”‚
â”‚  Optional.of(5).flatMap(Optional::of)  // Optional.of(5)       â”‚
â”‚      .equals(Optional.of(5));          // true! âœ…             â”‚
â”‚  // "flatMapìœ¼ë¡œ ë‹¤ì‹œ ê°ì‹¸ê¸°ë§Œ í•˜ë©´ ì›ë˜ ê·¸ëŒ€ë¡œ"                â”‚
â”‚  // â­ ì—¬ê¸°ì„œ Optional::ofê°€ í•­ë“± ì—­í• !                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ì‹¤ì „ ì½”ë“œ: null ì§€ì˜¥ íƒˆì¶œ

```java
// src/main/java/com/example/fp/MonadDemo.java

public class MonadDemo {
    
    record User(Long id, String name, Optional<Long> addressId) {}
    record Address(Long id, String street, String city) {}
    
    // ì‹¤íŒ¨í•  ìˆ˜ ìˆëŠ” ì¡°íšŒ ë©”ì„œë“œë“¤
    Optional<User> findUser(Long id) { /* ... */ return Optional.empty(); }
    Optional<Address> findAddress(Long id) { /* ... */ return Optional.empty(); }
    
    // âŒ flatMap ì—†ì´: ì¤‘ì²© ì§€ì˜¥
    public Optional<Optional<Optional<String>>> getCityBad(Long userId) {
        return findUser(userId)                              // Optional<User>
            .map(user -> user.addressId())                   // Optional<Optional<Long>>
            .map(optId -> optId.flatMap(this::findAddress))  // ğŸ˜± ì ì  ë³µì¡
            .map(optAddr -> optAddr.map(Address::city));     // ğŸ˜±ğŸ˜±ğŸ˜±
    }
    
    // âœ… flatMap ì‚¬ìš©: ê¹”ë”í•œ ì„ ë¡œ
    public Optional<String> getCityGood(Long userId) {
        return findUser(userId)                    // Optional<User>
            .flatMap(user -> user.addressId()      // Optional<Long>
                .flatMap(this::findAddress))       // Optional<Address>
            .map(Address::city);                   // Optional<String>
    }
    
    // âœ… ë” ê¹”ë”í•˜ê²Œ
    public Optional<String> getCityCleanest(Long userId) {
        return findUser(userId)
            .flatMap(User::addressId)     // Optionalì„ 0-1ê°œ ì»¬ë ‰ì…˜ìœ¼ë¡œ ì·¨ê¸‰
            .flatMap(this::findAddress)
            .map(Address::city);
    }
}
```

#### ìë°”/ì½”í‹€ë¦°ì˜ ì£¼ìš” ëª¨ë‚˜ë“œë“¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ìì£¼ ì“°ëŠ” ëª¨ë‚˜ë“œ                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ëª¨ë‚˜ë“œ            â”‚ ì˜ë¯¸                  â”‚ flatMap ì´ë¦„      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  Optional<T>      â”‚ ê°’ì´ ìˆê±°ë‚˜ ì—†ê±°ë‚˜   â”‚ .flatMap()         â”‚
â”‚  List<T>          â”‚ ì—¬ëŸ¬ ê°’              â”‚ .flatMap()         â”‚
â”‚  Stream<T>        â”‚ ì§€ì—° ì‹œí€€ìŠ¤          â”‚ .flatMap()         â”‚
â”‚  CompletableFutureâ”‚ ë¹„ë™ê¸° ê³„ì‚°          â”‚ .thenCompose()     â”‚
â”‚  Result<T,E>      â”‚ ì„±ê³µ ë˜ëŠ” ì—ëŸ¬       â”‚ (Kotlin/Vavr)      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ëª¨ë‚˜ë“œ ì²´ì´ë‹ì˜ ìœ„ë ¥

```kotlin
// src/main/kotlin/com/example/fp/MonadChaining.kt

// ì—¬ëŸ¬ ë‹¨ê³„ ì‹¤íŒ¨ë¥¼ ìš°ì•„í•˜ê²Œ ì²˜ë¦¬
sealed class Result<out T, out E> {
    data class Success<T>(val value: T) : Result<T, Nothing>()
    data class Failure<E>(val error: E) : Result<Nothing, E>()
    
    inline fun <R> map(f: (T) -> R): Result<R, E> = when (this) {
        is Success -> Success(f(value))
        is Failure -> this
    }
    
    inline fun <R> flatMap(f: (T) -> Result<R, @UnsafeVariance E>): Result<R, E> = 
        when (this) {
            is Success -> f(value)
            is Failure -> this
        }
}

// ì‹¤ì „: ì£¼ë¬¸ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸
fun processOrder(orderId: String): Result<Receipt, OrderError> {
    return validateOrderId(orderId)           // Result<OrderId, OrderError>
        .flatMap { findOrder(it) }            // Result<Order, OrderError>
        .flatMap { validateInventory(it) }    // Result<ValidatedOrder, OrderError>
        .flatMap { processPayment(it) }       // Result<PaidOrder, OrderError>
        .map { createReceipt(it) }            // Result<Receipt, OrderError>
}
// ì–´ëŠ ë‹¨ê³„ì—ì„œë“  ì‹¤íŒ¨í•˜ë©´ ì—ëŸ¬ê°€ ìë™ìœ¼ë¡œ ì „íŒŒë¨!
```

---

### 4.3 ì–´í”Œë¦¬ì»¤í‹°ë¸Œ (Applicative)

ë“œë””ì–´ ê³„ì¸µ êµ¬ì¡°ì˜ ì¤‘ê°„ ë‹¨ê³„ì¸ ì–´í”Œë¦¬ì»¤í‹°ë¸Œì…ë‹ˆë‹¤. Functorì™€ Monad ì‚¬ì´ì— ìˆëŠ”ë°, ì‹¤ë¬´ì—ì„œ **í¼ ê²€ì¦**í•  ë•Œ ì •ë§ ìœ ìš©í•©ë‹ˆë‹¤.

#### ğŸ­ ë¹„ìœ : ì€í–‰ ì°½êµ¬

ëª¨ë‚˜ë“œëŠ” **í•œ ì¤„ë¡œ ëŠ˜ì–´ì„  ATM**ì²˜ëŸ¼ ìˆœì°¨ì ì…ë‹ˆë‹¤. ì• ì‚¬ëŒì´ ëë‚˜ì•¼ ë’· ì‚¬ëŒì´ í•  ìˆ˜ ìˆì–´ìš”.

ë°˜ë©´ ì–´í”Œë¦¬ì»¤í‹°ë¸ŒëŠ” **ì—¬ëŸ¬ ê°œì˜ ì€í–‰ ì°½êµ¬**ì™€ ê°™ìŠµë‹ˆë‹¤. ê° ì°½êµ¬ì—ì„œ ë…ë¦½ì ìœ¼ë¡œ ì—…ë¬´ë¥¼ ë³´ê³ , ë§ˆì§€ë§‰ì— ê²°ê³¼ë¥¼ í•©ì¹˜ë©´ ë©ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Applicative = ë³‘ë ¬ ì€í–‰ ì°½êµ¬                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Monad (ìˆœì°¨ì  - ATM ì¤„):                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”                                 â”‚
â”‚  â”‚ 1ë²ˆ â”‚â”€â”€â”€â†’â”‚ 2ë²ˆ â”‚â”€â”€â”€â†’â”‚ 3ë²ˆ â”‚   ì• ì‚¬ëŒ ëë‚˜ì•¼ ë‹¤ìŒ!         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚  ì´ì „ ê²°ê³¼ê°€ ë‹¤ìŒ ì…ë ¥ìœ¼ë¡œ í•„ìš”í•¨                               â”‚
â”‚                                                                 â”‚
â”‚  Applicative (ë…ë¦½ì  - ì—¬ëŸ¬ ì°½êµ¬):                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”                                                        â”‚
â”‚  â”‚ 1ë²ˆ â”‚â”€â”€â”                                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜  â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚  â”‚ 2ë²ˆ â”‚â”€â”€â”¼â”€â”€â”€â†’â”‚ ê²°ê³¼ í•©ì¹¨ â”‚   ê°ì ë…ë¦½! ë§ˆì§€ë§‰ì— í•©ì¹¨        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”  â”‚                                                     â”‚
â”‚  â”‚ 3ë²ˆ â”‚â”€â”€â”˜                                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜                                                        â”‚
â”‚  ì„œë¡œ ì˜ì¡´í•˜ì§€ ì•ŠìŒ                                             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Monad vs Applicative: í•µì‹¬ ì°¨ì´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Monad vs Applicative ì°¨ì´                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Monad (flatMap):                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                               â”‚
â”‚  â€¢ ì´ì „ ê²°ê³¼ë¥¼ ë³´ê³  ë‹¤ìŒ ê³„ì‚° ê²°ì •                              â”‚
â”‚  â€¢ ì‹¤íŒ¨í•˜ë©´ ì¦‰ì‹œ ì¤‘ë‹¨ (fail-fast)                               â”‚
â”‚  â€¢ ìˆœì°¨ì  ì˜ì¡´ ê´€ê³„                                             â”‚
â”‚                                                                 â”‚
â”‚  userId.flatMap(id ->                                          â”‚
â”‚      findUser(id).flatMap(user ->      // user ìˆì–´ì•¼ ë‹¤ìŒ ê°€ëŠ¥â”‚
â”‚          findAddress(user.addressId()) // addressIdê°€ í•„ìš”!    â”‚
â”‚      )                                                          â”‚
â”‚  )                                                              â”‚
â”‚                                                                 â”‚
â”‚  Applicative (combine / ap):                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                      â”‚
â”‚  â€¢ ê³„ì‚°ë“¤ì´ ì„œë¡œ ë…ë¦½ì                                          â”‚
â”‚  â€¢ ëª¨ë“  ì—ëŸ¬ ìˆ˜ì§‘ ê°€ëŠ¥ (error accumulation)                     â”‚
â”‚  â€¢ ë³‘ë ¬ ì‹¤í–‰ ê°€ëŠ¥                                               â”‚
â”‚                                                                 â”‚
â”‚  combine(                                                       â”‚
â”‚      validateName(input.name),      // ë…ë¦½!                   â”‚
â”‚      validateEmail(input.email),    // ë…ë¦½!                   â”‚
â”‚      validateAge(input.age)         // ë…ë¦½!                   â”‚
â”‚  ).map(User::new)                   // ì „ë¶€ ì„±ê³µí•˜ë©´ í•©ì¹¨      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Validation: ì–´í”Œë¦¬ì»¤í‹°ë¸Œì˜ ê½ƒ

í¼ ê²€ì¦ì„ ìƒê°í•´ë³´ì„¸ìš”. ì´ë¦„, ì´ë©”ì¼, ë‚˜ì´ ê²€ì¦ì€ ì„œë¡œ ë…ë¦½ì ì…ë‹ˆë‹¤. Monad(Result)ë¥¼ ì“°ë©´ ì²« ë²ˆì§¸ ì—ëŸ¬ì—ì„œ ë©ˆì¶”ì§€ë§Œ, **Validation**ì„ ì“°ë©´ ëª¨ë“  ì—ëŸ¬ë¥¼ í•œ ë²ˆì— ìˆ˜ì§‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java
// src/main/java/com/example/fp/ValidationDemo.java

// Validation: ì—ëŸ¬ë¥¼ ìˆ˜ì§‘í•˜ëŠ” íƒ€ì…
public sealed interface Validation<E, A>
        permits Valid, Invalid {

    // ê²€ì¦ ì„±ê³µ
    record Valid<E, A>(A value) implements Validation<E, A> {}

    // ê²€ì¦ ì‹¤íŒ¨ (ì—ëŸ¬ ëª©ë¡ - í•˜ë‚˜ ì´ìƒ!)
    record Invalid<E, A>(List<E> errors) implements Validation<E, A> {}

    // mapì€ í‘í„°ì²˜ëŸ¼ ë™ì‘
    default <B> Validation<E, B> map(Function<A, B> f) {
        return switch (this) {
            case Valid<E, A> v -> new Valid<>(f.apply(v.value()));
            case Invalid<E, A> i -> new Invalid<>(i.errors());
        };
    }

    // â­ combine: ì–´í”Œë¦¬ì»¤í‹°ë¸Œì˜ í•µì‹¬!
    static <E, A, B, C> Validation<E, C> combine(
            Validation<E, A> va,
            Validation<E, B> vb,
            BiFunction<A, B, C> f
    ) {
        return switch (va) {
            case Valid<E, A> a -> switch (vb) {
                case Valid<E, B> b -> new Valid<>(f.apply(a.value(), b.value()));
                case Invalid<E, B> ib -> new Invalid<>(ib.errors());
            };
            case Invalid<E, A> ia -> switch (vb) {
                case Valid<E, B> b -> new Invalid<>(ia.errors());
                case Invalid<E, B> ib -> {
                    // âœ¨ ì—ëŸ¬ í•©ì¹˜ê¸°! (ëª¨ë…¸ì´ë“œ ì‚¬ìš©)
                    var combined = new ArrayList<>(ia.errors());
                    combined.addAll(ib.errors());
                    yield new Invalid<>(combined);
                }
            };
        };
    }
}
```

#### ì‹¤ì „: í¼ ê²€ì¦ ì˜ˆì œ

```java
// src/main/java/com/example/fp/FormValidation.java

public class FormValidation {

    record CreateUserRequest(String name, String email, int age) {}
    record User(String name, Email email, Age age) {}

    // ê° í•„ë“œë³„ ê²€ì¦ í•¨ìˆ˜ (ì„œë¡œ ë…ë¦½!)
    Validation<String, String> validateName(String name) {
        if (name == null || name.isBlank()) {
            return new Invalid<>(List.of("ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤"));
        }
        if (name.length() < 2) {
            return new Invalid<>(List.of("ì´ë¦„ì€ 2ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤"));
        }
        return new Valid<>(name.trim());
    }

    Validation<String, Email> validateEmail(String email) {
        if (email == null || !email.contains("@")) {
            return new Invalid<>(List.of("ìœ íš¨í•œ ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”"));
        }
        return new Valid<>(new Email(email));
    }

    Validation<String, Age> validateAge(int age) {
        if (age < 0 || age > 150) {
            return new Invalid<>(List.of("ë‚˜ì´ëŠ” 0~150 ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤"));
        }
        return new Valid<>(new Age(age));
    }

    // âŒ Result(Monad) ì‚¬ìš© ì‹œ: ì²« ì—ëŸ¬ì—ì„œ ì¤‘ë‹¨!
    Result<String, User> validateWithResult(CreateUserRequest req) {
        return validateName(req.name())
            .flatMap(name -> validateEmail(req.email())
                .flatMap(email -> validateAge(req.age())
                    .map(age -> new User(name, email, age))));
        // ì´ë¦„ì´ ì˜ëª»ë˜ë©´ ì´ë©”ì¼/ë‚˜ì´ ì—ëŸ¬ëŠ” ëª» ë´„!
    }

    // âœ… Validation(Applicative) ì‚¬ìš© ì‹œ: ëª¨ë“  ì—ëŸ¬ ìˆ˜ì§‘!
    Validation<String, User> validateWithValidation(CreateUserRequest req) {
        return Validation.combine3(
            validateName(req.name()),
            validateEmail(req.email()),
            validateAge(req.age()),
            User::new   // ì„¸ ê²€ì¦ ëª¨ë‘ ì„±ê³µí•˜ë©´ User ìƒì„±
            // â†‘ User::newëŠ” TriFunction<String, Email, Age, User>ë¡œ ë³€í™˜ë¨!
            //
            // combine3 ë‚´ë¶€ ë™ì‘:
            // - ì„¸ Validation ëª¨ë‘ Valid â†’ combiner.apply(name, email, age) í˜¸ì¶œ
            // - í•˜ë‚˜ë¼ë„ Invalid â†’ ëª¨ë“  ì—ëŸ¬ ìˆ˜ì§‘í•˜ì—¬ ë°˜í™˜
            //
            // Java ì»´íŒŒì¼ëŸ¬ê°€ User(String, Email, Age) ìƒì„±ìë¥¼
            // TriFunction íƒ€ì…ì— ë§ê²Œ ìë™ ë§¤ì¹­í•´ì¤ë‹ˆë‹¤.
        );
        // ëª¨ë“  í•„ë“œì˜ ì—ëŸ¬ë¥¼ í•œ ë²ˆì— ë°˜í™˜!
    }
}

// ì‚¬ìš© ì˜ˆì‹œ
var request = new CreateUserRequest("", "bad-email", -5);
var result = formValidation.validateWithValidation(request);
// Invalid([
//   "ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤",
//   "ìœ íš¨í•œ ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”",
//   "ë‚˜ì´ëŠ” 0~150 ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤"
// ])
// ì„¸ ê°œì˜ ì—ëŸ¬ê°€ í•œ ë²ˆì—! ğŸ˜Š
```

#### ğŸ’¡ ì‹¤ì „ ì˜ˆì œ: ìˆ™ë°• ì˜ˆì•½ ê²€ì¦

íšŒì›ê°€ì… í¼ë¿ë§Œ ì•„ë‹ˆë¼ ìˆ™ë°• ì˜ˆì•½ì—ì„œë„ Validationì€ ìœ ìš©í•©ë‹ˆë‹¤.

```java
// ì˜ˆì•½ ìš”ì²­ ê²€ì¦
public class BookingValidation {

    record BookingRequest(
        String guestName,
        String email,
        LocalDate checkIn,
        LocalDate checkOut,
        int guestCount,
        String roomType
    ) {}

    record ValidatedBooking(
        GuestName name,
        Email email,
        DateRange stay,
        GuestCount guests,
        RoomType room
    ) {}

    // ê° í•„ë“œë³„ ë…ë¦½ ê²€ì¦
    Validation<String, GuestName> validateGuestName(String name) {
        if (name == null || name.isBlank())
            return new Invalid<>(List.of("ì˜ˆì•½ìëª…ì„ ì…ë ¥í•˜ì„¸ìš”"));
        return new Valid<>(new GuestName(name.trim()));
    }

    Validation<String, DateRange> validateDateRange(LocalDate checkIn, LocalDate checkOut) {
        var errors = new ArrayList<String>();

        if (checkIn == null)
            errors.add("ì²´í¬ì¸ ë‚ ì§œë¥¼ ì„ íƒí•˜ì„¸ìš”");
        if (checkOut == null)
            errors.add("ì²´í¬ì•„ì›ƒ ë‚ ì§œë¥¼ ì„ íƒí•˜ì„¸ìš”");
        if (checkIn != null && checkOut != null) {
            if (!checkIn.isBefore(checkOut))
                errors.add("ì²´í¬ì•„ì›ƒì€ ì²´í¬ì¸ ì´í›„ì—¬ì•¼ í•©ë‹ˆë‹¤");
            if (checkIn.isBefore(LocalDate.now()))
                errors.add("ê³¼ê±° ë‚ ì§œëŠ” ì˜ˆì•½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤");
        }

        return errors.isEmpty()
            ? new Valid<>(new DateRange(checkIn, checkOut))
            : new Invalid<>(errors);
    }

    Validation<String, GuestCount> validateGuestCount(int count, String roomType) {
        int maxGuests = getMaxGuests(roomType);  // ë£¸ íƒ€ì…ë³„ ìµœëŒ€ ì¸ì›
        if (count < 1)
            return new Invalid<>(List.of("ìµœì†Œ 1ëª… ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤"));
        if (count > maxGuests)
            return new Invalid<>(List.of(
                String.format("%s ê°ì‹¤ ìµœëŒ€ ì¸ì›ì€ %dëª…ì…ë‹ˆë‹¤", roomType, maxGuests)
            ));
        return new Valid<>(new GuestCount(count));
    }

    // Applicative í•©ì„±: ëª¨ë“  ì—ëŸ¬ ìˆ˜ì§‘!
    Validation<String, ValidatedBooking> validateBooking(BookingRequest req) {
        return Validation.combine5(
            validateGuestName(req.guestName()),
            validateEmail(req.email()),
            validateDateRange(req.checkIn(), req.checkOut()),
            validateGuestCount(req.guestCount(), req.roomType()),
            validateRoomType(req.roomType()),
            ValidatedBooking::new
        );
    }
}

// ì‚¬ìš© ì˜ˆ
var badRequest = new BookingRequest(
    "",                              // ë¹ˆ ì´ë¦„
    "invalid-email",                 // ì˜ëª»ëœ ì´ë©”ì¼
    LocalDate.of(2023, 1, 1),       // ê³¼ê±° ë‚ ì§œ
    LocalDate.of(2023, 1, 1),       // ì²´í¬ì¸ê³¼ ê°™ì€ ë‚ 
    10,                              // ì¸ì› ì´ˆê³¼
    "STANDARD"
);

var result = validation.validateBooking(badRequest);
// Invalid([
//   "ì˜ˆì•½ìëª…ì„ ì…ë ¥í•˜ì„¸ìš”",
//   "ìœ íš¨í•œ ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”",
//   "ê³¼ê±° ë‚ ì§œëŠ” ì˜ˆì•½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤",
//   "ì²´í¬ì•„ì›ƒì€ ì²´í¬ì¸ ì´í›„ì—¬ì•¼ í•©ë‹ˆë‹¤",
//   "STANDARD ê°ì‹¤ ìµœëŒ€ ì¸ì›ì€ 4ëª…ì…ë‹ˆë‹¤"
// ])
// ëª¨ë“  ë¬¸ì œë¥¼ í•œ ë²ˆì— ì‚¬ìš©ìì—ê²Œ ì•Œë ¤ì¤„ ìˆ˜ ìˆìŒ!
```

#### ì™œ Validationì€ Monadê°€ ë  ìˆ˜ ì—†ëŠ”ê°€?

ì´ ì§ˆë¬¸ì€ ë©´ì ‘ì—ì„œë„ ì¢…ì¢… ë‚˜ì˜µë‹ˆë‹¤. í•µì‹¬ì€ **ëª¨ë‚˜ë“œ ë²•ì¹™**ì„ ìœ„ë°˜í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Validationì´ Monadê°€ ë  ìˆ˜ ì—†ëŠ” ì´ìœ                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Monadì˜ flatMapì€ "ì• ê²°ê³¼ë¥¼ ë³´ê³  ë‹¤ìŒì„ ê²°ì •"í•´ì•¼ í•¨:        â”‚
â”‚                                                                 â”‚
â”‚  Invalid([ì—ëŸ¬1]).flatMap(a ->                                  â”‚
â”‚      // ì—¬ê¸°ì„œ 'a'ê°€ ì—†ëŠ”ë° ì–´ë–»ê²Œ ë‹¤ìŒ ê²€ì¦ì„ í˜¸ì¶œí•˜ì§€?        â”‚
â”‚      validateSomething(a)  // ğŸ’¥ aê°€ ì—†ìŒ!                     â”‚
â”‚  )                                                              â”‚
â”‚                                                                 â”‚
â”‚  ë§Œì•½ ì–µì§€ë¡œ flatMapì„ êµ¬í˜„í•˜ë©´?                                â”‚
â”‚  - ì•ì´ Invalidë©´ ë’¤ëŠ” ì‹¤í–‰ ë¶ˆê°€ â†’ ì—ëŸ¬ ìˆ˜ì§‘ ë¶ˆê°€!             â”‚
â”‚  - ì´ëŸ¬ë©´ ê·¸ëƒ¥ Resultì™€ ê°™ì•„ì§                                  â”‚
â”‚                                                                 â”‚
â”‚  ê²°ë¡ :                                                          â”‚
â”‚  â”€â”€â”€â”€â”€                                                          â”‚
â”‚  â€¢ ì—ëŸ¬ ìˆ˜ì§‘ì„ ìœ„í•´ì„  ëª¨ë“  ê²€ì¦ì´ "ë…ë¦½ì "ì´ì–´ì•¼ í•¨             â”‚
â”‚  â€¢ flatMapì€ "ìˆœì°¨ì  ì˜ì¡´"ì„ ì „ì œë¡œ í•¨                         â”‚
â”‚  â€¢ ì´ ë‘˜ì€ ë³¸ì§ˆì ìœ¼ë¡œ ì¶©ëŒ!                                     â”‚
â”‚                                                                 â”‚
â”‚  Validationì€ Applicativeì´ì§€ë§Œ MonadëŠ” ì•„ë‹˜                   â”‚
â”‚  Result/EitherëŠ” Monadì´ì Applicative (í•˜ì§€ë§Œ ì—ëŸ¬ ìˆ˜ì§‘ ë¶ˆê°€) â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Result vs Validation: ì–¸ì œ ë¬´ì—‡ì„ ì“¸ê¹Œ?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Result vs Validation ì„ íƒ ê°€ì´ë“œ                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Result<T, E> (Monad) ì‚¬ìš©:                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                    â”‚
â”‚  â€¢ ìˆœì°¨ì  íŒŒì´í”„ë¼ì¸ (ì• ë‹¨ê³„ ì„±ê³µí•´ì•¼ ë‹¤ìŒ ê°€ëŠ¥)              â”‚
â”‚  â€¢ ì™¸ë¶€ API í˜¸ì¶œ ì²´ì´ë‹                                        â”‚
â”‚  â€¢ ê²°ì œ ì²˜ë¦¬ ê°™ì€ íŠ¸ëœì­ì…˜                                     â”‚
â”‚  â€¢ ì²« ì‹¤íŒ¨ì—ì„œ ì¤‘ë‹¨í•´ë„ ë˜ëŠ” ê²½ìš°                              â”‚
â”‚                                                                 â”‚
â”‚  ì˜ˆ: ê²°ì œ íë¦„                                                  â”‚
â”‚  validateOrder â†’ reserveStock â†’ processPayment â†’ sendEmail    â”‚
â”‚  (ì• ë‹¨ê³„ ì‹¤íŒ¨í•˜ë©´ ë’¤ëŠ” ì˜ë¯¸ ì—†ìŒ)                             â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                                                 â”‚
â”‚  Validation<E, T> (Applicative) ì‚¬ìš©:                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                           â”‚
â”‚  â€¢ í¼ ê²€ì¦ (ëª¨ë“  í•„ë“œ ë…ë¦½ì )                                  â”‚
â”‚  â€¢ ì„¤ì • íŒŒì¼ íŒŒì‹±                                              â”‚
â”‚  â€¢ ì—¬ëŸ¬ ë…ë¦½ì  ê²€ì¦ ê·œì¹™ ì ìš©                                  â”‚
â”‚  â€¢ ì‚¬ìš©ìì—ê²Œ ëª¨ë“  ì—ëŸ¬ë¥¼ í•œ ë²ˆì— ë³´ì—¬ì¤˜ì•¼ í•  ë•Œ               â”‚
â”‚                                                                 â”‚
â”‚  ì˜ˆ: íšŒì›ê°€ì… í¼                                                â”‚
â”‚  validateName + validateEmail + validatePassword               â”‚
â”‚  (ì„¸ í•„ë“œê°€ ì„œë¡œ ì˜í–¥ ì•ˆ ì¤Œ, ì—ëŸ¬ ì „ë¶€ ë³´ì—¬ì¤˜ì•¼ í•¨)            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ê²°ì • í”Œë¡œìš°ì°¨íŠ¸                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Q: ë‹¨ê³„ë“¤ì´ ì„œë¡œ ì˜ì¡´í•˜ë‚˜ìš”?                                    â”‚
â”‚     â”‚                                                            â”‚
â”‚     â”œâ”€â”€ YES â†’ Result (Monad) ì‚¬ìš©                               â”‚
â”‚     â”‚         "ì• ë‹¨ê³„ ê²°ê³¼ê°€ ë’· ë‹¨ê³„ ì…ë ¥ìœ¼ë¡œ í•„ìš”"             â”‚
â”‚     â”‚                                                            â”‚
â”‚     â””â”€â”€ NO â†’ Q: ëª¨ë“  ì—ëŸ¬ë¥¼ ìˆ˜ì§‘í•´ì•¼ í•˜ë‚˜ìš”?                    â”‚
â”‚               â”‚                                                  â”‚
â”‚               â”œâ”€â”€ YES â†’ Validation (Applicative) ì‚¬ìš©           â”‚
â”‚               â”‚         "í¼ ê²€ì¦, ì„¤ì • íŒŒì‹± ë“±"                  â”‚
â”‚               â”‚                                                  â”‚
â”‚               â””â”€â”€ NO â†’ Resultë„ OK (ë” ê°„ë‹¨)                    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Railway-Oriented Programming (ROP)ê³¼ì˜ ì—°ê²°

ì—¬ê¸°ì„œ ë°°ìš´ Result/Validation íŒ¨í„´ì„ **Railway-Oriented Programming**ì´ë¼ê³ ë„ ë¶€ë¦…ë‹ˆë‹¤. ì² ë„ ë¶„ê¸°ì ì²˜ëŸ¼ ì„±ê³µ/ì‹¤íŒ¨ ë‘ íŠ¸ë™ì„ ë‹¬ë¦¬ëŠ” ê±°ì£ .

**Result (Fail-Fast) - ìˆœì°¨ì  ì² ë„**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Result: Fail-Fast íŒ¨í„´                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ì„±ê³µ íŠ¸ë™:                                                     â”‚
â”‚  â•â•â•â•[ê²€ì¦1]â•â•â•â•â•â•â•[ê²€ì¦2]â•â•â•â•â•â•â•[ê²€ì¦3]â•â•â•â•â•â•â•â•â•â•â†’ Success   â”‚
â”‚         â”‚                                                       â”‚
â”‚         â†“ (ì‹¤íŒ¨ì‹œ ì¦‰ì‹œ íƒˆì„ )                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Failure â”‚
â”‚  ì‹¤íŒ¨ íŠ¸ë™                                                      â”‚
â”‚                                                                 â”‚
â”‚  íŠ¹ì§•: ì²« ë²ˆì§¸ ì‹¤íŒ¨ì—ì„œ ì¦‰ì‹œ ì¤‘ë‹¨! ë’¤ ê²€ì¦ì€ ì‹¤í–‰ ì•ˆ ë¨       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Validation (Error Accumulation) - ë³‘ë ¬ ê²€ì¦**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Validation: Error Accumulation íŒ¨í„´               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚     [ê²€ì¦1]         [ê²€ì¦2]         [ê²€ì¦3]                    â”‚
â”‚        â”‚               â”‚               â”‚                        â”‚
â”‚        â†“               â†“               â†“                        â”‚
â”‚     Valid/          Valid/          Valid/       â† ëª¨ë‘ ë…ë¦½   â”‚
â”‚     Invalid         Invalid         Invalid         ì‹¤í–‰!      â”‚
â”‚        â”‚               â”‚               â”‚                        â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                        â†“                                        â”‚
â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚                 â”‚  ê²°ê³¼ ë³‘í•©   â”‚                                 â”‚
â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                        â”‚                                        â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚            â†“                       â†“                            â”‚
â”‚    ëª¨ë‘ Valid â†’ Valid      í•˜ë‚˜ë¼ë„ Invalid â†’                  â”‚
â”‚                            Invalid(["ì—ëŸ¬1", "ì—ëŸ¬2", ...])    â”‚
â”‚                                                                 â”‚
â”‚  íŠ¹ì§•: ëª¨ë“  ê²€ì¦ ì‹¤í–‰! ì—ëŸ¬ë¥¼ ìˆ˜ì§‘í•˜ì—¬ í•œ ë²ˆì— ë°˜í™˜            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“ 4ì¥ í€´ì¦ˆ

**í€´ì¦ˆ 4.1 (ì´ˆê¸‰)**: ë‹¤ìŒ ì¤‘ ì˜¬ë°”ë¥¸ ì„¤ëª…ì„ ê³ ë¥´ì„¸ìš”.
- A: map()ì€ ì»¨í…Œì´ë„ˆë¥¼ í‰íƒ„í™”í•œë‹¤
- B: flatMap()ì€ ì¤‘ì²©ëœ ì»¨í…Œì´ë„ˆë¥¼ í‰íƒ„í™”í•œë‹¤
- C: í‘í„°ëŠ” flatMap()ì„ ì œê³µí•˜ëŠ” íƒ€ì…ì´ë‹¤
- D: ëª¨ë‚˜ë“œëŠ” map()ë§Œ ì œê³µí•˜ë©´ ëœë‹¤

**í€´ì¦ˆ 4.2 (ì¤‘ê¸‰)**: ë‹¤ìŒ ì½”ë“œì˜ ì°¨ì´ì ì„ ì„¤ëª…í•˜ì„¸ìš”.

```java
Optional.of("5")
    .map(s -> Optional.of(Integer.parseInt(s)));
// vs
Optional.of("5")
    .flatMap(s -> Optional.of(Integer.parseInt(s)));
```

**í€´ì¦ˆ 4.3 (ê³ ê¸‰)**: í¼ ê²€ì¦ì—ì„œ Result(Monad) ëŒ€ì‹  Validation(Applicative)ì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì´ìœ ë¥¼ ì„¤ëª…í•˜ì„¸ìš”. Validationì´ Monadê°€ ë  ìˆ˜ ì—†ëŠ” ì´ìœ ë„ í•¨ê»˜ ì„¤ëª…í•˜ì„¸ìš”.

> ì •ë‹µì€ ë¬¸ì„œ ë [í€´ì¦ˆ ì •ë‹µ](#í€´ì¦ˆ-ì •ë‹µ) ì„¹ì…˜ì—ì„œ í™•ì¸í•˜ì„¸ìš”.

---

## 5. ëŒ€ìˆ˜ì  êµ¬ì¡°

ì™œ "ëŒ€ìˆ˜ì "ì´ë¼ê³  ë¶€ë¥¼ê¹Œìš”? ëŒ€ìˆ˜í•™(Algebra)ì€ **ì—°ì‚°ê³¼ ê·¸ ë²•ì¹™**ì„ ì—°êµ¬í•˜ëŠ” ìˆ˜í•™ ë¶„ì•¼ì…ë‹ˆë‹¤. í”„ë¡œê·¸ë˜ë°ì—ì„œëŠ” ê°’ë“¤ì„ ê²°í•©í•˜ëŠ” ì—°ì‚°ì˜ "ê³„ì•½(Contract)"ì„ ì •ì˜í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ì™œ ëŒ€ìˆ˜ì  êµ¬ì¡°ë¥¼ ë°°ìš°ëŠ”ê°€?                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ëª©ì  1: ì¶”ìƒí™”                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ë‹¤ì–‘í•œ íƒ€ì…ì„ ì¼ê´€ëœ ë°©ì‹ìœ¼ë¡œ ë‹¤ë£° ìˆ˜ ìˆìŒ                     â”‚
â”‚  String, Integer, List ëª¨ë‘ "ê²°í•© ê°€ëŠ¥í•œ ê²ƒ"ìœ¼ë¡œ ì¶”ìƒí™”        â”‚
â”‚                                                                 â”‚
â”‚  ëª©ì  2: í•©ì„± ê°€ëŠ¥ì„±                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ì‘ì€ ì¡°ê°ì„ ì¡°ë¦½í•´ì„œ í° ê²ƒì„ ë§Œë“¤ ìˆ˜ ìˆìŒ                      â”‚
â”‚  ëª¨ë…¸ì´ë“œê°€ ìˆìœ¼ë©´ ì–´ë–¤ ì»¬ë ‰ì…˜ì´ë“  reduce ê°€ëŠ¥!                 â”‚
â”‚                                                                 â”‚
â”‚  ëª©ì  3: ê²€ì¦ ê°€ëŠ¥ì„±                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ë²•ì¹™ì„ property-based testë¡œ ê²€ì¦ ê°€ëŠ¥                        â”‚
â”‚  "ë‚´ê°€ ë§Œë“  íƒ€ì…ì´ ì§„ì§œ ëª¨ë…¸ì´ë“œì¸ê°€?" í…ŒìŠ¤íŠ¸ë¡œ í™•ì¸            â”‚
â”‚                                                                 â”‚
â”‚  ëª©ì  4: ë³‘ë ¬í™”                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ê²°í•©ë²•ì¹™ ë•ë¶„ì— ì‘ì—…ì„ ìª¼ê°œì„œ ë³‘ë ¬ ì²˜ë¦¬ ê°€ëŠ¥                  â”‚
â”‚  parallelStream().reduce()ê°€ ë™ì‘í•˜ëŠ” ì´ìœ !                    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.1 ì„¸ë¯¸ê·¸ë£¹ê³¼ ëª¨ë…¸ì´ë“œ

#### ğŸ­ ë¹„ìœ : ë ˆê³  ë¸”ë¡

ë ˆê³  ë¸”ë¡ì€ ë‘ ê°œë¥¼ ë¶™ì´ë©´ ë” í° ë¸”ë¡ì´ ë˜ì£ . ì„¸ ê°œë¥¼ ë¶™ì¼ ë•Œ (A+B)+Cë‚˜ A+(B+C)ë‚˜ ê²°ê³¼ê°€ ê°™ê³ ìš”. ì´ê²Œ **ì„¸ë¯¸ê·¸ë£¹**ì…ë‹ˆë‹¤. ì—¬ê¸°ì— "ì•„ë¬´ê²ƒë„ ì—†ëŠ” ìƒíƒœ"(ë¹ˆ ë°”ë‹¥íŒ)ë¥¼ ë”í•˜ë©´ **ëª¨ë…¸ì´ë“œ**ê°€ ë©ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ì„¸ë¯¸ê·¸ë£¹ & ëª¨ë…¸ì´ë“œ = ë ˆê³                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ì„¸ë¯¸ê·¸ë£¹: ê²°í•©í•  ìˆ˜ ìˆëŠ” ê²ƒë“¤                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                               â”‚
â”‚   ğŸ§± + ğŸ§± = ğŸ§±ğŸ§±  (ë‘ ë¸”ë¡ â†’ ë” í° ë¸”ë¡)                       â”‚
â”‚                                                                 â”‚
â”‚   ë²•ì¹™: (a + b) + c = a + (b + c)  [ê²°í•©ë²•ì¹™]                  â”‚
â”‚   "ì–´ë””ì„œë¶€í„° ê²°í•©í•˜ë“  ê²°ê³¼ëŠ” ê°™ìŒ"                             â”‚
â”‚                                                                 â”‚
â”‚  ëª¨ë…¸ì´ë“œ: ì„¸ë¯¸ê·¸ë£¹ + ë¹ˆ ì›ì†Œ                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                               â”‚
â”‚   ğŸ§± + âˆ… = ğŸ§±  (ë¸”ë¡ + ë¹ˆë°”ë‹¥ = ê·¸ ë¸”ë¡)                       â”‚
â”‚   âˆ… + ğŸ§± = ğŸ§±  (ë¹ˆë°”ë‹¥ + ë¸”ë¡ = ê·¸ ë¸”ë¡)                       â”‚
â”‚                                                                 â”‚
â”‚   ë²•ì¹™: a + empty = a = empty + a  [í•­ë“±ì›]                    â”‚
â”‚                                                                 â”‚
â”‚  ì‹¤ì œ ì˜ˆì‹œ:                                                     â”‚
â”‚   â€¢ String:  ê²°í•© = +,       ë¹ˆê°’ = ""                         â”‚
â”‚   â€¢ Integer: ê²°í•© = +,       ë¹ˆê°’ = 0                          â”‚
â”‚   â€¢ Integer: ê²°í•© = *,       ë¹ˆê°’ = 1                          â”‚
â”‚   â€¢ List:    ê²°í•© = concat,  ë¹ˆê°’ = []                         â”‚
â”‚   â€¢ Boolean: ê²°í•© = &&,      ë¹ˆê°’ = true                       â”‚
â”‚   â€¢ Boolean: ê²°í•© = ||,      ë¹ˆê°’ = false                      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// src/main/java/com/example/fp/MonoidDemo.java

// ëª¨ë…¸ì´ë“œ ì¸í„°í˜ì´ìŠ¤
public interface Monoid<T> {
    T empty();              // í•­ë“±ì›
    T combine(T a, T b);    // ê²°í•© ì—°ì‚°
    
    // ëª¨ë…¸ì´ë“œì˜ í˜: ì•„ë¬´ ì»¬ë ‰ì…˜ì´ë‚˜ reduce ê°€ëŠ¥!
    default T reduceAll(List<T> items) {
        return items.stream().reduce(empty(), this::combine);
    }
}

// êµ¬ì²´ì ì¸ ëª¨ë…¸ì´ë“œë“¤
public class Monoids {
    
    public static final Monoid<Integer> SUM = new Monoid<>() {
        public Integer empty() { return 0; }
        public Integer combine(Integer a, Integer b) { return a + b; }
    };
    
    public static final Monoid<Integer> PRODUCT = new Monoid<>() {
        public Integer empty() { return 1; }
        public Integer combine(Integer a, Integer b) { return a * b; }
    };
    
    public static final Monoid<String> STRING = new Monoid<>() {
        public String empty() { return ""; }
        public String combine(String a, String b) { return a + b; }
    };
}

// ì‚¬ìš©
public static void main(String[] args) {
    var numbers = List.of(1, 2, 3, 4, 5);
    
    System.out.println(Monoids.SUM.reduceAll(numbers));      // 15
    System.out.println(Monoids.PRODUCT.reduceAll(numbers));  // 120
}
```

#### ì™œ ëª¨ë…¸ì´ë“œê°€ ì¤‘ìš”í•œê°€: ë³‘ë ¬í™”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ëª¨ë…¸ì´ë“œ = ë³‘ë ¬í™” ê°€ëŠ¥                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ê²°í•©ë²•ì¹™ì´ ì„±ë¦½í•˜ë‹ˆê¹Œ ì‘ì—…ì„ ìª¼ê°¤ ìˆ˜ ìˆìŒ!                     â”‚
â”‚                                                                 â”‚
â”‚  ìˆœì°¨: ((((1 + 2) + 3) + 4) + 5) = 15                          â”‚
â”‚                                                                 â”‚
â”‚  ë³‘ë ¬:                                                          â”‚
â”‚       ìŠ¤ë ˆë“œ 1: (1 + 2) = 3                                    â”‚
â”‚       ìŠ¤ë ˆë“œ 2: (3 + 4) = 7                                    â”‚
â”‚       ìŠ¤ë ˆë“œ 3: 5                                               â”‚
â”‚       í•©ì¹˜ê¸°:   (3 + 7) + 5 = 15  âœ… ê²°ê³¼ ê°™ìŒ!                â”‚
â”‚                                                                 â”‚
â”‚  ì´ë˜ì„œ parallelStream().reduce()ê°€ ë™ì‘í•˜ëŠ” ê±°ì„!             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“ 5ì¥ í€´ì¦ˆ

**í€´ì¦ˆ 5.1 (ì´ˆê¸‰)**: ë‹¤ìŒ ì¤‘ ëª¨ë…¸ì´ë“œê°€ ì•„ë‹Œ ê²ƒì„ ê³ ë¥´ì„¸ìš”.
- A: (Integer, +, 0)
- B: (Integer, *, 1)
- C: (Integer, -, 0)
- D: (String, +, "")

**í€´ì¦ˆ 5.2 (ì¤‘ê¸‰)**: `parallelStream().reduce()`ê°€ ì•ˆì „í•˜ê²Œ ë™ì‘í•˜ë ¤ë©´ reduce ì—°ì‚°ì´ ì–´ë–¤ ë²•ì¹™ì„ ë§Œì¡±í•´ì•¼ í•˜ë‚˜ìš”?

> ì •ë‹µì€ ë¬¸ì„œ ë [í€´ì¦ˆ ì •ë‹µ](#í€´ì¦ˆ-ì •ë‹µ) ì„¹ì…˜ì—ì„œ í™•ì¸í•˜ì„¸ìš”.

---

## 6. ëŒ€ìˆ˜ì  ë°ì´í„° íƒ€ì… (ADT)

ADT(Algebraic Data Type)ëŠ” **"Make Illegal States Unrepresentable"** ì›ì¹™ì˜ í•µì‹¬ ë„êµ¬ì…ë‹ˆë‹¤. íƒ€ì… ì‹œìŠ¤í…œì„ í™œìš©í•´ì„œ ì˜ëª»ëœ ìƒíƒœë¥¼ ì•„ì˜ˆ í‘œí˜„í•  ìˆ˜ ì—†ê²Œ ë§Œë“œëŠ” ê±°ì£ .

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ì™œ ADTê°€ í•„ìš”í•œê°€? - ì‹¤ì œ ë¬¸ì œ                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  âŒ Before: nullable í•„ë“œ ì§€ì˜¥                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  class Order {                                                  â”‚
â”‚      String status;           // "UNPAID", "PAID", "SHIPPED"... â”‚
â”‚      LocalDateTime paidAt;    // ê²°ì œ ì•ˆ í–ˆìœ¼ë©´ null?           â”‚
â”‚      String trackingNumber;   // ë°°ì†¡ ì „ì´ë©´ null?              â”‚
â”‚      LocalDateTime deliveredAt; // ë°°ì†¡ ì•ˆ ëìœ¼ë©´ null?         â”‚
â”‚  }                                                              â”‚
â”‚                                                                 â”‚
â”‚  ë¬¸ì œì :                                                        â”‚
â”‚  â€¢ status="UNPAID"ì¸ë° paidAtì´ ìˆìœ¼ë©´? â†’ ëª¨ìˆœ!                â”‚
â”‚  â€¢ status="SHIPPED"ì¸ë° trackingNumberê°€ nullì´ë©´? â†’ ë²„ê·¸!     â”‚
â”‚  â€¢ 18ê°œ ì¡°í•© ì¤‘ 5ê°œë§Œ ìœ íš¨, ë‚˜ë¨¸ì§€ëŠ” "ë¶ˆê°€ëŠ¥í•œ ìƒíƒœ"            â”‚
â”‚                                                                 â”‚
â”‚  âœ… After: ADTë¡œ ìƒíƒœë³„ í•„ìš”í•œ ë°ì´í„°ë§Œ                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  sealed interface OrderStatus permits Unpaid, Paid, Shipped...  â”‚
â”‚      record Unpaid(LocalDateTime createdAt)                     â”‚
â”‚      record Paid(LocalDateTime paidAt, String txId)             â”‚
â”‚      record Shipped(String trackingNumber, LocalDateTime shippedAt)â”‚
â”‚                                                                 â”‚
â”‚  ê° ìƒíƒœê°€ ìê¸°ì—ê²Œ í•„ìš”í•œ ë°ì´í„°ë§Œ ê°€ì§!                       â”‚
â”‚  ë¶ˆê°€ëŠ¥í•œ ì¡°í•© ìì²´ê°€ íƒ€ì… ì‹œìŠ¤í…œì—ì„œ í‘œí˜„ ë¶ˆê°€!                â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.1 ê³± íƒ€ì… (Product Type)

#### ğŸ­ ë¹„ìœ : ì‹ ì²­ì„œ ì–‘ì‹

ì‹ ì²­ì„œ ìƒê°í•´ë³´ì„¸ìš”. ì´ë¦„ **ê·¸ë¦¬ê³ ** ë‚˜ì´ **ê·¸ë¦¬ê³ ** ì´ë©”ì¼ì„ ë‹¤ ì±„ì›Œì•¼ í•˜ì£ . ì´ê²Œ ê³± íƒ€ì…ì…ë‹ˆë‹¤. "AND"ë¡œ ì—°ê²°ëœ êµ¬ì¡°.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ê³± íƒ€ì… = AND / ê·¸ë¦¬ê³                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ê³± íƒ€ì…: "A ê·¸ë¦¬ê³  B ê·¸ë¦¬ê³  C"                                â”‚
â”‚                                                                 â”‚
â”‚   Person = ì´ë¦„ AND ë‚˜ì´ AND ì´ë©”ì¼                             â”‚
â”‚                                                                 â”‚
â”‚   ì™œ "ê³±"ì´ëƒ?                                                  â”‚
â”‚   ê°€ëŠ¥í•œ ê°’ì˜ ìˆ˜ = |ì´ë¦„| Ã— |ë‚˜ì´| Ã— |ì´ë©”ì¼|                   â”‚
â”‚   (ê° í•„ë“œ íƒ€ì…ì˜ ê°€ëŠ¥í•œ ê°’ì„ ê³±í•¨)                             â”‚
â”‚                                                                 â”‚
â”‚   ìë°”: record Person(String name, int age, String email) {}   â”‚
â”‚   ì½”í‹€ë¦°: data class Person(val name: String, val age: Int, val email: String)â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 í•© íƒ€ì… (Sum Type)

#### ğŸ­ ë¹„ìœ : ê°ê´€ì‹ ë¬¸ì œ

ê°ê´€ì‹ ë¬¸ì œëŠ” A **ë˜ëŠ”** B **ë˜ëŠ”** C **ë˜ëŠ”** D ì¤‘ í•˜ë‚˜ë§Œ ì„ íƒí•˜ì£ . ì´ê²Œ í•© íƒ€ì…ì…ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     í•© íƒ€ì… = OR / ë˜ëŠ”                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   í•© íƒ€ì…: "A ë˜ëŠ” B ë˜ëŠ” C" (í•˜ë‚˜ë§Œ!)                          â”‚
â”‚                                                                 â”‚
â”‚   ê²°ì œìˆ˜ë‹¨ = ì¹´ë“œ OR ê³„ì¢Œì´ì²´ OR í˜„ê¸ˆ                           â”‚
â”‚                                                                 â”‚
â”‚   ì™œ "í•©"ì´ëƒ?                                                  â”‚
â”‚   ê°€ëŠ¥í•œ ê°’ì˜ ìˆ˜ = |ì¹´ë“œ| + |ê³„ì¢Œì´ì²´| + |í˜„ê¸ˆ|                 â”‚
â”‚   (ê° ì„ íƒì§€ì˜ ê°€ëŠ¥í•œ ê°’ì„ í•©í•¨)                                â”‚
â”‚                                                                 â”‚
â”‚   ìë°”: sealed interface + permits                              â”‚
â”‚   ì½”í‹€ë¦°: sealed class/interface                                â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// src/main/java/com/example/fp/adt/PaymentMethod.java

// ìë°”ì—ì„œ í•© íƒ€ì… (sealed + permits)
public sealed interface PaymentMethod 
        permits CreditCard, BankTransfer, Cash {
    
    // íŒ¨í„´ ë§¤ì¹­ìœ¼ë¡œ ë¹ ì§ì—†ì´ ì²˜ë¦¬!
    static String describe(PaymentMethod method) {
        return switch (method) {
            case CreditCard c -> "ì¹´ë“œ ëë²ˆí˜¸ " + c.last4();
            case BankTransfer b -> b.bankName() + " ê³„ì¢Œì´ì²´";
            case Cash c -> "í˜„ê¸ˆ " + c.amount() + "ì›";
            // default í•„ìš” ì—†ìŒ! ì»´íŒŒì¼ëŸ¬ê°€ ëª¨ë“  ì¼€ì´ìŠ¤ ì²´í¬í•¨
        };
    }
}

// ê° ì„ íƒì§€ (ê³± íƒ€ì…ìœ¼ë¡œ ì •ì˜)
public record CreditCard(String last4, String expiry) implements PaymentMethod {}
public record BankTransfer(String bankName, String accountNumber) implements PaymentMethod {}
public record Cash(BigDecimal amount) implements PaymentMethod {}
```

```kotlin
// src/main/kotlin/com/example/fp/adt/PaymentMethod.kt

// ì½”í‹€ë¦° í•© íƒ€ì…
sealed interface PaymentMethod {
    data class CreditCard(val last4: String, val expiry: String) : PaymentMethod
    data class BankTransfer(val bankName: String, val accountNumber: String) : PaymentMethod
    data class Cash(val amount: BigDecimal) : PaymentMethod
}

// when í‘œí˜„ì‹ìœ¼ë¡œ ë¹ ì§ì—†ì´ ì²˜ë¦¬
fun describe(method: PaymentMethod): String = when (method) {
    is PaymentMethod.CreditCard -> "ì¹´ë“œ ëë²ˆí˜¸ ${method.last4}"
    is PaymentMethod.BankTransfer -> "${method.bankName} ê³„ì¢Œì´ì²´"
    is PaymentMethod.Cash -> "í˜„ê¸ˆ ${method.amount}ì›"
    // ì»´íŒŒì¼ëŸ¬ê°€ ë¹ ì§„ ì¼€ì´ìŠ¤ ì¡ì•„ì¤Œ!
}
```

#### ğŸ’¡ ì‹¤ì „ ì˜ˆì œ: ìˆ™ë°• ì˜ˆì•½ ìƒíƒœ ëª¨ë¸ë§

ìˆ™ë°• ì˜ˆì•½ì˜ ìƒíƒœ ì „ì´ë¥¼ ADTë¡œ ëª¨ë¸ë§í•˜ë©´ ë¶ˆê°€ëŠ¥í•œ ìƒíƒœë¥¼ íƒ€ì… ì‹œìŠ¤í…œì´ ë§‰ì•„ì¤ë‹ˆë‹¤.

```java
// ì˜ˆì•½ ìƒíƒœ í•© íƒ€ì… - ê° ìƒíƒœê°€ í•„ìš”í•œ ë°ì´í„°ë§Œ ê°€ì§
public sealed interface BookingStatus
        permits Pending, Confirmed, CheckedIn, Completed, Cancelled {

    // ì˜ˆì•½ ëŒ€ê¸°: ê²°ì œ ëŒ€ê¸° ì¤‘
    record Pending(
        LocalDateTime createdAt,
        LocalDateTime expiresAt     // ê²°ì œ ë§Œë£Œ ì‹œê°„
    ) implements BookingStatus {}

    // ì˜ˆì•½ í™•ì •: ê²°ì œ ì™„ë£Œ
    record Confirmed(
        String confirmationNumber,  // í™•ì • ë²ˆí˜¸
        Money deposit,              // ì„ ê²°ì œ ê¸ˆì•¡
        LocalDateTime confirmedAt
    ) implements BookingStatus {}

    // ì²´í¬ì¸ ì™„ë£Œ
    record CheckedIn(
        String roomNumber,          // ì‹¤ì œ ë°°ì •ëœ ë°©
        List<String> keyCards,      // ë°œê¸‰ëœ í‚¤ì¹´ë“œ
        LocalDateTime checkedInAt
    ) implements BookingStatus {}

    // ì´ìš© ì™„ë£Œ
    record Completed(
        Money finalBill,            // ìµœì¢… ì²­êµ¬ì•¡
        Optional<Review> review,    // ë¦¬ë·° (ì„ íƒ)
        LocalDateTime checkedOutAt
    ) implements BookingStatus {}

    // ì·¨ì†Œë¨
    record Cancelled(
        CancelReason reason,
        Optional<Money> refund,     // í™˜ë¶ˆ ê¸ˆì•¡
        LocalDateTime cancelledAt
    ) implements BookingStatus {}
}

// ìƒíƒœë³„ í—ˆìš© ë™ì‘ì„ ì»´íŒŒì¼ íƒ€ì„ì— ì²´í¬
public class BookingService {

    // âœ… Pending â†’ Confirmedë§Œ ê°€ëŠ¥
    public BookingStatus confirm(BookingStatus.Pending pending, PaymentInfo payment) {
        var confirmation = generateConfirmationNumber();
        return new BookingStatus.Confirmed(
            confirmation,
            payment.amount(),
            LocalDateTime.now()
        );
    }

    // âœ… Confirmed â†’ CheckedInë§Œ ê°€ëŠ¥
    public BookingStatus checkIn(BookingStatus.Confirmed confirmed, String roomNumber) {
        var keyCards = generateKeyCards(2);
        return new BookingStatus.CheckedIn(
            roomNumber,
            keyCards,
            LocalDateTime.now()
        );
    }

    // âŒ Pendingì—ì„œ ë°”ë¡œ CheckIn? ì»´íŒŒì¼ ì—ëŸ¬!
    // public BookingStatus checkIn(BookingStatus.Pending pending, ...) { }
    // â†’ íƒ€ì… ì‹œìŠ¤í…œì´ ë¶ˆê°€ëŠ¥í•œ ì „ì´ë¥¼ ë§‰ìŒ!
}
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ì˜ˆì•½ ìƒíƒœ ì „ì´ ë‹¤ì´ì–´ê·¸ë¨                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   ê²°ì œ    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   ì²´í¬ì¸   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Pending â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ Confirmed â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ CheckedIn â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â”‚
â”‚       â”‚                     â”‚                       â”‚          â”‚
â”‚       â”‚     ì·¨ì†Œ            â”‚ ì·¨ì†Œ                  â”‚ ì²´í¬ì•„ì›ƒ â”‚
â”‚       â”‚                     â”‚                       â”‚          â”‚
â”‚       â†“                     â†“                       â†“          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         Cancelled           â”‚             â”‚ Completed â”‚    â”‚
â”‚  â”‚  (í™˜ë¶ˆ ì—¬ë¶€ëŠ” ìƒíƒœì— ë”°ë¼)   â”‚             â”‚ (ë¦¬ë·° ê°€ëŠ¥)â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â”‚  ê° í™”ì‚´í‘œê°€ íƒ€ì…-ì•ˆì „í•œ ë©”ì„œë“œë¡œ êµ¬í˜„ë¨!                       â”‚
â”‚  ì˜ëª»ëœ ì „ì´ëŠ” ì»´íŒŒì¼ ì—ëŸ¬ë¡œ ë°©ì§€                               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ì‹¤ì „ ì˜ˆì œ: API ì‘ë‹µ ëª¨ë¸ë§

```kotlin
// src/main/kotlin/com/example/fp/adt/ApiResponse.kt

// ê°€ëŠ¥í•œ ëª¨ë“  ìƒíƒœë¥¼ íƒ€ì…ìœ¼ë¡œ ëª…ì‹œ
sealed interface ApiResponse<out T> {
    data class Success<T>(val data: T) : ApiResponse<T>
    data class Error(val code: Int, val message: String) : ApiResponse<Nothing>
    data object Loading : ApiResponse<Nothing>
}

// ViewModelì—ì„œ ì‚¬ìš©
class UserViewModel {
    private val _state = MutableStateFlow<ApiResponse<User>>(ApiResponse.Loading)
    
    suspend fun loadUser(id: Long) {
        _state.value = ApiResponse.Loading
        _state.value = try {
            ApiResponse.Success(userRepository.getUser(id))
        } catch (e: Exception) {
            ApiResponse.Error(500, e.message ?: "ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜")
        }
    }
}

// UIì—ì„œ ëª¨ë“  ìƒíƒœ ì²˜ë¦¬
@Composable
fun UserScreen(response: ApiResponse<User>) {
    when (response) {
        is ApiResponse.Loading -> CircularProgressIndicator()
        is ApiResponse.Success -> UserProfile(response.data)
        is ApiResponse.Error -> ErrorMessage(response.message)
    }
}
```

### ğŸ“ 6ì¥ í€´ì¦ˆ

**í€´ì¦ˆ 6.1 (ì´ˆê¸‰)**: ê³± íƒ€ì…ê³¼ í•© íƒ€ì…ì˜ ì°¨ì´ì ì„ ì„¤ëª…í•˜ê³ , Javaì—ì„œ ê°ê°ì„ ì–´ë–»ê²Œ êµ¬í˜„í•˜ëŠ”ì§€ ì˜ˆë¥¼ ë“¤ì–´ ì„¤ëª…í•˜ì„¸ìš”.

**í€´ì¦ˆ 6.2 (ì¤‘ê¸‰)**: ë‹¤ìŒ ì½”ë“œì˜ ë¬¸ì œì ì„ ADT ê´€ì ì—ì„œ ì„¤ëª…í•˜ê³  ê°œì„ í•˜ì„¸ìš”.

```java
class Order {
    String status;         // "PENDING", "PAID", "SHIPPED"
    LocalDateTime paidAt;  // null if not paid
    String trackingNumber; // null if not shipped
}
```

**í€´ì¦ˆ 6.3 (ê³ ê¸‰)**: "Make Illegal States Unrepresentable" ì›ì¹™ì´ ì™œ ì¤‘ìš”í•œì§€ ì„¤ëª…í•˜ì„¸ìš”.

> ì •ë‹µì€ ë¬¸ì„œ ë [í€´ì¦ˆ ì •ë‹µ](#í€´ì¦ˆ-ì •ë‹µ) ì„¹ì…˜ì—ì„œ í™•ì¸í•˜ì„¸ìš”.

---

## 7. í‰ê°€ ì „ëµ

### 7.1 ì§€ì—° í‰ê°€ (Lazy Evaluation)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   "ì§€ì—°" ìš©ì–´ ì„¤ëª…                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ì§€ì—°(é²å»¶, Lazy): "ì§„ì§œ í•„ìš”í•  ë•Œê¹Œì§€ ê³„ì‚°ì„ ë¯¸ë£¸"             â”‚
â”‚                                                                 â”‚
â”‚  ì¦‰ì‹œ í‰ê°€ (Eager/Strict):                                      â”‚
â”‚  â€¢ ì •ì˜ ì¦‰ì‹œ ì‹¤í–‰                                               â”‚
â”‚  â€¢ List.of(1,2,3).map(n -> n*2)  â†’ ë°”ë¡œ [2,4,6] ìƒì„±          â”‚
â”‚                                                                 â”‚
â”‚  ì§€ì—° í‰ê°€ (Lazy):                                              â”‚
â”‚  â€¢ ì‚¬ìš© ì‹œì ì— ì‹¤í–‰                                             â”‚
â”‚  â€¢ Stream.of(1,2,3).map(n -> n*2)  â†’ ì•„ì§ ì•„ë¬´ê²ƒë„ ì•ˆ í•¨!     â”‚
â”‚  â€¢ .toList() í˜¸ì¶œí•´ì•¼ ë¹„ë¡œì†Œ ê³„ì‚°                               â”‚
â”‚                                                                 â”‚
â”‚  ë³„ëª…ë“¤: ëŠê¸‹í•œ í‰ê°€, ê²Œìœ¼ë¥¸ í‰ê°€, í•„ìš”ì‹œ í‰ê°€                  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ­ ë¹„ìœ : ë„·í”Œë¦­ìŠ¤ vs DVD

ì˜ˆì „ì— DVD ë¹Œë¦¬ë˜ ì‹œì ˆ ê¸°ì–µë‚˜ì„¸ìš”? ë¯¸ë¦¬ ë‹¤ ë¹Œë ¤ì™€ì•¼ í–ˆì£ . ì•ˆ ë³´ëŠ” ê²ƒë„ ë¹Œë ¤ì˜¤ëŠë¼ ëˆ ë‚­ë¹„. ë°˜ë©´ ë„·í”Œë¦­ìŠ¤ëŠ” ë³´ëŠ” ê²ƒë§Œ ìŠ¤íŠ¸ë¦¬ë°í•©ë‹ˆë‹¤. ì´ê²Œ ì§€ì—° í‰ê°€ì…ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ì§€ì—° vs ì¦‰ì‹œ = ë„·í”Œë¦­ìŠ¤ vs DVD                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ì¦‰ì‹œ í‰ê°€ (DVD):                                               â”‚
â”‚  ëª¨ë“  DVD ë¯¸ë¦¬ êµ¬ë§¤ â†’ ê³µê°„ ì°¨ì§€, ëˆ ë‚­ë¹„                        â”‚
â”‚  2ê°œë§Œ ë³¼ ê±´ë° 100ê°œ ìƒ€ìœ¼ë©´?                                    â”‚
â”‚                                                                 â”‚
â”‚  ì§€ì—° í‰ê°€ (ë„·í”Œë¦­ìŠ¤):                                          â”‚
â”‚  ë³¼ ë•Œë§Œ ìŠ¤íŠ¸ë¦¬ë° â†’ ì‹¤ì œ ë³´ëŠ” ê²ƒë§Œ ë¡œë”©                         â”‚
â”‚  ë¬´í•œ ì¹´íƒˆë¡œê·¸ë„ ê°€ëŠ¥!                                          â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ì¦‰ì‹œ: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, ...] // ë‹¤ ê³„ì‚°! â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚ ì§€ì—°: 1 â†’ 2 â†’ 3 â†’ ... (í•„ìš”í•  ë•Œ ê³„ì‚°)                â”‚    â”‚
â”‚  â”‚      â†‘                                                  â”‚    â”‚
â”‚  â”‚      ìš”ì²­í•˜ê¸° ì „ì—” ì´ê²ƒë§Œ ì¡´ì¬                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// src/main/java/com/example/fp/LazyDemo.java

public class LazyDemo {
    
    // ìë°” Streamì€ ì§€ì—° í‰ê°€!
    public void demonstrateLaziness() {
        // ì•„ì§ ì•„ë¬´ ì¼ë„ ì•ˆ ì¼ì–´ë‚¨! ê·¸ëƒ¥ "ë ˆì‹œí”¼"ë§Œ ì •ì˜
        var stream = Stream.iterate(1, n -> n + 1)  // ë¬´í•œ!
                .filter(n -> {
                    System.out.println("í•„í„°ë§: " + n);
                    return n % 2 == 0;
                })
                .map(n -> {
                    System.out.println("ë§¤í•‘: " + n);
                    return n * 10;
                });
        
        System.out.println("ìŠ¤íŠ¸ë¦¼ ìƒì„±ë¨, ì•„ì§ ì•„ë¬´ê²ƒë„ ì‹¤í–‰ ì•ˆ ë¨!");
        
        // í„°ë¯¸ë„ ì—°ì‚°ì´ ì‹¤í–‰ì„ íŠ¸ë¦¬ê±°
        var result = stream.limit(3).toList();
        // ì¶œë ¥ ë³´ë©´ filter/mapì´ ë²ˆê°ˆì•„ ë‚˜ì˜´ - í•œ ë²ˆì— í•˜ë‚˜ì”© ì²˜ë¦¬!
    }
}
```

#### 7.1.1 ìƒì„¸ ì‹¤í–‰ íë¦„

ìœ„ ì½”ë“œì˜ ì‹¤í–‰ ìˆœì„œë¥¼ ìì„¸íˆ ë”°ë¼ê°€ë´…ì‹œë‹¤.

```java
var stream = Stream.iterate(1, n -> n + 1)
    .filter(n -> { System.out.println("F:" + n); return n % 2 == 0; })
    .map(n -> { System.out.println("M:" + n); return n * 10; });

var result = stream.limit(3).toList();
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ì‹¤ì œ ì‹¤í–‰ ìˆœì„œ (limit(3))                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  F:1 â†’ (í™€ìˆ˜, í†µê³¼ X)                                          â”‚
â”‚  F:2 â†’ (ì§ìˆ˜, í†µê³¼ O) â†’ M:2 â†’ 20 (ì²« ë²ˆì§¸ ê²°ê³¼!)              â”‚
â”‚  F:3 â†’ (í™€ìˆ˜, í†µê³¼ X)                                          â”‚
â”‚  F:4 â†’ (ì§ìˆ˜, í†µê³¼ O) â†’ M:4 â†’ 40 (ë‘ ë²ˆì§¸ ê²°ê³¼!)              â”‚
â”‚  F:5 â†’ (í™€ìˆ˜, í†µê³¼ X)                                          â”‚
â”‚  F:6 â†’ (ì§ìˆ˜, í†µê³¼ O) â†’ M:6 â†’ 60 (ì„¸ ë²ˆì§¸ ê²°ê³¼!) â†’ ì¢…ë£Œ!     â”‚
â”‚                                                                 â”‚
â”‚  í•µì‹¬ í†µì°°:                                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ ìš”ì†Œë³„ ê°œë³„ ì²˜ë¦¬: í•œ ìš”ì†Œê°€ filterâ†’map ë‹¤ ê±°ì¹œ í›„ ë‹¤ìŒ ìš”ì†Œ â”‚
â”‚  â€¢ ì‡¼íŠ¸ì„œí‚·: limit(3) ë„ë‹¬ ì¦‰ì‹œ ì¢…ë£Œ, 7ë¶€í„°ëŠ” ì•„ì˜ˆ ì•ˆ ë´„      â”‚
â”‚  â€¢ ë¬´í•œ ìŠ¤íŠ¸ë¦¼ë„ OK: í•„ìš”í•œ 3ê°œë§Œ ê³„ì‚°í•˜ê³  ë©ˆì¶¤                 â”‚
â”‚                                                                 â”‚
â”‚  âŒ ì¦‰ì‹œ í‰ê°€ì˜€ë‹¤ë©´?                                            â”‚
â”‚  ëª¨ë“  ìš”ì†Œ filter ì™„ë£Œ â†’ ëª¨ë“  ìš”ì†Œ map ì™„ë£Œ â†’ limit           â”‚
â”‚  â†’ ë¬´í•œ ìŠ¤íŠ¸ë¦¼ì´ë©´ ì˜ì›íˆ ì•ˆ ëë‚¨!                             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```kotlin
// src/main/kotlin/com/example/fp/LazyDemo.kt

// ì½”í‹€ë¦°ì€ lazy ë¸ë¦¬ê²Œì´íŠ¸ ë‚´ì¥
class ExpensiveService {
    // ì²˜ìŒ ì ‘ê·¼í•  ë•Œë§Œ ê³„ì‚°
    val expensiveData: List<Data> by lazy {
        println("ë¹„ì‹¼ ë°ì´í„° ê³„ì‚° ì¤‘...")
        fetchFromDatabase()  // ë”± í•œ ë²ˆë§Œ, í•„ìš”í•  ë•Œë§Œ ì‹¤í–‰
    }
}

// Sequence = ì½”í‹€ë¦°ì˜ ì§€ì—° ì»¬ë ‰ì…˜
fun lazySequenceDemo() {
    val result = generateSequence(1) { it + 1 }  // ë¬´í•œ!
        .filter { println("í•„í„°: $it"); it % 2 == 0 }
        .map { println("ë§µ: $it"); it * 10 }
        .take(3)  // ì•„ì§ ì§€ì—°
        .toList() // í„°ë¯¸ë„: ì—¬ê¸°ì„œ í‰ê°€ ì‹œì‘
}
```

#### ì§€ì—° í‰ê°€ì˜ ì´ì 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ì™œ ì§€ì—° í‰ê°€?                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. ë¬´í•œ êµ¬ì¡° í‘œí˜„ ê°€ëŠ¥                                         â”‚
â”‚     ë¬´í•œ ì‹œí€€ìŠ¤ë„ í„°ì§€ì§€ ì•ŠìŒ                                   â”‚
â”‚                                                                 â”‚
â”‚  2. ì„±ëŠ¥ ìµœì í™”                                                 â”‚
â”‚     í•„ìš”í•œ ê²ƒë§Œ ê³„ì‚° (ì‡¼íŠ¸ì„œí‚·)                                 â”‚
â”‚     stream.filter(...).findFirst()ëŠ” ì²« ë§¤ì¹˜ì—ì„œ ë©ˆì¶¤          â”‚
â”‚                                                                 â”‚
â”‚  3. ë©”ëª¨ë¦¬ íš¨ìœ¨                                                 â”‚
â”‚     ê±°ëŒ€í•œ íŒŒì¼ë„ í•œ ì¤„ì”© ì²˜ë¦¬ ê°€ëŠ¥                             â”‚
â”‚                                                                 â”‚
â”‚  4. ì¡°í•© ìš©ì´                                                   â”‚
â”‚     ì¤‘ê°„ ì»¬ë ‰ì…˜ ì—†ì´ ë³µì¡í•œ íŒŒì´í”„ë¼ì¸ êµ¬ì„±                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“ 7ì¥ í€´ì¦ˆ

**í€´ì¦ˆ 7.1 (ì´ˆê¸‰)**: Java Streamê³¼ Kotlin Sequenceì˜ ê³µí†µì ì€ ë¬´ì—‡ì¸ê°€ìš”?

**í€´ì¦ˆ 7.2 (ì¤‘ê¸‰)**: ë‹¤ìŒ ì½”ë“œì˜ ì‹¤í–‰ ìˆœì„œë¥¼ ì˜ˆì¸¡í•˜ì„¸ìš”.

```java
Stream.of(1, 2, 3, 4, 5)
    .filter(n -> { System.out.print("F" + n + " "); return n % 2 == 0; })
    .map(n -> { System.out.print("M" + n + " "); return n * 10; })
    .limit(1)
    .toList();
```

**í€´ì¦ˆ 7.3 (ê³ ê¸‰)**: ë¬´í•œ Streamì´ ê°€ëŠ¥í•œ ì´ìœ ë¥¼ ì§€ì—° í‰ê°€ ê´€ì ì—ì„œ ì„¤ëª…í•˜ì„¸ìš”.

> ì •ë‹µì€ ë¬¸ì„œ ë [í€´ì¦ˆ ì •ë‹µ](#í€´ì¦ˆ-ì •ë‹µ) ì„¹ì…˜ì—ì„œ í™•ì¸í•˜ì„¸ìš”.

---

## 8. ì‹¤ì „ì—ì„œ ì¡°ë¦½í•˜ê¸°

### ì‹¤ì „ ì˜ˆì œ: ì£¼ë¬¸ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸

ì§€ê¸ˆê¹Œì§€ ë°°ìš´ ê²ƒë“¤ì„ ë‹¤ í•©ì³ë´…ì‹œë‹¤.

```java
// src/main/java/com/example/fp/OrderProcessor.java

public class OrderProcessor {
    
    // ADT: ê°€ëŠ¥í•œ ëª¨ë“  ì£¼ë¬¸ ê²°ê³¼ ìƒíƒœ
    sealed interface OrderResult permits 
            OrderSuccess, ValidationError, PaymentError, InventoryError {}
    
    record OrderSuccess(String orderId, Receipt receipt) implements OrderResult {}
    record ValidationError(List<String> errors) implements OrderResult {}
    record PaymentError(String reason) implements OrderResult {}
    record InventoryError(List<String> unavailableItems) implements OrderResult {}
    
    // ê° ë‹¨ê³„ë³„ ìˆœìˆ˜ í•¨ìˆ˜
    private Function<OrderRequest, Either<ValidationError, ValidatedOrder>> 
            validate = this::validateOrder;
    
    private Function<ValidatedOrder, Either<InventoryError, ReservedOrder>> 
            reserveInventory = this::reserveInventory;
    
    private Function<ReservedOrder, Either<PaymentError, PaidOrder>> 
            processPayment = this::processPayment;
    
    private Function<PaidOrder, OrderSuccess> 
            createReceipt = this::createReceipt;
    
    // ëª¨ë‚˜ë“œ í•©ì„±: ì² ë„ ì§€í–¥ í”„ë¡œê·¸ë˜ë°
    public OrderResult process(OrderRequest request) {
        return validate.apply(request)                          // Either<E, ValidatedOrder>
                .flatMap(reserveInventory)                      // Either<E, ReservedOrder>
                .flatMap(processPayment)                        // Either<E, PaidOrder>
                .map(createReceipt)                             // Either<E, OrderSuccess>
                .fold(
                    error -> error,        // ì™¼ìª½: ì—ëŸ¬ ë°˜í™˜
                    success -> success     // ì˜¤ë¥¸ìª½: ì„±ê³µ ë°˜í™˜
                );
    }
    
    // ê° í•¨ìˆ˜ëŠ” ìˆœìˆ˜í•˜ê³ , í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•˜ê³ , ì¡°í•© ê°€ëŠ¥
    private Either<ValidationError, ValidatedOrder> validateOrder(OrderRequest req) {
        var errors = new ArrayList<String>();
        if (req.items().isEmpty()) errors.add("ì£¼ë¬¸ í•­ëª©ì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤");
        if (req.customerId() == null) errors.add("ê³ ê° IDê°€ í•„ìš”í•©ë‹ˆë‹¤");
        
        return errors.isEmpty() 
                ? Either.right(new ValidatedOrder(req))
                : Either.left(new ValidationError(errors));
    }
    
    // ... ë‚˜ë¨¸ì§€ ìˆœìˆ˜ í•¨ìˆ˜ë“¤
}
```

---

## ğŸ“ ì •ë¦¬: ë¨¸ë¦¿ì† ì§€ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FP ê°œë… ì •ë¦¬                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ê¸°ì´ˆ ì²´ë ¥                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                     â”‚
â”‚  â€¢ ìˆœìˆ˜ í•¨ìˆ˜: f(x)ëŠ” í•­ìƒ ê°™ì€ y ë°˜í™˜                          â”‚
â”‚  â€¢ ë¶ˆë³€ì„±: ë°ì´í„° ì•ˆ ë°”ê¿ˆ, ìƒˆ ë³µì‚¬ë³¸ ë§Œë“¦                       â”‚
â”‚  â€¢ ì°¸ì¡° íˆ¬ëª…ì„±: í‘œí˜„ì‹ì„ ê°’ìœ¼ë¡œ ëŒ€ì²´ ê°€ëŠ¥                       â”‚
â”‚                                                                 â”‚
â”‚  í•¨ìˆ˜ë¥¼ ê°’ì²˜ëŸ¼                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                â”‚
â”‚  â€¢ ì¼ê¸‰ í•¨ìˆ˜: í•¨ìˆ˜ë„ ë³€ìˆ˜ì— ë‹´ê³  ì „ë‹¬ ê°€ëŠ¥                      â”‚
â”‚  â€¢ ê³ ì°¨ í•¨ìˆ˜: í•¨ìˆ˜ë¥¼ ë°›ê±°ë‚˜ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜                       â”‚
â”‚  â€¢ í´ë¡œì €: ìê¸° í™˜ê²½ì„ ê¸°ì–µí•˜ëŠ” í•¨ìˆ˜                            â”‚
â”‚                                                                 â”‚
â”‚  í•¨ìˆ˜ ì¡°ë¦½                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                    â”‚
â”‚  â€¢ í•©ì„±: f.andThen(g) = g(f(x))                                â”‚
â”‚  â€¢ ì»¤ë§: f(a,b,c) â†’ f(a)(b)(c)                                 â”‚
â”‚                                                                 â”‚
â”‚  ì»¨í…Œì´ë„ˆ                                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                     â”‚
â”‚  â€¢ í‘í„°: map() - ì»¨í…Œì´ë„ˆ ì•ˆ ë‚´ìš© ë³€í™˜                         â”‚
â”‚  â€¢ ëª¨ë‚˜ë“œ: flatMap() - ì—°ì‚° ì—°ê²°, ì¤‘ì²© ë°©ì§€                    â”‚
â”‚  â€¢ ì–´í”Œë¦¬ì»¤í‹°ë¸Œ: combine() - ë…ë¦½ ê³„ì‚° ê²°í•©, ì—ëŸ¬ ìˆ˜ì§‘         â”‚
â”‚  â€¢ Result vs Validation: ìˆœì°¨ ì˜ì¡´ vs ë…ë¦½ ê²€ì¦                â”‚
â”‚                                                                 â”‚
â”‚  ëŒ€ìˆ˜ì  êµ¬ì¡°                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€                                                        â”‚
â”‚  â€¢ ëª¨ë…¸ì´ë“œ: combine() + empty - reduce/fold ê°€ëŠ¥              â”‚
â”‚  â€¢ ADT: ê³± íƒ€ì…(AND) + í•© íƒ€ì…(OR)                             â”‚
â”‚                                                                 â”‚
â”‚  í‰ê°€ ì „ëµ                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                     â”‚
â”‚  â€¢ ì§€ì—° í‰ê°€: í•„ìš”í•  ë•Œë§Œ ê³„ì‚°                                  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“– ë‹¤ìŒ ë‹¨ê³„

1. **Result/Validation ì—°ìŠµ** - ì² ë„ íŒ¨í„´ê³¼ ì—ëŸ¬ ìˆ˜ì§‘ ì²´í™”í•˜ê¸°
2. **Vavr ë¼ì´ë¸ŒëŸ¬ë¦¬** - ìë°”ìš© ë³¸ê²© FP ë¼ì´ë¸ŒëŸ¬ë¦¬ (Either, Validation, Try ë“±)
3. **Arrow-kt** - ì½”í‹€ë¦°ìš© ì¢…í•© FP ë¼ì´ë¸ŒëŸ¬ë¦¬ (Validated, Either ë“±)
4. **"Functional Programming in Kotlin"** - ê¹Šì´ ìˆëŠ” í•™ìŠµìš©

---

> **"ì¼ê¸‰ í•¨ìˆ˜ëŠ” í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ìœ¼ë¡œ ê°€ëŠ” ì…ë¬¸ ì•½ë¬¼ì´ë‹¤."** â€” ëˆ„êµ°ê°€

> **"ëª¨ë‚˜ë“œëŠ” ìê¸°í•¨ì ë²”ì£¼ì˜ ëª¨ë…¸ì´ë“œì¼ ë¿ì´ì•¼."** â€” ì´ ê°€ì´ë“œ ë‹¤ ì½ìœ¼ë©´ ì´í•´ë  ë†ë‹´ ğŸ˜„

---

## í€´ì¦ˆ ì •ë‹µ

### 1ì¥ ì •ë‹µ

**í€´ì¦ˆ 1.1 ì •ë‹µ**: **A, D**
- A: `add(int, int)` - ìˆœìˆ˜ í•¨ìˆ˜. ê°™ì€ ì…ë ¥ì— í•­ìƒ ê°™ì€ ì¶œë ¥, ë¶€ì‘ìš© ì—†ìŒ.
- B: `getCount()` - ë¶ˆìˆœ. ì™¸ë¶€ ìƒíƒœ(`this.count`)ë¥¼ ë³€ê²½í•¨.
- C: `doubled()` - ë¶ˆìˆœ. ì…ë ¥ ë¦¬ìŠ¤íŠ¸ë¥¼ ì§ì ‘ ë³€ê²½í•¨(mutate).
- D: `format(LocalDate)` - ìˆœìˆ˜ í•¨ìˆ˜. í¬ë§·í„°ëŠ” ë¶ˆë³€ì´ê³  ê²°ê³¼ê°€ ê²°ì •ì .
- E: `random()` - ë¶ˆìˆœ. í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ë‹¤ë¥¸ ê°’ ë°˜í™˜.

**í€´ì¦ˆ 1.2 ì •ë‹µ**: **ì°¸ì¡° íˆ¬ëª…í•¨ (ê´€ì°° ê°€ëŠ¥í•œ ê´€ì ì—ì„œ)**
- ê°™ì€ keyë¡œ `compute()`ë¥¼ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œí•´ë„ í•­ìƒ ê°™ì€ ê°’ ë°˜í™˜
- ë‚´ë¶€ ìºì‹œëŠ” ë³€ê²½ë˜ì§€ë§Œ, ì™¸ë¶€ì—ì„œ ê´€ì°° ê°€ëŠ¥í•œ ë™ì‘ì€ ìˆœìˆ˜í•¨
- ì´ë¥¼ "ê´€ì°° ê°€ëŠ¥í•œ ìˆœìˆ˜ì„±(observational purity)"ì´ë¼ í•¨
- ì—„ë°€íˆ ë§í•˜ë©´ ë¶ˆìˆœí•˜ì§€ë§Œ, ì‹¤ìš©ì ìœ¼ë¡œëŠ” ì°¸ì¡° íˆ¬ëª…ìœ¼ë¡œ ì·¨ê¸‰

**í€´ì¦ˆ 1.3 ì •ë‹µ**:
- ë¶ˆë³€ì„±ì€ ìˆœìˆ˜ í•¨ìˆ˜ì˜ **í•„ìš”ì¡°ê±´**ì´ì§€ë§Œ ì¶©ë¶„ì¡°ê±´ì€ ì•„ë‹˜
- ë¶ˆë³€ ë°ì´í„° ì—†ì´ë„ ìˆœìˆ˜ í•¨ìˆ˜ ì‘ì„± ê°€ëŠ¥ (ì˜ˆ: `int add(int a, int b)`)
- í•˜ì§€ë§Œ ê°ì²´ë¥¼ ë‹¤ë£¨ëŠ” ìˆœìˆ˜ í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ë ¤ë©´ ë¶ˆë³€ì„±ì´ í•„ìˆ˜
- ê°€ë³€ ê°ì²´ë¥¼ ì¸ìë¡œ ë°›ìœ¼ë©´ ê·¸ ê°ì²´ì˜ ìƒíƒœì— ë”°ë¼ ê²°ê³¼ê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŒ

### 2ì¥ ì •ë‹µ

**í€´ì¦ˆ 2.1 ì •ë‹µ**:
```java
Predicate<T>:      T â†’ boolean
Consumer<T>:       T â†’ void
Supplier<T>:       () â†’ T
BiFunction<T,U,R>: (T, U) â†’ R
```

**í€´ì¦ˆ 2.2 ì •ë‹µ**:
```
5
3
7
```
`String::length`ê°€ ê° ì´ë¦„ì˜ ê¸¸ì´ë¥¼ ë°˜í™˜í•˜ê³ , `System.out::println`ì´ ì¶œë ¥í•¨.

**í€´ì¦ˆ 2.3 ì •ë‹µ**:
- **ë¶ˆë³€ì„± ì›ì¹™**: ìº¡ì²˜ëœ ê°’ì´ ë³€í•˜ë©´ ëŒë‹¤ ì‹¤í–‰ ê²°ê³¼ê°€ ë¹„ê²°ì •ì ì´ ë¨
- **ì°¸ì¡° íˆ¬ëª…ì„± ìœ„ë°˜**: ê°™ì€ ëŒë‹¤ê°€ ë‹¤ë¥¸ ì‹œì ì— ë‹¤ë¥¸ ê²°ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆìŒ
- **ë©€í‹°ìŠ¤ë ˆë“œ ì•ˆì „ì„±**: ë³€ê²½ ê°€ëŠ¥í•œ ë³€ìˆ˜ ìº¡ì²˜ ì‹œ ë™ê¸°í™” ë¬¸ì œ ë°œìƒ
- JavaëŠ” ì´ ë¬¸ì œë¥¼ ì»´íŒŒì¼ íƒ€ì„ì— ë°©ì§€í•˜ê¸° ìœ„í•´ effectively final ì œì•½ ë„ì…

### 3ì¥ ì •ë‹µ

**í€´ì¦ˆ 3.1 ì •ë‹µ**:
- `f.andThen(g)`: ì…ë ¥ â†’ f â†’ g â†’ ì¶œë ¥ (f ë¨¼ì €, g ë‹¤ìŒ)
- `f.compose(g)`: ì…ë ¥ â†’ g â†’ f â†’ ì¶œë ¥ (g ë¨¼ì €, f ë‹¤ìŒ)
- ìˆ˜í•™ì—ì„œ (g âˆ˜ f)(x) = g(f(x))ì´ë¯€ë¡œ `compose`ê°€ ìˆ˜í•™ì  ìˆœì„œ
- ì½”ë“œ ê°€ë…ì„± ì¸¡ë©´ì—ì„œëŠ” `andThen`ì´ ë°ì´í„° íë¦„ ë°©í–¥ê³¼ ì¼ì¹˜í•´ì„œ ë” ì§ê´€ì 

**í€´ì¦ˆ 3.2 ì •ë‹µ**: **12**
- `addOne.apply(5)` = 6
- `multiplyTwo.apply(6)` = 12
- `andThen`ì´ë¯€ë¡œ addOne â†’ multiplyTwo ìˆœì„œ

**í€´ì¦ˆ 3.3 ì •ë‹µ**:
```java
// íƒ€ì…
Function<String, Function<String, Function<String, String>>> createEmail =
    user -> domain -> tld -> user + "@" + domain + "." + tld;

// ë¶€ë¶„ ì ìš©
Function<String, Function<String, String>> atGmail = createEmail.apply("user");
Function<String, String> gmailCom = atGmail.apply("gmail");
String email = gmailCom.apply("com");  // "user@gmail.com"

// ë˜ëŠ” í•œ ì¤„ë¡œ
String email2 = createEmail.apply("user").apply("gmail").apply("com");
```

### 4ì¥ ì •ë‹µ

**í€´ì¦ˆ 4.1 ì •ë‹µ**: **B**
- A: map()ì€ ë‚´ìš©ë¬¼ë§Œ ë³€í™˜, í‰íƒ„í™” ì•ˆ í•¨
- B: âœ… flatMap()ì€ ì¤‘ì²© ì œê±° (í‰íƒ„í™”)
- C: í‘í„°ëŠ” map()ì„ ì œê³µ, flatMapì€ ëª¨ë‚˜ë“œ
- D: ëª¨ë‚˜ë“œëŠ” of + flatMap ë‘˜ ë‹¤ í•„ìš”

**í€´ì¦ˆ 4.2 ì •ë‹µ**:
```java
// map ì‚¬ìš©: Optional<Optional<Integer>>
// flatMap ì‚¬ìš©: Optional<Integer>
```
- `map`ì€ í•¨ìˆ˜ ê²°ê³¼ë¥¼ ê·¸ëŒ€ë¡œ ê°ì‹¸ì„œ ì¤‘ì²© ë°œìƒ
- `flatMap`ì€ í•¨ìˆ˜ ê²°ê³¼(Optional)ë¥¼ í‰íƒ„í™”

**í€´ì¦ˆ 4.3 ì •ë‹µ**:
- **Result ì‚¬ìš© ì‹œ**: ì²« ì—ëŸ¬ì—ì„œ ì¤‘ë‹¨, ë‚˜ë¨¸ì§€ ê²€ì¦ ì‹¤í–‰ ì•ˆ ë¨
- **Validation ì‚¬ìš© ì‹œ**: ëª¨ë“  ê²€ì¦ ì‹¤í–‰, ì—ëŸ¬ ì „ì²´ ìˆ˜ì§‘
- **Monad ë¶ˆê°€ ì´ìœ **: flatMapì€ ì´ì „ ê°’ìœ¼ë¡œ ë‹¤ìŒ ê³„ì‚°ì„ ê²°ì •í•´ì•¼ í•¨. Invalidì¼ ë•Œ ê°’ì´ ì—†ì–´ì„œ ë‹¤ìŒ ê²€ì¦ì„ í˜¸ì¶œí•  ìˆ˜ ì—†ìŒ. ì–µì§€ë¡œ êµ¬í˜„í•˜ë©´ ì—ëŸ¬ ìˆ˜ì§‘ ë¶ˆê°€.

### 5ì¥ ì •ë‹µ

**í€´ì¦ˆ 5.1 ì •ë‹µ**: **C**
- A: (0 + a = a), ((a + b) + c = a + (b + c)) âœ… ëª¨ë…¸ì´ë“œ
- B: (1 * a = a), ((a * b) * c = a * (b * c)) âœ… ëª¨ë…¸ì´ë“œ
- C: (a - 0 = a) í•˜ì§€ë§Œ (0 - a â‰  a), ë˜í•œ ê²°í•©ë²•ì¹™ ë¶ˆë§Œì¡± âŒ
- D: ("" + s = s), ë¬¸ìì—´ ì—°ê²°ì€ ê²°í•©ë²•ì¹™ ë§Œì¡± âœ… ëª¨ë…¸ì´ë“œ

**í€´ì¦ˆ 5.2 ì •ë‹µ**: **ê²°í•©ë²•ì¹™(Associativity)**
- `(a âŠ• b) âŠ• c = a âŠ• (b âŠ• c)`
- ë³‘ë ¬ë¡œ ë‚˜ëˆ  ê³„ì‚°í•œ ê²°ê³¼ë¥¼ ì–´ë–¤ ìˆœì„œë¡œ í•©ì³ë„ ê°™ì•„ì•¼ í•¨
- ê²°í•©ë²•ì¹™ì´ ì—†ìœ¼ë©´ ë³‘ë ¬ ì²˜ë¦¬ ê²°ê³¼ê°€ ìˆœì„œì— ë”°ë¼ ë‹¬ë¼ì§

### 6ì¥ ì •ë‹µ

**í€´ì¦ˆ 6.1 ì •ë‹µ**:
- **ê³± íƒ€ì… (AND)**: ëª¨ë“  í•„ë“œê°€ "ê·¸ë¦¬ê³ "ë¡œ ì—°ê²°. `record Person(String name, int age)`
- **í•© íƒ€ì… (OR)**: ì—¬ëŸ¬ ì„ íƒì§€ ì¤‘ "í•˜ë‚˜". `sealed interface Status permits Active, Inactive`
- ê³± íƒ€ì…ì€ í•„ë“œ ìˆ˜ë§Œí¼ ì •ë³´ í•„ìš”, í•© íƒ€ì…ì€ ì„ íƒì§€ ì¤‘ í•˜ë‚˜ë§Œ

**í€´ì¦ˆ 6.2 ì •ë‹µ**:
```java
// ë¬¸ì œì : nullable í•„ë“œë¡œ ë¶ˆê°€ëŠ¥í•œ ìƒíƒœ í‘œí˜„ ê°€ëŠ¥
// - status="PENDING"ì¸ë° paidAtì´ ìˆëŠ” ëª¨ìˆœ
// - status="SHIPPED"ì¸ë° trackingNumberê°€ nullì¸ ë²„ê·¸

// ê°œì„ : sealed interfaceë¡œ ìƒíƒœë³„ í•„ìˆ˜ ë°ì´í„° ëª…ì‹œ
sealed interface OrderStatus permits Pending, Paid, Shipped {
    record Pending(LocalDateTime createdAt) implements OrderStatus {}
    record Paid(LocalDateTime paidAt, String txId) implements OrderStatus {}
    record Shipped(String trackingNumber, LocalDateTime shippedAt) implements OrderStatus {}
}
```

**í€´ì¦ˆ 6.3 ì •ë‹µ**:
- ì»´íŒŒì¼ íƒ€ì„ì— ë¶ˆê°€ëŠ¥í•œ ìƒíƒœë¥¼ ë°©ì§€ â†’ ëŸ°íƒ€ì„ ë²„ê·¸ ì›ì²œ ì°¨ë‹¨
- íŒ¨í„´ ë§¤ì¹­ìœ¼ë¡œ ëª¨ë“  ì¼€ì´ìŠ¤ ê°•ì œ ì²˜ë¦¬ â†’ ë¹ ì§„ ì¼€ì´ìŠ¤ ë°©ì§€
- ì½”ë“œ ìì²´ê°€ ë¬¸ì„œ ì—­í•  â†’ ê° ìƒíƒœì— í•„ìš”í•œ ë°ì´í„°ê°€ ëª…ì‹œì 

### 7ì¥ ì •ë‹µ

**í€´ì¦ˆ 7.1 ì •ë‹µ**:
- ë‘˜ ë‹¤ **ì§€ì—° í‰ê°€(Lazy Evaluation)** ì‚¬ìš©
- í„°ë¯¸ë„ ì—°ì‚° ì „ê¹Œì§€ ì‹¤ì œ ê³„ì‚° ìˆ˜í–‰ ì•ˆ í•¨
- ìš”ì†Œë³„ ê°œë³„ ì²˜ë¦¬ (ë°°ì¹˜ ì²˜ë¦¬ê°€ ì•„ë‹˜)
- ë¬´í•œ ì‹œí€€ìŠ¤ í‘œí˜„ ê°€ëŠ¥

**í€´ì¦ˆ 7.2 ì •ë‹µ**: `F1 F2 M2 ` (ê³µë°± í¬í•¨)
- F1: 1ì€ í™€ìˆ˜, í†µê³¼ X
- F2: 2ëŠ” ì§ìˆ˜, í†µê³¼ O â†’ M2: 20 ìƒì„±
- limit(1) ë„ë‹¬ â†’ ì¢…ë£Œ
- 3, 4, 5ëŠ” ì•„ì˜ˆ ì²˜ë¦¬ ì•ˆ ë¨ (ì‡¼íŠ¸ì„œí‚·)

**í€´ì¦ˆ 7.3 ì •ë‹µ**:
- ì§€ì—° í‰ê°€ëŠ” "ìš”ì²­í•  ë•Œë§Œ" ë‹¤ìŒ ìš”ì†Œ ê³„ì‚°
- `Stream.iterate(1, n -> n + 1)`ì€ "ë ˆì‹œí”¼"ë§Œ ì •ì˜, ì‹¤ì œ ë¬´í•œ ë¦¬ìŠ¤íŠ¸ ìƒì„± X
- `limit(n)` ê°™ì€ ì‡¼íŠ¸ì„œí‚· ì—°ì‚°ê³¼ ê²°í•©í•˜ë©´ í•„ìš”í•œ ë§Œí¼ë§Œ ê³„ì‚°
- ì¦‰ì‹œ í‰ê°€ì˜€ë‹¤ë©´ ë¬´í•œ ë£¨í”„ ë°œìƒ
