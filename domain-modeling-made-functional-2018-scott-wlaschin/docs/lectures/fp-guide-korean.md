# ğŸ¯ ìë°”/ì½”í‹€ë¦° ê°œë°œìë¥¼ ìœ„í•œ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ê°€ì´ë“œ

> **"OOPëŠ” ì›€ì§ì´ëŠ” ë¶€í’ˆì„ ìº¡ìŠí™”í•´ì„œ ì½”ë“œë¥¼ ì´í•´í•˜ê¸° ì‰½ê²Œ ë§Œë“¤ê³ , FPëŠ” ì›€ì§ì´ëŠ” ë¶€í’ˆ ìì²´ë¥¼ ì¤„ì—¬ì„œ ì½”ë“œë¥¼ ì´í•´í•˜ê¸° ì‰½ê²Œ ë§Œë“ ë‹¤."** â€” Michael Feathers

---

## ğŸ“š ëª©ì°¨

1. [ê¸°ì´ˆ ì²´ë ¥ ë‹¤ì§€ê¸°](#1-ê¸°ì´ˆ-ì²´ë ¥-ë‹¤ì§€ê¸°)
   - ìˆœìˆ˜ í•¨ìˆ˜
   - ë¶ˆë³€ì„±
   - ì°¸ì¡° íˆ¬ëª…ì„±
2. [í•¨ìˆ˜ë¥¼ ê°’ì²˜ëŸ¼ ë‹¤ë£¨ê¸°](#2-í•¨ìˆ˜ë¥¼-ê°’ì²˜ëŸ¼-ë‹¤ë£¨ê¸°)
   - ì¼ê¸‰ í•¨ìˆ˜
   - ê³ ì°¨ í•¨ìˆ˜
   - í´ë¡œì €
3. [í•¨ìˆ˜ ì¡°ë¦½í•˜ê¸°](#3-í•¨ìˆ˜-ì¡°ë¦½í•˜ê¸°)
   - í•©ì„±
   - ì»¤ë§ê³¼ ë¶€ë¶„ ì ìš©
4. [ì»¨í…Œì´ë„ˆ íŒ¨ë°€ë¦¬: í‘í„°ì—ì„œ ëª¨ë‚˜ë“œê¹Œì§€](#4-ì»¨í…Œì´ë„ˆ-íŒ¨ë°€ë¦¬-í‘í„°ì—ì„œ-ëª¨ë‚˜ë“œê¹Œì§€)
   - Functor (mapì˜ ì •ì²´)
   - Monad (flatMapì˜ ì •ì²´)
   - Applicative (ë…ë¦½ ê³„ì‚° ê²°í•©)
5. [ëŒ€ìˆ˜ì  êµ¬ì¡°](#5-ëŒ€ìˆ˜ì -êµ¬ì¡°)
   - ì„¸ë¯¸ê·¸ë£¹ê³¼ ëª¨ë…¸ì´ë“œ
6. [ëŒ€ìˆ˜ì  ë°ì´í„° íƒ€ì… (ADT)](#6-ëŒ€ìˆ˜ì -ë°ì´í„°-íƒ€ì…-adt)
   - ê³± íƒ€ì… (Product Type)
   - í•© íƒ€ì… (Sum Type)
7. [í‰ê°€ ì „ëµ](#7-í‰ê°€-ì „ëµ)
   - ì§€ì—° í‰ê°€
8. [ì‹¤ì „ì—ì„œ ì¡°ë¦½í•˜ê¸°](#8-ì‹¤ì „ì—ì„œ-ì¡°ë¦½í•˜ê¸°)

---

## 1. ê¸°ì´ˆ ì²´ë ¥ ë‹¤ì§€ê¸°

### 1.1 ìˆœìˆ˜ í•¨ìˆ˜ (Pure Function)

#### ğŸ­ ë¹„ìœ : ìíŒê¸°

ìíŒê¸°ë¥¼ ë– ì˜¬ë ¤ë³´ì„¸ìš”. ì²œ ì› ë„£ê³  A1 ë²„íŠ¼ ëˆ„ë¥´ë©´? ì½œë¼ ë‚˜ì˜µë‹ˆë‹¤. ë˜ ì²œ ì› ë„£ê³  A1 ëˆ„ë¥´ë©´? ë˜ ì½œë¼. ë°± ë²ˆì„ í•´ë„ ì½œë¼ì…ë‹ˆë‹¤. ì´ê²Œ ë°”ë¡œ ìˆœìˆ˜ í•¨ìˆ˜ì˜ í•µì‹¬ì…ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ìˆœìˆ˜ í•¨ìˆ˜ = ìíŒê¸°                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ì…ë ¥                              ì¶œë ¥                         â”‚
â”‚   â”€â”€â”€â”€                              â”€â”€â”€â”€                         â”‚
â”‚   â‚©1000 + A1 ë²„íŠ¼  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  ì½œë¼ (í•­ìƒ!)                â”‚
â”‚   â‚©1000 + A1 ë²„íŠ¼  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  ì½œë¼ (í•­ìƒ!)                â”‚
â”‚   â‚©1000 + A1 ë²„íŠ¼  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  ì½œë¼ (í•­ìƒ!)                â”‚
â”‚                                                                 â”‚
â”‚   âœ“ ê°™ì€ ì…ë ¥ = ê°™ì€ ì¶œë ¥ (ê²°ì •ì )                              â”‚
â”‚   âœ“ ë¶€ì‘ìš© ì—†ìŒ (ì™¸ë¶€ ì„¸ê³„ë¥¼ ê±´ë“œë¦¬ì§€ ì•ŠìŒ)                     â”‚
â”‚   âœ“ ì™¸ë¶€ ìƒíƒœì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ                                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### âŒ ìˆœìˆ˜í•˜ì§€ ì•Šì€ í•¨ìˆ˜

```java
// src/main/java/com/example/fp/ImpureExample.java

public class ImpureExample {
    private int counter = 0;  // ì™¸ë¶€ ìƒíƒœ!
    
    // âŒ ë¶ˆìˆœ: ì™¸ë¶€ ìƒíƒœë¥¼ ì½ê³  ë³€ê²½í•¨
    public int addAndCount(int x) {
        counter++;                    // ë¶€ì‘ìš©: ìƒíƒœ ë³€ê²½
        System.out.println("í˜¸ì¶œë¨"); // ë¶€ì‘ìš©: I/O ë°œìƒ
        return x + counter;           // ê²°ê³¼ê°€ counterì— ë”°ë¼ ë‹¬ë¼ì§
    }
}
```

í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ê²°ê³¼ê°€ ë‹¬ë¼ì§‘ë‹ˆë‹¤. ì²« ë²ˆì§¸ `addAndCount(5)`ëŠ” 6ì„ ë°˜í™˜í•˜ê³ , ë‘ ë²ˆì§¸ëŠ” 7ì„ ë°˜í™˜í•´ìš”. í…ŒìŠ¤íŠ¸í•˜ê¸° ê³¨ì¹˜ ì•„í”„ì£ .

#### âœ… ìˆœìˆ˜ í•¨ìˆ˜

```java
// src/main/java/com/example/fp/PureExample.java

public class PureExample {
    
    // âœ… ìˆœìˆ˜: ê°™ì€ ì…ë ¥ì—” í•­ìƒ ê°™ì€ ì¶œë ¥
    public static int add(int a, int b) {
        return a + b;  // ë¶€ì‘ìš© ì—†ìŒ, ê²°ì •ì 
    }
    
    // âœ… ìˆœìˆ˜: ë³€í™˜ë§Œ í•˜ê³  ì›ë³¸ì€ ê±´ë“œë¦¬ì§€ ì•ŠìŒ
    public static List<Integer> doubleAll(List<Integer> numbers) {
        return numbers.stream()
                      .map(n -> n * 2)
                      .toList();  // ìƒˆë¡œìš´ ë¦¬ìŠ¤íŠ¸ ë°˜í™˜
    }
}
```

#### ì½”í‹€ë¦° ë²„ì „

```kotlin
// src/main/kotlin/com/example/fp/PureFunctions.kt

// âœ… ìˆœìˆ˜ í•¨ìˆ˜ - í‘œí˜„ì‹ ë³¸ë¬¸ ì‚¬ìš©
fun add(a: Int, b: Int): Int = a + b

// âœ… ìˆœìˆ˜ ë³€í™˜ - ì›ë³¸ ë¦¬ìŠ¤íŠ¸ ê·¸ëŒ€ë¡œ
fun doubleAll(numbers: List<Int>): List<Int> = numbers.map { it * 2 }
```

#### ğŸ§ª ìˆœìˆ˜ í•¨ìˆ˜ íŒë³„ ì²´í¬ë¦¬ìŠ¤íŠ¸

| ì§ˆë¬¸ | ìˆœìˆ˜í•˜ë ¤ë©´? |
|------|-------------|
| ê°™ì€ ì…ë ¥ â†’ ê°™ì€ ì¶œë ¥? | ë°˜ë“œì‹œ âœ… |
| ì™¸ë¶€ ìƒíƒœ ë³€ê²½? | ë°˜ë“œì‹œ âŒ |
| ì™¸ë¶€ ìƒíƒœì— ì˜ì¡´? | ë°˜ë“œì‹œ âŒ |
| I/O ìˆ˜í–‰? | ë°˜ë“œì‹œ âŒ |

**ê·¸ëŸ°ë° í˜„ì‹¤ì—ì„œ I/O ì—†ì´ ì–´ë–»ê²Œ í”„ë¡œê·¸ë¨ì„ ì§œìš”?**

ì¢‹ì€ ì§ˆë¬¸ì…ë‹ˆë‹¤. í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì€ "ëª¨ë“  ì½”ë“œë¥¼ ìˆœìˆ˜í•˜ê²Œ" ë§Œë“¤ë¼ëŠ” ê²Œ ì•„ë‹™ë‹ˆë‹¤. **ìˆœìˆ˜í•œ ë¶€ë¶„ê³¼ ë¶ˆìˆœí•œ ë¶€ë¶„ì„ ëª…í™•íˆ ë¶„ë¦¬**í•˜ë¼ëŠ” ê²ë‹ˆë‹¤. ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ìˆœìˆ˜í•˜ê²Œ, I/OëŠ” ê°€ì¥ìë¦¬(edge)ì—ì„œ ì²˜ë¦¬í•˜ëŠ” ê±°ì£ .

---

### 1.2 ë¶ˆë³€ì„± (Immutability)

#### ğŸ­ ë¹„ìœ : Gitê³¼ SVN

ì˜ˆì „ SVN ì“¸ ë•Œ ê¸°ì–µë‚˜ì„¸ìš”? ëˆ„ê°€ íŒŒì¼ ìˆ˜ì •í•˜ë©´ ì´ì „ ë‚´ìš©ì´ ê·¸ëƒ¥ ì‚¬ë¼ì¡Œì£ . ë°˜ë©´ Gitì€ ëª¨ë“  ì»¤ë°‹ì´ íˆìŠ¤í† ë¦¬ë¡œ ë‚¨ìŠµë‹ˆë‹¤. ë¶ˆë³€ì„±ì´ ë°”ë¡œ ì´ Git ë°©ì‹ì…ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ë¶ˆë³€ì„± = Git íˆìŠ¤í† ë¦¬                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ê°€ë³€ ì„¸ê³„ (SVN ìŠ¤íƒ€ì¼):                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”                                                      â”‚
â”‚   â”‚ v1.0 â”‚ â†â”€â”€ ëˆ„ê°€ ë®ì–´ì”€. ì´ì „ ë‚´ìš© ë‚ ì•„ê°!                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”˜                                                      â”‚
â”‚                                                                 â”‚
â”‚   ë¶ˆë³€ ì„¸ê³„ (Git ìŠ¤íƒ€ì¼):                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚   â”‚ v1.0 â”‚â”€â”€â”€â†’â”‚ v1.1 â”‚â”€â”€â”€â†’â”‚ v1.2 â”‚â”€â”€â”€â†’â”‚ v1.3 â”‚                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚      â†‘           â†‘           â†‘           â†‘                      â”‚
â”‚   ëª¨ë“  ë²„ì „ì´ ì‚´ì•„ìˆìŒ! ì–¸ì œë“  ë˜ëŒë¦´ ìˆ˜ ìˆìŒ                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Java: Recordë¡œ ë¶ˆë³€ ê°ì²´ ë§Œë“¤ê¸° (Java 16+)

```java
// src/main/java/com/example/fp/model/User.java

// âœ… ì„¤ê³„ ìì²´ê°€ ë¶ˆë³€ - ëª¨ë“  í•„ë“œê°€ final
public record User(
    Long id,
    String name,
    String email,
    List<String> roles  // âš ï¸ ì£¼ì˜: List ìì²´ëŠ” ê°€ë³€ì¼ ìˆ˜ ìˆìŒ!
) {
    // ì»´íŒ©íŠ¸ ìƒì„±ìì—ì„œ ë°©ì–´ì  ë³µì‚¬
    public User {
        roles = List.copyOf(roles);  // ì§„ì§œ ë¶ˆë³€ìœ¼ë¡œ ë§Œë“¤ê¸°
    }
    
    // "ì„¸í„°" ëŒ€ì‹  ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜
    public User withName(String newName) {
        return new User(id, newName, email, roles);
    }
    
    public User addRole(String role) {
        var newRoles = new ArrayList<>(roles);
        newRoles.add(role);
        return new User(id, name, email, newRoles);
    }
}
```

#### ì½”í‹€ë¦°: data class

ì½”í‹€ë¦°ì´ ì´ ë¶€ë¶„ì—ì„œ í›¨ì”¬ í¸í•©ë‹ˆë‹¤.

```kotlin
// src/main/kotlin/com/example/fp/model/User.kt

data class User(
    val id: Long,
    val name: String,
    val email: String,
    val roles: List<String>  // ì½”í‹€ë¦° ListëŠ” ê¸°ë³¸ì´ ë¶ˆë³€
) {
    // copy()ë¡œ "ìˆ˜ì •ëœ ë³µì‚¬ë³¸" ë§Œë“¤ê¸°
    fun withName(newName: String): User = copy(name = newName)
    
    fun addRole(role: String): User = copy(roles = roles + role)
}

// ì‚¬ìš© ì˜ˆì‹œ
fun main() {
    val user1 = User(1, "ê¹€ì² ìˆ˜", "kim@email.com", listOf("USER"))
    val user2 = user1.addRole("ADMIN")  // user1ì€ ê·¸ëŒ€ë¡œ!
    
    println(user1.roles)  // [USER]
    println(user2.roles)  // [USER, ADMIN]
}
```

#### ğŸ¯ ì™œ ë¶ˆë³€ì„±ì´ ì¤‘ìš”í•œê°€?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ë¶ˆë³€ì„±ì˜ ì´ì                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. ìŠ¤ë ˆë“œ ì•ˆì „ì„±                                               â”‚
â”‚     ë½ í•„ìš” ì—†ìŒ - ë°ì´í„°ê°€ ì•ˆ ë°”ë€Œë‹ˆê¹Œ!                        â”‚
â”‚     ë™ì‹œì„± ë²„ê·¸ ì›ì²œ ì°¨ë‹¨                                       â”‚
â”‚                                                                 â”‚
â”‚  2. ì˜ˆì¸¡ ê°€ëŠ¥ì„±                                                 â”‚
â”‚     "ì´ê±° ëˆ„ê°€ ë°”ê¿¨ì§€?" ë””ë²„ê¹… ì§€ì˜¥ íƒˆì¶œ                        â”‚
â”‚     í•œë²ˆ ë§Œë“  ê°ì²´ëŠ” ì˜ì›íˆ ê·¸ ìƒíƒœ                             â”‚
â”‚                                                                 â”‚
â”‚  3. í…ŒìŠ¤íŠ¸ ìš©ì´ì„±                                               â”‚
â”‚     ê°™ì€ ì…ë ¥ = ê°™ì€ ì¶œë ¥, í•­ìƒ                                 â”‚
â”‚     ëª©(mock) ì„¤ì • ë‹¨ìˆœí•´ì§                                      â”‚
â”‚                                                                 â”‚
â”‚  4. ìºì‹œ ì¹œí™”ì                                                  â”‚
â”‚     ì•ˆì‹¬í•˜ê³  ìºì‹œ ê°€ëŠ¥ - ê°’ì´ ë³€í•  ì¼ ì—†ìŒ                      â”‚
â”‚                                                                 â”‚
â”‚  5. ì‹¤í–‰ ì·¨ì†Œ/ë˜ëŒë¦¬ê¸° ì‰¬ì›€                                     â”‚
â”‚     ì´ì „ ë²„ì „ ê·¸ëƒ¥ ë“¤ê³  ìˆìœ¼ë©´ ë¨                               â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 1.3 ì°¸ì¡° íˆ¬ëª…ì„± (Referential Transparency)

#### ğŸ­ ë¹„ìœ : ìˆ˜í•™ ì‹œê°„ì˜ ëŒ€ì…

ì¤‘í•™êµ ìˆ˜í•™ ì‹œê°„ ê¸°ì–µë‚˜ì„¸ìš”? x = 5ë¼ê³  í•˜ë©´, ì–´ë””ì„œë“  xë¥¼ 5ë¡œ ë°”ê¿” ì¨ë„ ê²°ê³¼ê°€ ê°™ì•˜ì£ . ì´ê²Œ ì°¸ì¡° íˆ¬ëª…ì„±ì…ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                ì°¸ì¡° íˆ¬ëª…ì„± = ìˆ˜í•™ì  ëŒ€ì…                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ìˆ˜í•™ì—ì„œ x = 5ë©´, ì–´ë””ë“  x ëŒ€ì‹  5 ì¨ë„ ë¨:                    â”‚
â”‚                                                                 â”‚
â”‚   x + x = 5 + 5 = 10  âœ… í•­ìƒ ë§ìŒ!                            â”‚
â”‚                                                                 â”‚
â”‚   FPì—ì„œ add(2,3) = 5ë©´, ì–´ë””ë“  add(2,3) ëŒ€ì‹  5 ì¨ë„ ë¨:       â”‚
â”‚                                                                 â”‚
â”‚   add(2,3) + add(2,3) = 5 + 5 = 10  âœ… í•­ìƒ ë§ìŒ!              â”‚
â”‚                                                                 â”‚
â”‚   ì´ê²Œ ê°€ëŠ¥í•œ ê±´ í•¨ìˆ˜ê°€ ìˆœìˆ˜í•  ë•Œë§Œ!                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// âœ… ì°¸ì¡° íˆ¬ëª…
int result = add(2, 3) + add(2, 3);  // 5 + 5ë¡œ ëŒ€ì²´ ê°€ëŠ¥

// âŒ ì°¸ì¡° íˆ¬ëª…í•˜ì§€ ì•ŠìŒ
int result = random.nextInt() + random.nextInt();  // ëŒ€ì²´ ë¶ˆê°€!
```

ì°¸ì¡° íˆ¬ëª…ì„±ì´ ì™œ ì¤‘ìš”í•˜ëƒë©´, ì»´íŒŒì¼ëŸ¬ê°€ ìµœì í™”í•˜ê¸° ì¢‹ê³ , ê°œë°œìê°€ ì½”ë“œë¥¼ ì½ì„ ë•Œ ë¨¸ë¦¿ì†ì—ì„œ "ì´ê±´ ê·¸ëƒ¥ 5ë„¤" í•˜ê³  ë„˜ì–´ê°ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

---

## 2. í•¨ìˆ˜ë¥¼ ê°’ì²˜ëŸ¼ ë‹¤ë£¨ê¸°

### 2.1 ì¼ê¸‰ í•¨ìˆ˜ (First-Class Function)

#### ğŸ­ ë¹„ìœ : í•¨ìˆ˜ë„ ê·¸ëƒ¥ ê°’ì´ë‹¤

ìë°”ì—ì„œ ì •ìˆ˜(int)ë¡œ ë­˜ í•  ìˆ˜ ìˆë‚˜ìš”? ë³€ìˆ˜ì— ì €ì¥í•˜ê³ , ë©”ì„œë“œì— ë„˜ê¸°ê³ , ë©”ì„œë“œì—ì„œ ë°˜í™˜í•˜ê³ , ì»¬ë ‰ì…˜ì— ë‹´ì„ ìˆ˜ ìˆì£ . **ì¼ê¸‰ í•¨ìˆ˜ë€ í•¨ìˆ˜ë„ ì´ ëª¨ë“  ê±¸ í•  ìˆ˜ ìˆë‹¤**ëŠ” ëœ»ì…ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ì¼ê¸‰ = ê°’ì²˜ëŸ¼ ë‹¤ë£° ìˆ˜ ìˆìŒ                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ì •ìˆ˜ë¡œ í•  ìˆ˜ ìˆëŠ” ê²ƒ:                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚ â€¢ ë³€ìˆ˜ì— ì €ì¥:      int x = 5;                      â”‚       â”‚
â”‚   â”‚ â€¢ ì¸ìë¡œ ì „ë‹¬:      process(x);                     â”‚       â”‚
â”‚   â”‚ â€¢ ë°˜í™˜ê°’ìœ¼ë¡œ ì‚¬ìš©:  return x;                       â”‚       â”‚
â”‚   â”‚ â€¢ ì»¬ë ‰ì…˜ì— ë‹´ê¸°:    List<Integer>                   â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                 â”‚
â”‚   ì¼ê¸‰ í•¨ìˆ˜ë„ ì´ê²Œ ë‹¤ ë¨!                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚ â€¢ ë³€ìˆ˜ì— ì €ì¥:      Function<A,B> f = x -> x*2;     â”‚       â”‚
â”‚   â”‚ â€¢ ì¸ìë¡œ ì „ë‹¬:      process(f);                     â”‚       â”‚
â”‚   â”‚ â€¢ ë°˜í™˜ê°’ìœ¼ë¡œ ì‚¬ìš©:  return f;                       â”‚       â”‚
â”‚   â”‚ â€¢ ì»¬ë ‰ì…˜ì— ë‹´ê¸°:    List<Function<A,B>>             â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// src/main/java/com/example/fp/FirstClassDemo.java

import java.util.function.*;

public class FirstClassDemo {
    
    // 1ï¸âƒ£ í•¨ìˆ˜ë¥¼ ë³€ìˆ˜ì— ì €ì¥
    Function<Integer, Integer> double_ = x -> x * 2;
    
    // 2ï¸âƒ£ í•¨ìˆ˜ë¥¼ ì»¬ë ‰ì…˜ì— ë‹´ê¸°
    List<Function<Integer, Integer>> operations = List.of(
        x -> x + 1,
        x -> x * 2,
        x -> x * x
    );
    
    // 3ï¸âƒ£ í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ë°›ê¸°
    public int apply(int value, Function<Integer, Integer> fn) {
        return fn.apply(value);
    }
    
    // 4ï¸âƒ£ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ê¸°
    public Function<Integer, Integer> multiplier(int factor) {
        return x -> x * factor;  // í•¨ìˆ˜ë¥¼ ë°˜í™˜!
    }
}
```

---

### 2.2 ê³ ì°¨ í•¨ìˆ˜ (Higher-Order Function)

#### ğŸ­ ë¹„ìœ : ì‰í”„ì™€ ë ˆì‹œí”¼

ì¼ë°˜ í•¨ìˆ˜ëŠ” ë¼ì¸ ì¿¡ ê°™ìŠµë‹ˆë‹¤. ì¬ë£Œ ë°›ì•„ì„œ ìš”ë¦¬ ë‚´ë†“ì£ . ê³ ì°¨ í•¨ìˆ˜ëŠ” ì´ì£¼ë°©ì¥ì…ë‹ˆë‹¤. **ë ˆì‹œí”¼ ìì²´ë¥¼ ë°›ì•„ì„œ ìƒˆë¡œìš´ ë ˆì‹œí”¼ë¥¼ ë§Œë“¤ì–´ëƒ…ë‹ˆë‹¤.**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ê³ ì°¨ í•¨ìˆ˜ = ì´ì£¼ë°©ì¥                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ì¼ë°˜ í•¨ìˆ˜ (ë¼ì¸ ì¿¡):                                          â”‚
â”‚   ì¬ë£Œ ë°›ìŒ â†’ ìš”ë¦¬ ë°˜í™˜                                         â”‚
â”‚   "ê³„ë€ ì£¼ì„¸ìš”" â†’ "ì˜¤ë¯ˆë › ì—¬ê¸°ìš”"                               â”‚
â”‚                                                                 â”‚
â”‚   ê³ ì°¨ í•¨ìˆ˜ (ì´ì£¼ë°©ì¥):                                         â”‚
â”‚   ë ˆì‹œí”¼ ë°›ìŒ â†’ ìƒˆ ë ˆì‹œí”¼ ë°˜í™˜                                  â”‚
â”‚   "ì´ ë ˆì‹œí”¼ ì¤„ê²Œ" â†’ "ê°œì„ ëœ ë²„ì „ ì—¬ê¸°"                         â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚  map():    "ì´ ë ˆì‹œí”¼ë¥¼ ëª¨ë“  ì¬ë£Œì— ì ìš©í•´"          â”‚      â”‚
â”‚   â”‚  filter(): "ì´ ì¡°ê±´ í†µê³¼í•˜ëŠ” ì¬ë£Œë§Œ ê³¨ë¼"            â”‚      â”‚
â”‚   â”‚  reduce(): "ëª¨ë“  ì¬ë£Œë¥¼ í•˜ë‚˜ë¡œ í•©ì³"                 â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ì‚¼ì‹ ê¸°: map, filter, reduce

í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì˜ ì‚¼ëŒ€ì¥ì…ë‹ˆë‹¤. ì´ ì„¸ ê°œë§Œ ì˜ ì¨ë„ ëŒ€ë¶€ë¶„ì˜ ì»¬ë ‰ì…˜ ì²˜ë¦¬ê°€ ë©ë‹ˆë‹¤.

```java
// src/main/java/com/example/fp/HigherOrderDemo.java

public class HigherOrderDemo {
    
    record Order(Long id, String product, BigDecimal amount, boolean paid) {}
    
    public void demonstrate() {
        List<Order> orders = getOrders();
        
        // ê³ ì°¨ í•¨ìˆ˜ ì‹¤ì „ ì ìš©
        BigDecimal totalPaidRevenue = orders.stream()
            .filter(Order::paid)              // 1ï¸âƒ£ filter: ê²°ì œëœ ê²ƒë§Œ
            .map(Order::amount)               // 2ï¸âƒ£ map: ê¸ˆì•¡ë§Œ ì¶”ì¶œ
            .reduce(BigDecimal.ZERO, BigDecimal::add);  // 3ï¸âƒ£ reduce: ì „ë¶€ í•©ì‚°
    }
    
    // ì§ì ‘ ë§Œë“œëŠ” ê³ ì°¨ í•¨ìˆ˜
    public <T> List<T> filterAndTransform(
            List<T> items,
            Predicate<T> condition,      // í•¨ìˆ˜ë¥¼ ì¸ìë¡œ
            UnaryOperator<T> transform   // í•¨ìˆ˜ë¥¼ ì¸ìë¡œ
    ) {
        return items.stream()
                    .filter(condition)
                    .map(transform)
                    .toList();
    }
}
```

#### ì½”í‹€ë¦°: ë” ê¹”ë”í•˜ê²Œ

```kotlin
// src/main/kotlin/com/example/fp/HigherOrderDemo.kt

data class Order(val id: Long, val product: String, val amount: BigDecimal, val paid: Boolean)

fun main() {
    val orders = getOrders()
    
    val totalPaidRevenue = orders
        .filter { it.paid }          // í›„í–‰ ëŒë‹¤
        .map { it.amount }
        .reduce { acc, amount -> acc + amount }
    
    // ì•„ë‹ˆë©´ ê·¸ëƒ¥ sumOf ì“°ë©´ ë¨
    val total = orders.filter { it.paid }.sumOf { it.amount }
}

// í™•ì¥ í•¨ìˆ˜ë¡œ ê³ ì°¨ í•¨ìˆ˜ ë§Œë“¤ê¸°
inline fun <T> List<T>.filterAndTransform(
    condition: (T) -> Boolean,
    transform: (T) -> T
): List<T> = filter(condition).map(transform)
```

---

### 2.3 í´ë¡œì € (Closure)

#### ğŸ­ ë¹„ìœ : ê¸°ì–µì„ ë‹´ì€ ë°°ë‚­

í´ë¡œì €ëŠ” **ìê¸°ê°€ íƒœì–´ë‚œ í™˜ê²½ì„ ê¸°ì–µí•˜ëŠ” í•¨ìˆ˜**ì…ë‹ˆë‹¤. ë§ˆì¹˜ ë°°ë‚­ì— ì¶”ì–µì„ ë‹´ê³  ë‹¤ë‹ˆëŠ” ê²ƒì²˜ëŸ¼ìš”.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                í´ë¡œì € = ë°°ë‚­ ë©˜ í•¨ìˆ˜                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   í´ë¡œì €ëŠ” ìê¸°ê°€ ë§Œë“¤ì–´ì§„ í™˜ê²½ì˜ ë³€ìˆ˜ë“¤ì„ "ê¸°ì–µ"í•©ë‹ˆë‹¤.        â”‚
â”‚   ë§ˆì¹˜ ë°°ë‚­ì— ì¶”ì–µì„ ë‹´ê³  ë‹¤ë‹ˆëŠ” ê²ƒì²˜ëŸ¼ìš”.                      â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚  fun createCounter(): () -> Int {                   â”‚       â”‚
â”‚   â”‚      var count = 0  // ğŸ’ ì´ê²Œ ë°°ë‚­ì— ë“¤ì–´ê°        â”‚       â”‚
â”‚   â”‚      return { ++count }  // ë°°ë‚­ ë©”ê³  ë‹¤ë‹˜          â”‚       â”‚
â”‚   â”‚  }                                                  â”‚       â”‚
â”‚   â”‚                                                     â”‚       â”‚
â”‚   â”‚  val counter = createCounter()                      â”‚       â”‚
â”‚   â”‚  counter() // 1 (count ê¸°ì–µí•˜ê³  ìˆìŒ!)              â”‚       â”‚
â”‚   â”‚  counter() // 2 (ê³„ì† ê¸°ì–µ!)                        â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// src/main/java/com/example/fp/ClosureDemo.java

public class ClosureDemo {
    
    // í´ë¡œì €ë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” íŒ©í† ë¦¬
    public static Supplier<Integer> createCounter() {
        // ì´ ë³€ìˆ˜ê°€ í´ë¡œì €ì— "ìº¡ì²˜"ë¨
        final int[] count = {0};  // effectively final ìš°íšŒ
        
        return () -> ++count[0];  // í´ë¡œì €: countë¥¼ "í’ˆê³ " ìˆìŒ
    }
    
    // ë” ì‹¤ìš©ì ì¸ ì˜ˆ: ì„¤ì •ê°’ ìº¡ì²˜
    public static Function<BigDecimal, BigDecimal> createDiscountCalculator(
            BigDecimal discountRate  // ì´ê²Œ ìº¡ì²˜ë¨!
    ) {
        return price -> price.multiply(BigDecimal.ONE.subtract(discountRate));
    }
    
    public static void main(String[] args) {
        var counter = createCounter();
        System.out.println(counter.get());  // 1
        System.out.println(counter.get());  // 2
        
        var tenPercentOff = createDiscountCalculator(new BigDecimal("0.10"));
        var twentyPercentOff = createDiscountCalculator(new BigDecimal("0.20"));
        
        System.out.println(tenPercentOff.apply(new BigDecimal("100")));   // 90
        System.out.println(twentyPercentOff.apply(new BigDecimal("100"))); // 80
    }
}
```

---

## 3. í•¨ìˆ˜ ì¡°ë¦½í•˜ê¸°

### 3.1 í•©ì„± (Composition)

#### ğŸ­ ë¹„ìœ : ìœ ë‹‰ìŠ¤ íŒŒì´í”„

ë¦¬ëˆ…ìŠ¤ì—ì„œ `cat file.txt | grep "error" | sort | uniq` ì¨ë³´ì…¨ì£ ? ì‘ì€ ëª…ë ¹ì–´ë“¤ì„ íŒŒì´í”„ë¡œ ì—°ê²°í•´ì„œ ë³µì¡í•œ ì‘ì—…ì„ í•˜ëŠ” ê±°ì˜ˆìš”. í•¨ìˆ˜ í•©ì„±ì´ ë”± ì´ê²ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   í•©ì„± = ìœ ë‹‰ìŠ¤ íŒŒì´í”„                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   Unix: cat file.txt | grep "error" | sort | uniq              â”‚
â”‚                                                                 â”‚
â”‚   FP:   readFile.andThen(filterErrors).andThen(sort).andThen(unique)â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”                     â”‚
â”‚   â”‚  f  â”‚â”€â”€â”€â†’â”‚  g  â”‚â”€â”€â”€â†’â”‚  h  â”‚â”€â”€â”€â†’â”‚  i  â”‚                     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                                 â”‚
â”‚   f.andThen(g).andThen(h).andThen(i) = i(h(g(f(x))))          â”‚
â”‚                                                                 â”‚
â”‚   í•µì‹¬: ê° í•¨ìˆ˜ëŠ” ìê¸° ì…ì¶œë ¥ë§Œ ì‹ ê²½ ì“°ë©´ ë¨                    â”‚
â”‚   ì•ë’¤ë¡œ ëˆ„ê°€ ì˜¤ë“  ìƒê´€ì—†ìŒ!                                    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// src/main/java/com/example/fp/CompositionDemo.java

public class CompositionDemo {
    
    // ì‘ê³  ë‹¨ìˆœí•œ í•¨ìˆ˜ë“¤
    Function<String, String> trim = String::trim;
    Function<String, String> lowercase = String::toLowerCase;
    Function<String, String> removeSpaces = s -> s.replace(" ", "-");
    
    // ì¡°ë¦½í•´ì„œ ìŠ¬ëŸ¬ê·¸ ìƒì„±ê¸° ì™„ì„±
    Function<String, String> slugify = trim
            .andThen(lowercase)
            .andThen(removeSpaces);
    
    public void demo() {
        String title = "  Hello World Example  ";
        System.out.println(slugify.apply(title));  // "hello-world-example"
    }
}
```

---

### 3.2 ì»¤ë§ê³¼ ë¶€ë¶„ ì ìš©

#### ğŸ­ ë¹„ìœ : ì»¤í”¼ ì£¼ë¬¸ì„œ

ìŠ¤íƒ€ë²…ìŠ¤ì—ì„œ ì£¼ë¬¸í•  ë•Œ í•œ ë²ˆì— "ë²¤í‹° ì˜¤íŠ¸ë°€í¬ ë°”ë‹ë¼ ë¼ë–¼"ë¼ê³  í•˜ì£ . ê·¸ëŸ°ë° **ì»¤ë§**ì€ ì£¼ë¬¸ì„œë¥¼ í•œ ì¹¸ì”© ì±„ì›Œë‚˜ê°€ëŠ” ê²ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ì»¤ë§ = ì£¼ë¬¸ì„œ í•œ ì¹¸ì”© ì±„ìš°ê¸°                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ì¼ë°˜ í•¨ìˆ˜ (í•œ ë²ˆì— ë‹¤):                                       â”‚
â”‚   orderCoffee(size, milk, syrup) â†’ ì»¤í”¼                        â”‚
â”‚                                                                 â”‚
â”‚   ì»¤ë§ëœ í•¨ìˆ˜ (í•œ ì¹¸ì”©):                                        â”‚
â”‚   orderCoffee(size) â†’ milk ë°›ëŠ” í•¨ìˆ˜ ë°˜í™˜                      â”‚
â”‚                       â†’ syrup ë°›ëŠ” í•¨ìˆ˜ ë°˜í™˜                   â”‚
â”‚                       â†’ ì»¤í”¼                                   â”‚
â”‚                                                                 â”‚
â”‚   orderCoffee("ë²¤í‹°")("ì˜¤íŠ¸")("ë°”ë‹ë¼") â†’ ì»¤í”¼                 â”‚
â”‚        â”‚                â”‚         â”‚                             â”‚
â”‚        â””â”€â”€ 1ë‹¨ê³„        â””â”€â”€ 2ë‹¨ê³„   â””â”€â”€ 3ë‹¨ê³„                  â”‚
â”‚                                                                 â”‚
â”‚   ë¶€ë¶„ ì ìš©:                                                    â”‚
â”‚   largeOrder = orderCoffee("ë²¤í‹°")     // ì‚¬ì´ì¦ˆ ê³ ì •!         â”‚
â”‚   largeOatOrder = largeOrder("ì˜¤íŠ¸")   // ë°€í¬ë„ ê³ ì •!         â”‚
â”‚   myCoffee = largeOatOrder("ë°”ë‹ë¼")   // ìµœì¢… ì£¼ë¬¸            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// src/main/java/com/example/fp/CurryingDemo.java

public class CurryingDemo {
    
    // ì¼ë°˜ í•¨ìˆ˜: ì¸ì í•œ ë²ˆì— ë‹¤ ë°›ìŒ
    public static BigDecimal calculatePrice(String size, String milk, String syrup) {
        // ... ê³„ì‚°
        return BigDecimal.ZERO;
    }
    
    // ì»¤ë§ëœ ë²„ì „: ì¸ì í•˜ë‚˜ì”©
    public static Function<String, Function<String, Function<String, BigDecimal>>> 
            calculatePriceCurried() {
        return size -> milk -> syrup -> {
            // ... ì„¸ ê°’ ëª¨ë‘ ì‚¬ìš©í•´ì„œ ê³„ì‚°
            return BigDecimal.ZERO;
        };
    }
    
    public static void main(String[] args) {
        var curriedPrice = calculatePriceCurried();
        
        // ë¶€ë¶„ ì ìš©: ìì£¼ ì“°ëŠ” ì¡°í•©ì„ ë¯¸ë¦¬ ë§Œë“¤ì–´ë‘ 
        var largePriceCalculator = curriedPrice.apply("Large");
        var largeSoyPriceCalculator = largePriceCalculator.apply("Soy");
        
        // ì´ì œ ì‹œëŸ½ë§Œ ì •í•˜ë©´ ë˜ëŠ” í•¨ìˆ˜ê°€ ë¨
        BigDecimal price = largeSoyPriceCalculator.apply("Vanilla");
    }
}
```

#### ì½”í‹€ë¦°: í›¨ì”¬ ê¹”ë”

```kotlin
// src/main/kotlin/com/example/fp/CurryingDemo.kt

// í™•ì¥ í•¨ìˆ˜ë¡œ ì»¤ë§ êµ¬í˜„
fun <A, B, C> ((A, B) -> C).curry(): (A) -> (B) -> C = { a -> { b -> this(a, b) } }

// ì‚¬ìš©
val add: (Int, Int) -> Int = { a, b -> a + b }
val curriedAdd = add.curry()

val addFive = curriedAdd(5)  // ë¶€ë¶„ ì ìš©!
println(addFive(3))   // 8
println(addFive(10))  // 15

// ì‹¤ìš© ì˜ˆ: ë¡œê±° íŒ©í† ë¦¬
val log: (String) -> (String) -> Unit = { level -> { message -> 
    println("[$level] $message") 
}}

val info = log("INFO")
val error = log("ERROR")

info("ì„œë²„ ì‹œì‘ë¨")      // [INFO] ì„œë²„ ì‹œì‘ë¨
error("ì—°ê²° ëŠê¹€")       // [ERROR] ì—°ê²° ëŠê¹€
```

---

## 4. ì»¨í…Œì´ë„ˆ íŒ¨ë°€ë¦¬: í‘í„°ì—ì„œ ëª¨ë‚˜ë“œê¹Œì§€

### ì „ì²´ ê·¸ë¦¼

ì—¬ê¸°ì„œë¶€í„°ê°€ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì˜ ê½ƒì…ë‹ˆë‹¤. ê²ë¨¹ì§€ ë§ˆì„¸ìš”, ìƒê°ë³´ë‹¤ ë³„ê±° ì•„ë‹™ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ì»¨í…Œì´ë„ˆ ê³„ì¸µ êµ¬ì¡°                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚                    â”‚   Functor    â”‚  "map í•  ìˆ˜ ìˆìŒ"          â”‚
â”‚                    â”‚   map(f)     â”‚                             â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                           â”‚                                     â”‚
â”‚                           â†“                                     â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚                    â”‚ Applicative  â”‚  "ê°ì‹¸ì§„ í•¨ìˆ˜ ì ìš© ê°€ëŠ¥"   â”‚
â”‚                    â”‚   ap(F<f>)   â”‚                             â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                           â”‚                                     â”‚
â”‚                           â†“                                     â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚                    â”‚    Monad     â”‚  "flatMap í•  ìˆ˜ ìˆìŒ"      â”‚
â”‚                    â”‚  flatMap(f)  â”‚                             â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                                                                 â”‚
â”‚  ìœ„ë¡œ ê°ˆìˆ˜ë¡ ê¸°ë³¸, ì•„ë˜ë¡œ ê°ˆìˆ˜ë¡ ê°•ë ¥í•¨                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.1 í‘í„° (Functor)

#### ğŸ­ ë¹„ìœ : ì„ ë¬¼ í¬ì¥

ì„ ë¬¼ ìƒì ì•ˆì— ë­”ê°€ ë“¤ì–´ìˆì–´ìš”. í‘í„°ëŠ” **ìƒìë¥¼ ì—´ì§€ ì•Šê³  ì•ˆì˜ ë‚´ìš©ë¬¼ì„ ë³€í™˜**í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                í‘í„° = ë³€í™˜ ê°€ëŠ¥í•œ ì„ ë¬¼ ìƒì                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   í‘í„°ëŠ” "ìƒìë¥¼ ì—´ì§€ ì•Šê³ " ë‚´ìš©ë¬¼ì„ ë°”ê¿€ ìˆ˜ ìˆëŠ” ì»¨í…Œì´ë„ˆ     â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      map(ìƒ‰ì¹ )       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚   â”‚ ğŸ“¦      â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  â”‚ ğŸ“¦      â”‚                 â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”  â”‚      ë‚´ìš©ë¬¼ë§Œ        â”‚  â”Œâ”€â”€â”€â”  â”‚                 â”‚
â”‚   â”‚  â”‚ ğŸš— â”‚ â”‚      ë³€í™˜ë¨          â”‚  â”‚ ğŸš™ â”‚ â”‚                 â”‚
â”‚   â”‚  â””â”€â”€â”€â”˜  â”‚                      â”‚  â””â”€â”€â”€â”˜  â”‚                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚   Box<ìë™ì°¨>                      Box<ìƒ‰ì¹ ëœìë™ì°¨>            â”‚
â”‚                                                                 â”‚
â”‚   í•µì‹¬: ìƒì êµ¬ì¡°ëŠ” ê·¸ëŒ€ë¡œ! ë‚´ìš©ë§Œ ë°”ë€œ                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### í‘í„° ë²•ì¹™

í‘í„°ë¼ê³  ë¶ˆë¦¬ë ¤ë©´ ì´ ë‘ ê°€ì§€ ë²•ì¹™ì„ ë§Œì¡±í•´ì•¼ í•©ë‹ˆë‹¤:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        í‘í„° ë²•ì¹™                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. í•­ë“± ë²•ì¹™:                                                  â”‚
â”‚     container.map(x -> x) == container                         â”‚
â”‚     "ì•„ë¬´ê²ƒë„ ì•ˆ í•˜ëŠ” í•¨ìˆ˜ë¡œ mapí•˜ë©´ ì›ë˜ ê·¸ëŒ€ë¡œ"               â”‚
â”‚                                                                 â”‚
â”‚  2. í•©ì„± ë²•ì¹™:                                                  â”‚
â”‚     container.map(f).map(g) == container.map(f.andThen(g))     â”‚
â”‚     "ë‘ ë²ˆ mapí•˜ë‚˜ í•©ì„±í•´ì„œ í•œ ë²ˆ mapí•˜ë‚˜ ê²°ê³¼ëŠ” ê°™ìŒ"          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// src/main/java/com/example/fp/FunctorDemo.java

// ìë°”ì˜ Optional, List, Stream ì „ë¶€ í‘í„°ì…ë‹ˆë‹¤!
public class FunctorDemo {
    
    // Optional = í‘í„°
    public Optional<Integer> parseAndDouble(String input) {
        return Optional.ofNullable(input)
                .map(String::trim)        // map: String -> String
                .map(Integer::parseInt)   // map: String -> Integer
                .map(n -> n * 2);         // map: Integer -> Integer
    }
    
    // List = í‘í„°
    public List<String> getUserEmails(List<User> users) {
        return users.stream()
                .map(User::email)  // map: User -> String
                .toList();
    }
    
    // CompletableFuture = í‘í„°
    public CompletableFuture<String> fetchAndProcess(String url) {
        return fetchAsync(url)              // Future<Response>
                .thenApply(Response::body)  // map: Response -> String
                .thenApply(String::trim);   // map: String -> String
    }
}
```

---

### 4.2 ëª¨ë‚˜ë“œ (Monad)

ë“œë””ì–´ ì™”ìŠµë‹ˆë‹¤, ëª¨ë‚˜ë“œ. ì¸í„°ë„·ì— "ëª¨ë‚˜ë“œ ì„¤ëª…" ì¹˜ë©´ ì˜¨ê°– ë³µì¡í•œ ê¸€ì´ ë‚˜ì˜¤ëŠ”ë°ìš”, ì‚¬ì‹¤ í•µì‹¬ì€ ê°„ë‹¨í•©ë‹ˆë‹¤.

#### ğŸ­ ë¹„ìœ : ê¸°ì°¨ ì„ ë¡œ ì „í™˜ê¸°

`map`ì˜ ë¬¸ì œê°€ ë­ëƒë©´, **í•¨ìˆ˜ ê²°ê³¼ê°€ ë˜ ì»¨í…Œì´ë„ˆì¼ ë•Œ ì¤‘ì²©**ì´ ë©ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ëª¨ë‚˜ë“œ = ì„ ë¡œ ì „í™˜ê¸°                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  mapì˜ ë¬¸ì œ:                                                    â”‚
â”‚                                                                 â”‚
â”‚  Optional<String> name = ...;                                   â”‚
â”‚  Optional<Optional<Address>> nested = name.map(findAddress);   â”‚
â”‚  // ğŸ˜± ì¤‘ì²©ë¨! Optional ì•ˆì— Optional                          â”‚
â”‚                                                                 â”‚
â”‚  í•´ê²°ì±… - flatMapì´ ì¤‘ì²©ì„ í’€ì–´ì¤Œ:                              â”‚
â”‚                                                                 â”‚
â”‚     map:                              flatMap:                  â”‚
â”‚     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚     â”Œâ”€â”€â”€â”    f    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”    f    â”Œâ”€â”€â”€â”      â”‚
â”‚     â”‚ A â”‚ â”€â”€â”€â”€â”€â”€â†’ â”‚ M< M<B> >â”‚         â”‚ A â”‚ â”€â”€â”€â”€â”€â”€â†’ â”‚ B â”‚      â”‚
â”‚     â””â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”˜         â””â”€â”€â”€â”˜       â”‚
â”‚                   ì¤‘ì²©! ğŸ˜±            í‰í‰! ğŸ˜Š                  â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                                                 â”‚
â”‚  ì² ë„ ë¹„ìœ :                                                      â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â†’ ì„±ê³µ ì„ ë¡œ    â”‚
â”‚      â•‘                                    â•‘                     â”‚
â”‚      â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                     â”‚
â”‚         ì‹¤íŒ¨ ì„ ë¡œ       â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â†’   â”‚
â”‚                                                                 â”‚
â”‚  flatMapì€ ì„ ë¡œë¥¼ ì¤‘ì²© ì—†ì´ ì—°ê²°í•´ì¤Œ!                           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ëª¨ë‚˜ë“œê°€ ë˜ë ¤ë©´?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ëª¨ë‚˜ë“œ ìš”êµ¬ì‚¬í•­                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. íƒ€ì… ìƒì„±ì: M<T>                                           â”‚
â”‚     ì˜ˆ: Optional<T>, List<T>, CompletableFuture<T>             â”‚
â”‚                                                                 â”‚
â”‚  2. ê°’ì„ ë„£ëŠ” ë°©ë²•: of(value) / pure(value)                    â”‚
â”‚     Optional.of(5), List.of(1,2,3), CompletableFuture.completedFuture(x)â”‚
â”‚                                                                 â”‚
â”‚  3. ì—°ì‚° ì—°ê²°í•˜ëŠ” ë°©ë²•: flatMap (ë˜ëŠ” bind)                     â”‚
â”‚     .flatMap(a -> M<B>)                                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ëª¨ë‚˜ë“œ ë²•ì¹™ (Monad Laws)

ëª¨ë‚˜ë“œë¼ê³  ë¶ˆë¦¬ë ¤ë©´ ì´ ì„¸ ê°€ì§€ ë²•ì¹™ì„ ë§Œì¡±í•´ì•¼ í•©ë‹ˆë‹¤:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ëª¨ë‚˜ë“œ ë²•ì¹™                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. Left Identity (ì™¼ìª½ í•­ë“± ë²•ì¹™):                             â”‚
â”‚     of(a).flatMap(f) == f(a)                                   â”‚
â”‚     "ê°’ì„ ê°ì‹¸ì„œ ë°”ë¡œ flatMap í•˜ë©´, ê·¸ëƒ¥ í•¨ìˆ˜ ì ìš©í•œ ê²ƒê³¼ ê°™ìŒ" â”‚
â”‚                                                                 â”‚
â”‚  2. Right Identity (ì˜¤ë¥¸ìª½ í•­ë“± ë²•ì¹™):                          â”‚
â”‚     m.flatMap(of) == m                                         â”‚
â”‚     "flatMapìœ¼ë¡œ ë‹¤ì‹œ ê°ì‹¸ê¸°ë§Œ í•˜ë©´ ì›ë˜ ê·¸ëŒ€ë¡œ"                â”‚
â”‚                                                                 â”‚
â”‚  3. Associativity (ê²°í•© ë²•ì¹™):                                  â”‚
â”‚     m.flatMap(f).flatMap(g) == m.flatMap(a -> f(a).flatMap(g)) â”‚
â”‚     "flatMap ì²´ì´ë‹ ìˆœì„œë¥¼ ë°”ê¿” ë¬¶ì–´ë„ ê²°ê³¼ëŠ” ê°™ìŒ"             â”‚
â”‚                                                                 â”‚
â”‚  ì˜ˆì‹œ (Optional):                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”‚
â”‚  // Left Identity                                               â”‚
â”‚  Optional.of(5).flatMap(x -> Optional.of(x * 2))               â”‚
â”‚      == Optional.of(10)  âœ…                                    â”‚
â”‚                                                                 â”‚
â”‚  // Right Identity                                              â”‚
â”‚  Optional.of(5).flatMap(Optional::of)                          â”‚
â”‚      == Optional.of(5)   âœ…                                    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ì‹¤ì „ ì½”ë“œ: null ì§€ì˜¥ íƒˆì¶œ

```java
// src/main/java/com/example/fp/MonadDemo.java

public class MonadDemo {
    
    record User(Long id, String name, Optional<Long> addressId) {}
    record Address(Long id, String street, String city) {}
    
    // ì‹¤íŒ¨í•  ìˆ˜ ìˆëŠ” ì¡°íšŒ ë©”ì„œë“œë“¤
    Optional<User> findUser(Long id) { /* ... */ return Optional.empty(); }
    Optional<Address> findAddress(Long id) { /* ... */ return Optional.empty(); }
    
    // âŒ flatMap ì—†ì´: ì¤‘ì²© ì§€ì˜¥
    public Optional<Optional<Optional<String>>> getCityBad(Long userId) {
        return findUser(userId)                              // Optional<User>
            .map(user -> user.addressId())                   // Optional<Optional<Long>>
            .map(optId -> optId.flatMap(this::findAddress))  // ğŸ˜± ì ì  ë³µì¡
            .map(optAddr -> optAddr.map(Address::city));     // ğŸ˜±ğŸ˜±ğŸ˜±
    }
    
    // âœ… flatMap ì‚¬ìš©: ê¹”ë”í•œ ì„ ë¡œ
    public Optional<String> getCityGood(Long userId) {
        return findUser(userId)                    // Optional<User>
            .flatMap(user -> user.addressId()      // Optional<Long>
                .flatMap(this::findAddress))       // Optional<Address>
            .map(Address::city);                   // Optional<String>
    }
    
    // âœ… ë” ê¹”ë”í•˜ê²Œ
    public Optional<String> getCityCleanest(Long userId) {
        return findUser(userId)
            .flatMap(User::addressId)     // Optionalì„ 0-1ê°œ ì»¬ë ‰ì…˜ìœ¼ë¡œ ì·¨ê¸‰
            .flatMap(this::findAddress)
            .map(Address::city);
    }
}
```

#### ìë°”/ì½”í‹€ë¦°ì˜ ì£¼ìš” ëª¨ë‚˜ë“œë“¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ìì£¼ ì“°ëŠ” ëª¨ë‚˜ë“œ                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ëª¨ë‚˜ë“œ            â”‚ ì˜ë¯¸                  â”‚ flatMap ì´ë¦„      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  Optional<T>      â”‚ ê°’ì´ ìˆê±°ë‚˜ ì—†ê±°ë‚˜   â”‚ .flatMap()         â”‚
â”‚  List<T>          â”‚ ì—¬ëŸ¬ ê°’              â”‚ .flatMap()         â”‚
â”‚  Stream<T>        â”‚ ì§€ì—° ì‹œí€€ìŠ¤          â”‚ .flatMap()         â”‚
â”‚  CompletableFutureâ”‚ ë¹„ë™ê¸° ê³„ì‚°          â”‚ .thenCompose()     â”‚
â”‚  Result<T,E>      â”‚ ì„±ê³µ ë˜ëŠ” ì—ëŸ¬       â”‚ (Kotlin/Vavr)      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ëª¨ë‚˜ë“œ ì²´ì´ë‹ì˜ ìœ„ë ¥

```kotlin
// src/main/kotlin/com/example/fp/MonadChaining.kt

// ì—¬ëŸ¬ ë‹¨ê³„ ì‹¤íŒ¨ë¥¼ ìš°ì•„í•˜ê²Œ ì²˜ë¦¬
sealed class Result<out T, out E> {
    data class Success<T>(val value: T) : Result<T, Nothing>()
    data class Failure<E>(val error: E) : Result<Nothing, E>()
    
    inline fun <R> map(f: (T) -> R): Result<R, E> = when (this) {
        is Success -> Success(f(value))
        is Failure -> this
    }
    
    inline fun <R> flatMap(f: (T) -> Result<R, @UnsafeVariance E>): Result<R, E> = 
        when (this) {
            is Success -> f(value)
            is Failure -> this
        }
}

// ì‹¤ì „: ì£¼ë¬¸ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸
fun processOrder(orderId: String): Result<Receipt, OrderError> {
    return validateOrderId(orderId)           // Result<OrderId, OrderError>
        .flatMap { findOrder(it) }            // Result<Order, OrderError>
        .flatMap { validateInventory(it) }    // Result<ValidatedOrder, OrderError>
        .flatMap { processPayment(it) }       // Result<PaidOrder, OrderError>
        .map { createReceipt(it) }            // Result<Receipt, OrderError>
}
// ì–´ëŠ ë‹¨ê³„ì—ì„œë“  ì‹¤íŒ¨í•˜ë©´ ì—ëŸ¬ê°€ ìë™ìœ¼ë¡œ ì „íŒŒë¨!
```

---

### 4.3 ì–´í”Œë¦¬ì»¤í‹°ë¸Œ (Applicative)

ë“œë””ì–´ ê³„ì¸µ êµ¬ì¡°ì˜ ì¤‘ê°„ ë‹¨ê³„ì¸ ì–´í”Œë¦¬ì»¤í‹°ë¸Œì…ë‹ˆë‹¤. Functorì™€ Monad ì‚¬ì´ì— ìˆëŠ”ë°, ì‹¤ë¬´ì—ì„œ **í¼ ê²€ì¦**í•  ë•Œ ì •ë§ ìœ ìš©í•©ë‹ˆë‹¤.

#### ğŸ­ ë¹„ìœ : ì€í–‰ ì°½êµ¬

ëª¨ë‚˜ë“œëŠ” **í•œ ì¤„ë¡œ ëŠ˜ì–´ì„  ATM**ì²˜ëŸ¼ ìˆœì°¨ì ì…ë‹ˆë‹¤. ì• ì‚¬ëŒì´ ëë‚˜ì•¼ ë’· ì‚¬ëŒì´ í•  ìˆ˜ ìˆì–´ìš”.

ë°˜ë©´ ì–´í”Œë¦¬ì»¤í‹°ë¸ŒëŠ” **ì—¬ëŸ¬ ê°œì˜ ì€í–‰ ì°½êµ¬**ì™€ ê°™ìŠµë‹ˆë‹¤. ê° ì°½êµ¬ì—ì„œ ë…ë¦½ì ìœ¼ë¡œ ì—…ë¬´ë¥¼ ë³´ê³ , ë§ˆì§€ë§‰ì— ê²°ê³¼ë¥¼ í•©ì¹˜ë©´ ë©ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Applicative = ë³‘ë ¬ ì€í–‰ ì°½êµ¬                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Monad (ìˆœì°¨ì  - ATM ì¤„):                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”                                 â”‚
â”‚  â”‚ 1ë²ˆ â”‚â”€â”€â”€â†’â”‚ 2ë²ˆ â”‚â”€â”€â”€â†’â”‚ 3ë²ˆ â”‚   ì• ì‚¬ëŒ ëë‚˜ì•¼ ë‹¤ìŒ!         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚  ì´ì „ ê²°ê³¼ê°€ ë‹¤ìŒ ì…ë ¥ìœ¼ë¡œ í•„ìš”í•¨                               â”‚
â”‚                                                                 â”‚
â”‚  Applicative (ë…ë¦½ì  - ì—¬ëŸ¬ ì°½êµ¬):                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”                                                        â”‚
â”‚  â”‚ 1ë²ˆ â”‚â”€â”€â”                                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜  â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚  â”‚ 2ë²ˆ â”‚â”€â”€â”¼â”€â”€â”€â†’â”‚ ê²°ê³¼ í•©ì¹¨ â”‚   ê°ì ë…ë¦½! ë§ˆì§€ë§‰ì— í•©ì¹¨        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”  â”‚                                                     â”‚
â”‚  â”‚ 3ë²ˆ â”‚â”€â”€â”˜                                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜                                                        â”‚
â”‚  ì„œë¡œ ì˜ì¡´í•˜ì§€ ì•ŠìŒ                                             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Monad vs Applicative: í•µì‹¬ ì°¨ì´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Monad vs Applicative ì°¨ì´                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Monad (flatMap):                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                               â”‚
â”‚  â€¢ ì´ì „ ê²°ê³¼ë¥¼ ë³´ê³  ë‹¤ìŒ ê³„ì‚° ê²°ì •                              â”‚
â”‚  â€¢ ì‹¤íŒ¨í•˜ë©´ ì¦‰ì‹œ ì¤‘ë‹¨ (fail-fast)                               â”‚
â”‚  â€¢ ìˆœì°¨ì  ì˜ì¡´ ê´€ê³„                                             â”‚
â”‚                                                                 â”‚
â”‚  userId.flatMap(id ->                                          â”‚
â”‚      findUser(id).flatMap(user ->      // user ìˆì–´ì•¼ ë‹¤ìŒ ê°€ëŠ¥â”‚
â”‚          findAddress(user.addressId()) // addressIdê°€ í•„ìš”!    â”‚
â”‚      )                                                          â”‚
â”‚  )                                                              â”‚
â”‚                                                                 â”‚
â”‚  Applicative (combine / ap):                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                      â”‚
â”‚  â€¢ ê³„ì‚°ë“¤ì´ ì„œë¡œ ë…ë¦½ì                                          â”‚
â”‚  â€¢ ëª¨ë“  ì—ëŸ¬ ìˆ˜ì§‘ ê°€ëŠ¥ (error accumulation)                     â”‚
â”‚  â€¢ ë³‘ë ¬ ì‹¤í–‰ ê°€ëŠ¥                                               â”‚
â”‚                                                                 â”‚
â”‚  combine(                                                       â”‚
â”‚      validateName(input.name),      // ë…ë¦½!                   â”‚
â”‚      validateEmail(input.email),    // ë…ë¦½!                   â”‚
â”‚      validateAge(input.age)         // ë…ë¦½!                   â”‚
â”‚  ).map(User::new)                   // ì „ë¶€ ì„±ê³µí•˜ë©´ í•©ì¹¨      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Validation: ì–´í”Œë¦¬ì»¤í‹°ë¸Œì˜ ê½ƒ

í¼ ê²€ì¦ì„ ìƒê°í•´ë³´ì„¸ìš”. ì´ë¦„, ì´ë©”ì¼, ë‚˜ì´ ê²€ì¦ì€ ì„œë¡œ ë…ë¦½ì ì…ë‹ˆë‹¤. Monad(Result)ë¥¼ ì“°ë©´ ì²« ë²ˆì§¸ ì—ëŸ¬ì—ì„œ ë©ˆì¶”ì§€ë§Œ, **Validation**ì„ ì“°ë©´ ëª¨ë“  ì—ëŸ¬ë¥¼ í•œ ë²ˆì— ìˆ˜ì§‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java
// src/main/java/com/example/fp/ValidationDemo.java

// Validation: ì—ëŸ¬ë¥¼ ìˆ˜ì§‘í•˜ëŠ” íƒ€ì…
public sealed interface Validation<E, A>
        permits Valid, Invalid {

    // ê²€ì¦ ì„±ê³µ
    record Valid<E, A>(A value) implements Validation<E, A> {}

    // ê²€ì¦ ì‹¤íŒ¨ (ì—ëŸ¬ ëª©ë¡ - í•˜ë‚˜ ì´ìƒ!)
    record Invalid<E, A>(List<E> errors) implements Validation<E, A> {}

    // mapì€ í‘í„°ì²˜ëŸ¼ ë™ì‘
    default <B> Validation<E, B> map(Function<A, B> f) {
        return switch (this) {
            case Valid<E, A> v -> new Valid<>(f.apply(v.value()));
            case Invalid<E, A> i -> new Invalid<>(i.errors());
        };
    }

    // â­ combine: ì–´í”Œë¦¬ì»¤í‹°ë¸Œì˜ í•µì‹¬!
    static <E, A, B, C> Validation<E, C> combine(
            Validation<E, A> va,
            Validation<E, B> vb,
            BiFunction<A, B, C> f
    ) {
        return switch (va) {
            case Valid<E, A> a -> switch (vb) {
                case Valid<E, B> b -> new Valid<>(f.apply(a.value(), b.value()));
                case Invalid<E, B> ib -> new Invalid<>(ib.errors());
            };
            case Invalid<E, A> ia -> switch (vb) {
                case Valid<E, B> b -> new Invalid<>(ia.errors());
                case Invalid<E, B> ib -> {
                    // âœ¨ ì—ëŸ¬ í•©ì¹˜ê¸°! (ëª¨ë…¸ì´ë“œ ì‚¬ìš©)
                    var combined = new ArrayList<>(ia.errors());
                    combined.addAll(ib.errors());
                    yield new Invalid<>(combined);
                }
            };
        };
    }
}
```

#### ì‹¤ì „: í¼ ê²€ì¦ ì˜ˆì œ

```java
// src/main/java/com/example/fp/FormValidation.java

public class FormValidation {

    record CreateUserRequest(String name, String email, int age) {}
    record User(String name, Email email, Age age) {}

    // ê° í•„ë“œë³„ ê²€ì¦ í•¨ìˆ˜ (ì„œë¡œ ë…ë¦½!)
    Validation<String, String> validateName(String name) {
        if (name == null || name.isBlank()) {
            return new Invalid<>(List.of("ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤"));
        }
        if (name.length() < 2) {
            return new Invalid<>(List.of("ì´ë¦„ì€ 2ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤"));
        }
        return new Valid<>(name.trim());
    }

    Validation<String, Email> validateEmail(String email) {
        if (email == null || !email.contains("@")) {
            return new Invalid<>(List.of("ìœ íš¨í•œ ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”"));
        }
        return new Valid<>(new Email(email));
    }

    Validation<String, Age> validateAge(int age) {
        if (age < 0 || age > 150) {
            return new Invalid<>(List.of("ë‚˜ì´ëŠ” 0~150 ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤"));
        }
        return new Valid<>(new Age(age));
    }

    // âŒ Result(Monad) ì‚¬ìš© ì‹œ: ì²« ì—ëŸ¬ì—ì„œ ì¤‘ë‹¨!
    Result<String, User> validateWithResult(CreateUserRequest req) {
        return validateName(req.name())
            .flatMap(name -> validateEmail(req.email())
                .flatMap(email -> validateAge(req.age())
                    .map(age -> new User(name, email, age))));
        // ì´ë¦„ì´ ì˜ëª»ë˜ë©´ ì´ë©”ì¼/ë‚˜ì´ ì—ëŸ¬ëŠ” ëª» ë´„!
    }

    // âœ… Validation(Applicative) ì‚¬ìš© ì‹œ: ëª¨ë“  ì—ëŸ¬ ìˆ˜ì§‘!
    Validation<String, User> validateWithValidation(CreateUserRequest req) {
        return Validation.combine3(
            validateName(req.name()),
            validateEmail(req.email()),
            validateAge(req.age()),
            User::new   // ì„¸ ê²€ì¦ ëª¨ë‘ ì„±ê³µí•˜ë©´ User ìƒì„±
        );
        // ëª¨ë“  í•„ë“œì˜ ì—ëŸ¬ë¥¼ í•œ ë²ˆì— ë°˜í™˜!
    }
}

// ì‚¬ìš© ì˜ˆì‹œ
var request = new CreateUserRequest("", "bad-email", -5);
var result = formValidation.validateWithValidation(request);
// Invalid([
//   "ì´ë¦„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤",
//   "ìœ íš¨í•œ ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”",
//   "ë‚˜ì´ëŠ” 0~150 ì‚¬ì´ì—¬ì•¼ í•©ë‹ˆë‹¤"
// ])
// ì„¸ ê°œì˜ ì—ëŸ¬ê°€ í•œ ë²ˆì—! ğŸ˜Š
```

#### ì™œ Validationì€ Monadê°€ ë  ìˆ˜ ì—†ëŠ”ê°€?

ì´ ì§ˆë¬¸ì€ ë©´ì ‘ì—ì„œë„ ì¢…ì¢… ë‚˜ì˜µë‹ˆë‹¤. í•µì‹¬ì€ **ëª¨ë‚˜ë“œ ë²•ì¹™**ì„ ìœ„ë°˜í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Validationì´ Monadê°€ ë  ìˆ˜ ì—†ëŠ” ì´ìœ                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Monadì˜ flatMapì€ "ì• ê²°ê³¼ë¥¼ ë³´ê³  ë‹¤ìŒì„ ê²°ì •"í•´ì•¼ í•¨:        â”‚
â”‚                                                                 â”‚
â”‚  Invalid([ì—ëŸ¬1]).flatMap(a ->                                  â”‚
â”‚      // ì—¬ê¸°ì„œ 'a'ê°€ ì—†ëŠ”ë° ì–´ë–»ê²Œ ë‹¤ìŒ ê²€ì¦ì„ í˜¸ì¶œí•˜ì§€?        â”‚
â”‚      validateSomething(a)  // ğŸ’¥ aê°€ ì—†ìŒ!                     â”‚
â”‚  )                                                              â”‚
â”‚                                                                 â”‚
â”‚  ë§Œì•½ ì–µì§€ë¡œ flatMapì„ êµ¬í˜„í•˜ë©´?                                â”‚
â”‚  - ì•ì´ Invalidë©´ ë’¤ëŠ” ì‹¤í–‰ ë¶ˆê°€ â†’ ì—ëŸ¬ ìˆ˜ì§‘ ë¶ˆê°€!             â”‚
â”‚  - ì´ëŸ¬ë©´ ê·¸ëƒ¥ Resultì™€ ê°™ì•„ì§                                  â”‚
â”‚                                                                 â”‚
â”‚  ê²°ë¡ :                                                          â”‚
â”‚  â”€â”€â”€â”€â”€                                                          â”‚
â”‚  â€¢ ì—ëŸ¬ ìˆ˜ì§‘ì„ ìœ„í•´ì„  ëª¨ë“  ê²€ì¦ì´ "ë…ë¦½ì "ì´ì–´ì•¼ í•¨             â”‚
â”‚  â€¢ flatMapì€ "ìˆœì°¨ì  ì˜ì¡´"ì„ ì „ì œë¡œ í•¨                         â”‚
â”‚  â€¢ ì´ ë‘˜ì€ ë³¸ì§ˆì ìœ¼ë¡œ ì¶©ëŒ!                                     â”‚
â”‚                                                                 â”‚
â”‚  Validationì€ Applicativeì´ì§€ë§Œ MonadëŠ” ì•„ë‹˜                   â”‚
â”‚  Result/EitherëŠ” Monadì´ì Applicative (í•˜ì§€ë§Œ ì—ëŸ¬ ìˆ˜ì§‘ ë¶ˆê°€) â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Result vs Validation: ì–¸ì œ ë¬´ì—‡ì„ ì“¸ê¹Œ?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Result vs Validation ì„ íƒ ê°€ì´ë“œ                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Result<T, E> (Monad) ì‚¬ìš©:                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                    â”‚
â”‚  â€¢ ìˆœì°¨ì  íŒŒì´í”„ë¼ì¸ (ì• ë‹¨ê³„ ì„±ê³µí•´ì•¼ ë‹¤ìŒ ê°€ëŠ¥)              â”‚
â”‚  â€¢ ì™¸ë¶€ API í˜¸ì¶œ ì²´ì´ë‹                                        â”‚
â”‚  â€¢ ê²°ì œ ì²˜ë¦¬ ê°™ì€ íŠ¸ëœì­ì…˜                                     â”‚
â”‚  â€¢ ì²« ì‹¤íŒ¨ì—ì„œ ì¤‘ë‹¨í•´ë„ ë˜ëŠ” ê²½ìš°                              â”‚
â”‚                                                                 â”‚
â”‚  ì˜ˆ: ê²°ì œ íë¦„                                                  â”‚
â”‚  validateOrder â†’ reserveStock â†’ processPayment â†’ sendEmail    â”‚
â”‚  (ì• ë‹¨ê³„ ì‹¤íŒ¨í•˜ë©´ ë’¤ëŠ” ì˜ë¯¸ ì—†ìŒ)                             â”‚
â”‚                                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                                                 â”‚
â”‚  Validation<E, T> (Applicative) ì‚¬ìš©:                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                           â”‚
â”‚  â€¢ í¼ ê²€ì¦ (ëª¨ë“  í•„ë“œ ë…ë¦½ì )                                  â”‚
â”‚  â€¢ ì„¤ì • íŒŒì¼ íŒŒì‹±                                              â”‚
â”‚  â€¢ ì—¬ëŸ¬ ë…ë¦½ì  ê²€ì¦ ê·œì¹™ ì ìš©                                  â”‚
â”‚  â€¢ ì‚¬ìš©ìì—ê²Œ ëª¨ë“  ì—ëŸ¬ë¥¼ í•œ ë²ˆì— ë³´ì—¬ì¤˜ì•¼ í•  ë•Œ               â”‚
â”‚                                                                 â”‚
â”‚  ì˜ˆ: íšŒì›ê°€ì… í¼                                                â”‚
â”‚  validateName + validateEmail + validatePassword               â”‚
â”‚  (ì„¸ í•„ë“œê°€ ì„œë¡œ ì˜í–¥ ì•ˆ ì¤Œ, ì—ëŸ¬ ì „ë¶€ ë³´ì—¬ì¤˜ì•¼ í•¨)            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ê²°ì • í”Œë¡œìš°ì°¨íŠ¸                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Q: ë‹¨ê³„ë“¤ì´ ì„œë¡œ ì˜ì¡´í•˜ë‚˜ìš”?                                    â”‚
â”‚     â”‚                                                            â”‚
â”‚     â”œâ”€â”€ YES â†’ Result (Monad) ì‚¬ìš©                               â”‚
â”‚     â”‚         "ì• ë‹¨ê³„ ê²°ê³¼ê°€ ë’· ë‹¨ê³„ ì…ë ¥ìœ¼ë¡œ í•„ìš”"             â”‚
â”‚     â”‚                                                            â”‚
â”‚     â””â”€â”€ NO â†’ Q: ëª¨ë“  ì—ëŸ¬ë¥¼ ìˆ˜ì§‘í•´ì•¼ í•˜ë‚˜ìš”?                    â”‚
â”‚               â”‚                                                  â”‚
â”‚               â”œâ”€â”€ YES â†’ Validation (Applicative) ì‚¬ìš©           â”‚
â”‚               â”‚         "í¼ ê²€ì¦, ì„¤ì • íŒŒì‹± ë“±"                  â”‚
â”‚               â”‚                                                  â”‚
â”‚               â””â”€â”€ NO â†’ Resultë„ OK (ë” ê°„ë‹¨)                    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Railway-Oriented Programming (ROP)ê³¼ì˜ ì—°ê²°

ì—¬ê¸°ì„œ ë°°ìš´ Result/Validation íŒ¨í„´ì„ **Railway-Oriented Programming**ì´ë¼ê³ ë„ ë¶€ë¦…ë‹ˆë‹¤. ì² ë„ ë¶„ê¸°ì ì²˜ëŸ¼ ì„±ê³µ/ì‹¤íŒ¨ ë‘ íŠ¸ë™ì„ ë‹¬ë¦¬ëŠ” ê±°ì£ .

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Railway-Oriented Programming                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ì„±ê³µ íŠ¸ë™ (Result.Success / Validation.Valid):                â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â†’     â”‚
â”‚           â”‚              â”‚              â”‚                       â”‚
â”‚           â†“              â†“              â†“                       â”‚
â”‚       [ê²€ì¦1]        [ê²€ì¦2]        [ê²€ì¦3]                    â”‚
â”‚           â”‚              â”‚              â”‚                       â”‚
â”‚           â†“              â†“              â†“                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’     â”‚
â”‚  ì‹¤íŒ¨ íŠ¸ë™ (Result.Failure / Validation.Invalid):              â”‚
â”‚                                                                 â”‚
â”‚  Result: í•˜ë‚˜ë¼ë„ ì‹¤íŒ¨ â†’ ì‹¤íŒ¨ íŠ¸ë™ìœ¼ë¡œ ì§í–‰                    â”‚
â”‚  Validation: ëª¨ë“  ì‹¤íŒ¨ ìˆ˜ì§‘ â†’ ë§ˆì§€ë§‰ì— í•©ì³ì„œ ë°˜í™˜             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. ëŒ€ìˆ˜ì  êµ¬ì¡°

### 5.1 ì„¸ë¯¸ê·¸ë£¹ê³¼ ëª¨ë…¸ì´ë“œ

#### ğŸ­ ë¹„ìœ : ë ˆê³  ë¸”ë¡

ë ˆê³  ë¸”ë¡ì€ ë‘ ê°œë¥¼ ë¶™ì´ë©´ ë” í° ë¸”ë¡ì´ ë˜ì£ . ì„¸ ê°œë¥¼ ë¶™ì¼ ë•Œ (A+B)+Cë‚˜ A+(B+C)ë‚˜ ê²°ê³¼ê°€ ê°™ê³ ìš”. ì´ê²Œ **ì„¸ë¯¸ê·¸ë£¹**ì…ë‹ˆë‹¤. ì—¬ê¸°ì— "ì•„ë¬´ê²ƒë„ ì—†ëŠ” ìƒíƒœ"(ë¹ˆ ë°”ë‹¥íŒ)ë¥¼ ë”í•˜ë©´ **ëª¨ë…¸ì´ë“œ**ê°€ ë©ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ì„¸ë¯¸ê·¸ë£¹ & ëª¨ë…¸ì´ë“œ = ë ˆê³                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ì„¸ë¯¸ê·¸ë£¹: ê²°í•©í•  ìˆ˜ ìˆëŠ” ê²ƒë“¤                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                               â”‚
â”‚   ğŸ§± + ğŸ§± = ğŸ§±ğŸ§±  (ë‘ ë¸”ë¡ â†’ ë” í° ë¸”ë¡)                       â”‚
â”‚                                                                 â”‚
â”‚   ë²•ì¹™: (a + b) + c = a + (b + c)  [ê²°í•©ë²•ì¹™]                  â”‚
â”‚   "ì–´ë””ì„œë¶€í„° ê²°í•©í•˜ë“  ê²°ê³¼ëŠ” ê°™ìŒ"                             â”‚
â”‚                                                                 â”‚
â”‚  ëª¨ë…¸ì´ë“œ: ì„¸ë¯¸ê·¸ë£¹ + ë¹ˆ ì›ì†Œ                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                               â”‚
â”‚   ğŸ§± + âˆ… = ğŸ§±  (ë¸”ë¡ + ë¹ˆë°”ë‹¥ = ê·¸ ë¸”ë¡)                       â”‚
â”‚   âˆ… + ğŸ§± = ğŸ§±  (ë¹ˆë°”ë‹¥ + ë¸”ë¡ = ê·¸ ë¸”ë¡)                       â”‚
â”‚                                                                 â”‚
â”‚   ë²•ì¹™: a + empty = a = empty + a  [í•­ë“±ì›]                    â”‚
â”‚                                                                 â”‚
â”‚  ì‹¤ì œ ì˜ˆì‹œ:                                                     â”‚
â”‚   â€¢ String:  ê²°í•© = +,       ë¹ˆê°’ = ""                         â”‚
â”‚   â€¢ Integer: ê²°í•© = +,       ë¹ˆê°’ = 0                          â”‚
â”‚   â€¢ Integer: ê²°í•© = *,       ë¹ˆê°’ = 1                          â”‚
â”‚   â€¢ List:    ê²°í•© = concat,  ë¹ˆê°’ = []                         â”‚
â”‚   â€¢ Boolean: ê²°í•© = &&,      ë¹ˆê°’ = true                       â”‚
â”‚   â€¢ Boolean: ê²°í•© = ||,      ë¹ˆê°’ = false                      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// src/main/java/com/example/fp/MonoidDemo.java

// ëª¨ë…¸ì´ë“œ ì¸í„°í˜ì´ìŠ¤
public interface Monoid<T> {
    T empty();              // í•­ë“±ì›
    T combine(T a, T b);    // ê²°í•© ì—°ì‚°
    
    // ëª¨ë…¸ì´ë“œì˜ í˜: ì•„ë¬´ ì»¬ë ‰ì…˜ì´ë‚˜ reduce ê°€ëŠ¥!
    default T reduceAll(List<T> items) {
        return items.stream().reduce(empty(), this::combine);
    }
}

// êµ¬ì²´ì ì¸ ëª¨ë…¸ì´ë“œë“¤
public class Monoids {
    
    public static final Monoid<Integer> SUM = new Monoid<>() {
        public Integer empty() { return 0; }
        public Integer combine(Integer a, Integer b) { return a + b; }
    };
    
    public static final Monoid<Integer> PRODUCT = new Monoid<>() {
        public Integer empty() { return 1; }
        public Integer combine(Integer a, Integer b) { return a * b; }
    };
    
    public static final Monoid<String> STRING = new Monoid<>() {
        public String empty() { return ""; }
        public String combine(String a, String b) { return a + b; }
    };
}

// ì‚¬ìš©
public static void main(String[] args) {
    var numbers = List.of(1, 2, 3, 4, 5);
    
    System.out.println(Monoids.SUM.reduceAll(numbers));      // 15
    System.out.println(Monoids.PRODUCT.reduceAll(numbers));  // 120
}
```

#### ì™œ ëª¨ë…¸ì´ë“œê°€ ì¤‘ìš”í•œê°€: ë³‘ë ¬í™”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ëª¨ë…¸ì´ë“œ = ë³‘ë ¬í™” ê°€ëŠ¥                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ê²°í•©ë²•ì¹™ì´ ì„±ë¦½í•˜ë‹ˆê¹Œ ì‘ì—…ì„ ìª¼ê°¤ ìˆ˜ ìˆìŒ!                     â”‚
â”‚                                                                 â”‚
â”‚  ìˆœì°¨: ((((1 + 2) + 3) + 4) + 5) = 15                          â”‚
â”‚                                                                 â”‚
â”‚  ë³‘ë ¬:                                                          â”‚
â”‚       ìŠ¤ë ˆë“œ 1: (1 + 2) = 3                                    â”‚
â”‚       ìŠ¤ë ˆë“œ 2: (3 + 4) = 7                                    â”‚
â”‚       ìŠ¤ë ˆë“œ 3: 5                                               â”‚
â”‚       í•©ì¹˜ê¸°:   (3 + 7) + 5 = 15  âœ… ê²°ê³¼ ê°™ìŒ!                â”‚
â”‚                                                                 â”‚
â”‚  ì´ë˜ì„œ parallelStream().reduce()ê°€ ë™ì‘í•˜ëŠ” ê±°ì„!             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. ëŒ€ìˆ˜ì  ë°ì´í„° íƒ€ì… (ADT)

### 6.1 ê³± íƒ€ì… (Product Type)

#### ğŸ­ ë¹„ìœ : ì‹ ì²­ì„œ ì–‘ì‹

ì‹ ì²­ì„œ ìƒê°í•´ë³´ì„¸ìš”. ì´ë¦„ **ê·¸ë¦¬ê³ ** ë‚˜ì´ **ê·¸ë¦¬ê³ ** ì´ë©”ì¼ì„ ë‹¤ ì±„ì›Œì•¼ í•˜ì£ . ì´ê²Œ ê³± íƒ€ì…ì…ë‹ˆë‹¤. "AND"ë¡œ ì—°ê²°ëœ êµ¬ì¡°.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ê³± íƒ€ì… = AND / ê·¸ë¦¬ê³                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ê³± íƒ€ì…: "A ê·¸ë¦¬ê³  B ê·¸ë¦¬ê³  C"                                â”‚
â”‚                                                                 â”‚
â”‚   Person = ì´ë¦„ AND ë‚˜ì´ AND ì´ë©”ì¼                             â”‚
â”‚                                                                 â”‚
â”‚   ì™œ "ê³±"ì´ëƒ?                                                  â”‚
â”‚   ê°€ëŠ¥í•œ ê°’ì˜ ìˆ˜ = |ì´ë¦„| Ã— |ë‚˜ì´| Ã— |ì´ë©”ì¼|                   â”‚
â”‚   (ê° í•„ë“œ íƒ€ì…ì˜ ê°€ëŠ¥í•œ ê°’ì„ ê³±í•¨)                             â”‚
â”‚                                                                 â”‚
â”‚   ìë°”: record Person(String name, int age, String email) {}   â”‚
â”‚   ì½”í‹€ë¦°: data class Person(val name: String, val age: Int, val email: String)â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 í•© íƒ€ì… (Sum Type)

#### ğŸ­ ë¹„ìœ : ê°ê´€ì‹ ë¬¸ì œ

ê°ê´€ì‹ ë¬¸ì œëŠ” A **ë˜ëŠ”** B **ë˜ëŠ”** C **ë˜ëŠ”** D ì¤‘ í•˜ë‚˜ë§Œ ì„ íƒí•˜ì£ . ì´ê²Œ í•© íƒ€ì…ì…ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     í•© íƒ€ì… = OR / ë˜ëŠ”                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   í•© íƒ€ì…: "A ë˜ëŠ” B ë˜ëŠ” C" (í•˜ë‚˜ë§Œ!)                          â”‚
â”‚                                                                 â”‚
â”‚   ê²°ì œìˆ˜ë‹¨ = ì¹´ë“œ OR ê³„ì¢Œì´ì²´ OR í˜„ê¸ˆ                           â”‚
â”‚                                                                 â”‚
â”‚   ì™œ "í•©"ì´ëƒ?                                                  â”‚
â”‚   ê°€ëŠ¥í•œ ê°’ì˜ ìˆ˜ = |ì¹´ë“œ| + |ê³„ì¢Œì´ì²´| + |í˜„ê¸ˆ|                 â”‚
â”‚   (ê° ì„ íƒì§€ì˜ ê°€ëŠ¥í•œ ê°’ì„ í•©í•¨)                                â”‚
â”‚                                                                 â”‚
â”‚   ìë°”: sealed interface + permits                              â”‚
â”‚   ì½”í‹€ë¦°: sealed class/interface                                â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// src/main/java/com/example/fp/adt/PaymentMethod.java

// ìë°”ì—ì„œ í•© íƒ€ì… (sealed + permits)
public sealed interface PaymentMethod 
        permits CreditCard, BankTransfer, Cash {
    
    // íŒ¨í„´ ë§¤ì¹­ìœ¼ë¡œ ë¹ ì§ì—†ì´ ì²˜ë¦¬!
    static String describe(PaymentMethod method) {
        return switch (method) {
            case CreditCard c -> "ì¹´ë“œ ëë²ˆí˜¸ " + c.last4();
            case BankTransfer b -> b.bankName() + " ê³„ì¢Œì´ì²´";
            case Cash c -> "í˜„ê¸ˆ " + c.amount() + "ì›";
            // default í•„ìš” ì—†ìŒ! ì»´íŒŒì¼ëŸ¬ê°€ ëª¨ë“  ì¼€ì´ìŠ¤ ì²´í¬í•¨
        };
    }
}

// ê° ì„ íƒì§€ (ê³± íƒ€ì…ìœ¼ë¡œ ì •ì˜)
public record CreditCard(String last4, String expiry) implements PaymentMethod {}
public record BankTransfer(String bankName, String accountNumber) implements PaymentMethod {}
public record Cash(BigDecimal amount) implements PaymentMethod {}
```

```kotlin
// src/main/kotlin/com/example/fp/adt/PaymentMethod.kt

// ì½”í‹€ë¦° í•© íƒ€ì…
sealed interface PaymentMethod {
    data class CreditCard(val last4: String, val expiry: String) : PaymentMethod
    data class BankTransfer(val bankName: String, val accountNumber: String) : PaymentMethod
    data class Cash(val amount: BigDecimal) : PaymentMethod
}

// when í‘œí˜„ì‹ìœ¼ë¡œ ë¹ ì§ì—†ì´ ì²˜ë¦¬
fun describe(method: PaymentMethod): String = when (method) {
    is PaymentMethod.CreditCard -> "ì¹´ë“œ ëë²ˆí˜¸ ${method.last4}"
    is PaymentMethod.BankTransfer -> "${method.bankName} ê³„ì¢Œì´ì²´"
    is PaymentMethod.Cash -> "í˜„ê¸ˆ ${method.amount}ì›"
    // ì»´íŒŒì¼ëŸ¬ê°€ ë¹ ì§„ ì¼€ì´ìŠ¤ ì¡ì•„ì¤Œ!
}
```

#### ì‹¤ì „ ì˜ˆì œ: API ì‘ë‹µ ëª¨ë¸ë§

```kotlin
// src/main/kotlin/com/example/fp/adt/ApiResponse.kt

// ê°€ëŠ¥í•œ ëª¨ë“  ìƒíƒœë¥¼ íƒ€ì…ìœ¼ë¡œ ëª…ì‹œ
sealed interface ApiResponse<out T> {
    data class Success<T>(val data: T) : ApiResponse<T>
    data class Error(val code: Int, val message: String) : ApiResponse<Nothing>
    data object Loading : ApiResponse<Nothing>
}

// ViewModelì—ì„œ ì‚¬ìš©
class UserViewModel {
    private val _state = MutableStateFlow<ApiResponse<User>>(ApiResponse.Loading)
    
    suspend fun loadUser(id: Long) {
        _state.value = ApiResponse.Loading
        _state.value = try {
            ApiResponse.Success(userRepository.getUser(id))
        } catch (e: Exception) {
            ApiResponse.Error(500, e.message ?: "ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜")
        }
    }
}

// UIì—ì„œ ëª¨ë“  ìƒíƒœ ì²˜ë¦¬
@Composable
fun UserScreen(response: ApiResponse<User>) {
    when (response) {
        is ApiResponse.Loading -> CircularProgressIndicator()
        is ApiResponse.Success -> UserProfile(response.data)
        is ApiResponse.Error -> ErrorMessage(response.message)
    }
}
```

---

## 7. í‰ê°€ ì „ëµ

### 7.1 ì§€ì—° í‰ê°€ (Lazy Evaluation)

#### ğŸ­ ë¹„ìœ : ë„·í”Œë¦­ìŠ¤ vs DVD

ì˜ˆì „ì— DVD ë¹Œë¦¬ë˜ ì‹œì ˆ ê¸°ì–µë‚˜ì„¸ìš”? ë¯¸ë¦¬ ë‹¤ ë¹Œë ¤ì™€ì•¼ í–ˆì£ . ì•ˆ ë³´ëŠ” ê²ƒë„ ë¹Œë ¤ì˜¤ëŠë¼ ëˆ ë‚­ë¹„. ë°˜ë©´ ë„·í”Œë¦­ìŠ¤ëŠ” ë³´ëŠ” ê²ƒë§Œ ìŠ¤íŠ¸ë¦¬ë°í•©ë‹ˆë‹¤. ì´ê²Œ ì§€ì—° í‰ê°€ì…ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ì§€ì—° vs ì¦‰ì‹œ = ë„·í”Œë¦­ìŠ¤ vs DVD                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ì¦‰ì‹œ í‰ê°€ (DVD):                                               â”‚
â”‚  ëª¨ë“  DVD ë¯¸ë¦¬ êµ¬ë§¤ â†’ ê³µê°„ ì°¨ì§€, ëˆ ë‚­ë¹„                        â”‚
â”‚  2ê°œë§Œ ë³¼ ê±´ë° 100ê°œ ìƒ€ìœ¼ë©´?                                    â”‚
â”‚                                                                 â”‚
â”‚  ì§€ì—° í‰ê°€ (ë„·í”Œë¦­ìŠ¤):                                          â”‚
â”‚  ë³¼ ë•Œë§Œ ìŠ¤íŠ¸ë¦¬ë° â†’ ì‹¤ì œ ë³´ëŠ” ê²ƒë§Œ ë¡œë”©                         â”‚
â”‚  ë¬´í•œ ì¹´íƒˆë¡œê·¸ë„ ê°€ëŠ¥!                                          â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ì¦‰ì‹œ: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, ...] // ë‹¤ ê³„ì‚°! â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚ ì§€ì—°: 1 â†’ 2 â†’ 3 â†’ ... (í•„ìš”í•  ë•Œ ê³„ì‚°)                â”‚    â”‚
â”‚  â”‚      â†‘                                                  â”‚    â”‚
â”‚  â”‚      ìš”ì²­í•˜ê¸° ì „ì—” ì´ê²ƒë§Œ ì¡´ì¬                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```java
// src/main/java/com/example/fp/LazyDemo.java

public class LazyDemo {
    
    // ìë°” Streamì€ ì§€ì—° í‰ê°€!
    public void demonstrateLaziness() {
        // ì•„ì§ ì•„ë¬´ ì¼ë„ ì•ˆ ì¼ì–´ë‚¨! ê·¸ëƒ¥ "ë ˆì‹œí”¼"ë§Œ ì •ì˜
        var stream = Stream.iterate(1, n -> n + 1)  // ë¬´í•œ!
                .filter(n -> {
                    System.out.println("í•„í„°ë§: " + n);
                    return n % 2 == 0;
                })
                .map(n -> {
                    System.out.println("ë§¤í•‘: " + n);
                    return n * 10;
                });
        
        System.out.println("ìŠ¤íŠ¸ë¦¼ ìƒì„±ë¨, ì•„ì§ ì•„ë¬´ê²ƒë„ ì‹¤í–‰ ì•ˆ ë¨!");
        
        // í„°ë¯¸ë„ ì—°ì‚°ì´ ì‹¤í–‰ì„ íŠ¸ë¦¬ê±°
        var result = stream.limit(3).toList();
        // ì¶œë ¥ ë³´ë©´ filter/mapì´ ë²ˆê°ˆì•„ ë‚˜ì˜´ - í•œ ë²ˆì— í•˜ë‚˜ì”© ì²˜ë¦¬!
    }
}
```

```kotlin
// src/main/kotlin/com/example/fp/LazyDemo.kt

// ì½”í‹€ë¦°ì€ lazy ë¸ë¦¬ê²Œì´íŠ¸ ë‚´ì¥
class ExpensiveService {
    // ì²˜ìŒ ì ‘ê·¼í•  ë•Œë§Œ ê³„ì‚°
    val expensiveData: List<Data> by lazy {
        println("ë¹„ì‹¼ ë°ì´í„° ê³„ì‚° ì¤‘...")
        fetchFromDatabase()  // ë”± í•œ ë²ˆë§Œ, í•„ìš”í•  ë•Œë§Œ ì‹¤í–‰
    }
}

// Sequence = ì½”í‹€ë¦°ì˜ ì§€ì—° ì»¬ë ‰ì…˜
fun lazySequenceDemo() {
    val result = generateSequence(1) { it + 1 }  // ë¬´í•œ!
        .filter { println("í•„í„°: $it"); it % 2 == 0 }
        .map { println("ë§µ: $it"); it * 10 }
        .take(3)  // ì•„ì§ ì§€ì—°
        .toList() // í„°ë¯¸ë„: ì—¬ê¸°ì„œ í‰ê°€ ì‹œì‘
}
```

#### ì§€ì—° í‰ê°€ì˜ ì´ì 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ì™œ ì§€ì—° í‰ê°€?                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. ë¬´í•œ êµ¬ì¡° í‘œí˜„ ê°€ëŠ¥                                         â”‚
â”‚     ë¬´í•œ ì‹œí€€ìŠ¤ë„ í„°ì§€ì§€ ì•ŠìŒ                                   â”‚
â”‚                                                                 â”‚
â”‚  2. ì„±ëŠ¥ ìµœì í™”                                                 â”‚
â”‚     í•„ìš”í•œ ê²ƒë§Œ ê³„ì‚° (ì‡¼íŠ¸ì„œí‚·)                                 â”‚
â”‚     stream.filter(...).findFirst()ëŠ” ì²« ë§¤ì¹˜ì—ì„œ ë©ˆì¶¤          â”‚
â”‚                                                                 â”‚
â”‚  3. ë©”ëª¨ë¦¬ íš¨ìœ¨                                                 â”‚
â”‚     ê±°ëŒ€í•œ íŒŒì¼ë„ í•œ ì¤„ì”© ì²˜ë¦¬ ê°€ëŠ¥                             â”‚
â”‚                                                                 â”‚
â”‚  4. ì¡°í•© ìš©ì´                                                   â”‚
â”‚     ì¤‘ê°„ ì»¬ë ‰ì…˜ ì—†ì´ ë³µì¡í•œ íŒŒì´í”„ë¼ì¸ êµ¬ì„±                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. ì‹¤ì „ì—ì„œ ì¡°ë¦½í•˜ê¸°

### ì‹¤ì „ ì˜ˆì œ: ì£¼ë¬¸ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸

ì§€ê¸ˆê¹Œì§€ ë°°ìš´ ê²ƒë“¤ì„ ë‹¤ í•©ì³ë´…ì‹œë‹¤.

```java
// src/main/java/com/example/fp/OrderProcessor.java

public class OrderProcessor {
    
    // ADT: ê°€ëŠ¥í•œ ëª¨ë“  ì£¼ë¬¸ ê²°ê³¼ ìƒíƒœ
    sealed interface OrderResult permits 
            OrderSuccess, ValidationError, PaymentError, InventoryError {}
    
    record OrderSuccess(String orderId, Receipt receipt) implements OrderResult {}
    record ValidationError(List<String> errors) implements OrderResult {}
    record PaymentError(String reason) implements OrderResult {}
    record InventoryError(List<String> unavailableItems) implements OrderResult {}
    
    // ê° ë‹¨ê³„ë³„ ìˆœìˆ˜ í•¨ìˆ˜
    private Function<OrderRequest, Either<ValidationError, ValidatedOrder>> 
            validate = this::validateOrder;
    
    private Function<ValidatedOrder, Either<InventoryError, ReservedOrder>> 
            reserveInventory = this::reserveInventory;
    
    private Function<ReservedOrder, Either<PaymentError, PaidOrder>> 
            processPayment = this::processPayment;
    
    private Function<PaidOrder, OrderSuccess> 
            createReceipt = this::createReceipt;
    
    // ëª¨ë‚˜ë“œ í•©ì„±: ì² ë„ ì§€í–¥ í”„ë¡œê·¸ë˜ë°
    public OrderResult process(OrderRequest request) {
        return validate.apply(request)                          // Either<E, ValidatedOrder>
                .flatMap(reserveInventory)                      // Either<E, ReservedOrder>
                .flatMap(processPayment)                        // Either<E, PaidOrder>
                .map(createReceipt)                             // Either<E, OrderSuccess>
                .fold(
                    error -> error,        // ì™¼ìª½: ì—ëŸ¬ ë°˜í™˜
                    success -> success     // ì˜¤ë¥¸ìª½: ì„±ê³µ ë°˜í™˜
                );
    }
    
    // ê° í•¨ìˆ˜ëŠ” ìˆœìˆ˜í•˜ê³ , í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•˜ê³ , ì¡°í•© ê°€ëŠ¥
    private Either<ValidationError, ValidatedOrder> validateOrder(OrderRequest req) {
        var errors = new ArrayList<String>();
        if (req.items().isEmpty()) errors.add("ì£¼ë¬¸ í•­ëª©ì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤");
        if (req.customerId() == null) errors.add("ê³ ê° IDê°€ í•„ìš”í•©ë‹ˆë‹¤");
        
        return errors.isEmpty() 
                ? Either.right(new ValidatedOrder(req))
                : Either.left(new ValidationError(errors));
    }
    
    // ... ë‚˜ë¨¸ì§€ ìˆœìˆ˜ í•¨ìˆ˜ë“¤
}
```

---

## ğŸ“ ì •ë¦¬: ë¨¸ë¦¿ì† ì§€ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FP ê°œë… ì •ë¦¬                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ê¸°ì´ˆ ì²´ë ¥                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                     â”‚
â”‚  â€¢ ìˆœìˆ˜ í•¨ìˆ˜: f(x)ëŠ” í•­ìƒ ê°™ì€ y ë°˜í™˜                          â”‚
â”‚  â€¢ ë¶ˆë³€ì„±: ë°ì´í„° ì•ˆ ë°”ê¿ˆ, ìƒˆ ë³µì‚¬ë³¸ ë§Œë“¦                       â”‚
â”‚  â€¢ ì°¸ì¡° íˆ¬ëª…ì„±: í‘œí˜„ì‹ì„ ê°’ìœ¼ë¡œ ëŒ€ì²´ ê°€ëŠ¥                       â”‚
â”‚                                                                 â”‚
â”‚  í•¨ìˆ˜ë¥¼ ê°’ì²˜ëŸ¼                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                â”‚
â”‚  â€¢ ì¼ê¸‰ í•¨ìˆ˜: í•¨ìˆ˜ë„ ë³€ìˆ˜ì— ë‹´ê³  ì „ë‹¬ ê°€ëŠ¥                      â”‚
â”‚  â€¢ ê³ ì°¨ í•¨ìˆ˜: í•¨ìˆ˜ë¥¼ ë°›ê±°ë‚˜ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜                       â”‚
â”‚  â€¢ í´ë¡œì €: ìê¸° í™˜ê²½ì„ ê¸°ì–µí•˜ëŠ” í•¨ìˆ˜                            â”‚
â”‚                                                                 â”‚
â”‚  í•¨ìˆ˜ ì¡°ë¦½                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                    â”‚
â”‚  â€¢ í•©ì„±: f.andThen(g) = g(f(x))                                â”‚
â”‚  â€¢ ì»¤ë§: f(a,b,c) â†’ f(a)(b)(c)                                 â”‚
â”‚                                                                 â”‚
â”‚  ì»¨í…Œì´ë„ˆ                                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                     â”‚
â”‚  â€¢ í‘í„°: map() - ì»¨í…Œì´ë„ˆ ì•ˆ ë‚´ìš© ë³€í™˜                         â”‚
â”‚  â€¢ ëª¨ë‚˜ë“œ: flatMap() - ì—°ì‚° ì—°ê²°, ì¤‘ì²© ë°©ì§€                    â”‚
â”‚  â€¢ ì–´í”Œë¦¬ì»¤í‹°ë¸Œ: combine() - ë…ë¦½ ê³„ì‚° ê²°í•©, ì—ëŸ¬ ìˆ˜ì§‘         â”‚
â”‚  â€¢ Result vs Validation: ìˆœì°¨ ì˜ì¡´ vs ë…ë¦½ ê²€ì¦                â”‚
â”‚                                                                 â”‚
â”‚  ëŒ€ìˆ˜ì  êµ¬ì¡°                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€                                                        â”‚
â”‚  â€¢ ëª¨ë…¸ì´ë“œ: combine() + empty - reduce/fold ê°€ëŠ¥              â”‚
â”‚  â€¢ ADT: ê³± íƒ€ì…(AND) + í•© íƒ€ì…(OR)                             â”‚
â”‚                                                                 â”‚
â”‚  í‰ê°€ ì „ëµ                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                     â”‚
â”‚  â€¢ ì§€ì—° í‰ê°€: í•„ìš”í•  ë•Œë§Œ ê³„ì‚°                                  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“– ë‹¤ìŒ ë‹¨ê³„

1. **Result/Validation ì—°ìŠµ** - ì² ë„ íŒ¨í„´ê³¼ ì—ëŸ¬ ìˆ˜ì§‘ ì²´í™”í•˜ê¸°
2. **Vavr ë¼ì´ë¸ŒëŸ¬ë¦¬** - ìë°”ìš© ë³¸ê²© FP ë¼ì´ë¸ŒëŸ¬ë¦¬ (Either, Validation, Try ë“±)
3. **Arrow-kt** - ì½”í‹€ë¦°ìš© ì¢…í•© FP ë¼ì´ë¸ŒëŸ¬ë¦¬ (Validated, Either ë“±)
4. **"Functional Programming in Kotlin"** - ê¹Šì´ ìˆëŠ” í•™ìŠµìš©

---

> **"ì¼ê¸‰ í•¨ìˆ˜ëŠ” í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ìœ¼ë¡œ ê°€ëŠ” ì…ë¬¸ ì•½ë¬¼ì´ë‹¤."** â€” ëˆ„êµ°ê°€

> **"ëª¨ë‚˜ë“œëŠ” ìê¸°í•¨ì ë²”ì£¼ì˜ ëª¨ë…¸ì´ë“œì¼ ë¿ì´ì•¼."** â€” ì´ ê°€ì´ë“œ ë‹¤ ì½ìœ¼ë©´ ì´í•´ë  ë†ë‹´ ğŸ˜„
